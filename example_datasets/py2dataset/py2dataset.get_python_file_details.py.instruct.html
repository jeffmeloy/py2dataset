
        <html>
        <head>
            <style>
                table {border-collapse: collapse;width: 100%;}
                th, td {border: 1px solid black; padding: 8px; text-align: left; white-space: pre-line;}
                td:nth-child(2) { width: 50%; overflow-wrap: anywhere;}
            </style>
        </head>
        <body>
            <table>
                <thead>
                    <tr>
        <th>instruction</th><th>input</th><th>output</th>
                    </tr>
                </thead>
                <tbody>
        <tr><td>What are the dependencies of the Python file: &#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>&quot;&quot;&quot;<br/>Use&nbsp;AST&nbsp;to&nbsp;extract&nbsp;details&nbsp;from&nbsp;Python&nbsp;a&nbsp;file&nbsp;and&nbsp;return&nbsp;as&nbsp;a&nbsp;dictionary.<br/>Requirements:<br/>[req01]&nbsp;The&nbsp;`ControlFlowVisitor`&nbsp;class&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Inherit&nbsp;from&nbsp;`ast.NodeVisitor`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Visit&nbsp;nodes&nbsp;in&nbsp;the&nbsp;AST&nbsp;to&nbsp;extract&nbsp;control&nbsp;flow&nbsp;keywords,&nbsp;providing&nbsp;a&nbsp;high-level&nbsp;understanding&nbsp;of&nbsp;the&nbsp;program&nbsp;flow.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Provide&nbsp;the&nbsp;ability&nbsp;to&nbsp;retrieve&nbsp;a&nbsp;string&nbsp;representation&nbsp;of&nbsp;the&nbsp;control&nbsp;flow&nbsp;of&nbsp;the&nbsp;program&nbsp;using&nbsp;the&nbsp;`get_control_flow`&nbsp;method.<br/>[req02]&nbsp;The&nbsp;`CodeVisitor`&nbsp;class&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Inherit&nbsp;from&nbsp;`ast.NodeVisitor`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Traverse&nbsp;an&nbsp;AST&nbsp;to&nbsp;extract&nbsp;extensive&nbsp;details&nbsp;about&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Have&nbsp;methods&nbsp;to&nbsp;visit&nbsp;`FunctionDef`&nbsp;and&nbsp;`ClassDef`&nbsp;nodes,&nbsp;extracting&nbsp;details&nbsp;about&nbsp;functions&nbsp;and&nbsp;classes&nbsp;respectively.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Analyze&nbsp;a&nbsp;node&nbsp;and&nbsp;populate&nbsp;the&nbsp;`file_info`&nbsp;attribute&nbsp;with&nbsp;comprehensive&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Maintain&nbsp;and&nbsp;populate&nbsp;details&nbsp;about&nbsp;functions,&nbsp;classes,&nbsp;methods,&nbsp;and&nbsp;attributes.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f.&nbsp;Handle&nbsp;and&nbsp;manage&nbsp;class&nbsp;attributes,&nbsp;methods,&nbsp;inheritance,&nbsp;and&nbsp;static&nbsp;methods,&nbsp;populating&nbsp;the&nbsp;relevant&nbsp;information&nbsp;as&nbsp;needed.<br/>[req03]&nbsp;The&nbsp;`get_control_flow`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;string&nbsp;containing&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Return&nbsp;control&nbsp;flow&nbsp;keywords&nbsp;present&nbsp;in&nbsp;the&nbsp;code.<br/>[req04]&nbsp;The&nbsp;`code_graph`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;file&nbsp;summary&nbsp;as&nbsp;its&nbsp;input.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Construct&nbsp;a&nbsp;dictionary&nbsp;representation&nbsp;that&nbsp;includes&nbsp;nodes&nbsp;and&nbsp;edges,&nbsp;illustrating&nbsp;relationships&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Define&nbsp;various&nbsp;elements&nbsp;like&nbsp;function&nbsp;nodes,&nbsp;class&nbsp;nodes,&nbsp;method&nbsp;nodes.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Define&nbsp;the&nbsp;edges&nbsp;to&nbsp;depict&nbsp;relationships&nbsp;like&nbsp;function&nbsp;calls,&nbsp;method&nbsp;calls,&nbsp;and&nbsp;class&nbsp;inheritance.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Return&nbsp;the&nbsp;dictionary&nbsp;representation&nbsp;of&nbsp;the&nbsp;code&nbsp;graph.<br/>[req05]&nbsp;The&nbsp;`get_python_file_details`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;file&nbsp;path&nbsp;as&nbsp;an&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Extract&nbsp;details&nbsp;from&nbsp;the&nbsp;specified&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Include&nbsp;the&nbsp;internal&nbsp;file&nbsp;graph&nbsp;and&nbsp;entire&nbsp;file&nbsp;graph&nbsp;in&nbsp;the&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Return&nbsp;a&nbsp;dictionary&nbsp;containing&nbsp;these&nbsp;details.<br/>&quot;&quot;&quot;<br/>import&nbsp;ast<br/>import&nbsp;re<br/>import&nbsp;json<br/>import&nbsp;logging<br/>import&nbsp;networkx&nbsp;as&nbsp;nx<br/>from&nbsp;typing&nbsp;import&nbsp;Dict,&nbsp;List,&nbsp;Optional,&nbsp;Union<br/><br/><br/>class&nbsp;ControlFlowVisitor(ast.NodeVisitor):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;This&nbsp;class&nbsp;inherits&nbsp;from&nbsp;ast.NodeVisitor&nbsp;and&nbsp;is&nbsp;used&nbsp;to&nbsp;visit&nbsp;nodes&nbsp;in&nbsp;the<br/>&nbsp;&nbsp;&nbsp;&nbsp;AST&nbsp;(Abstract&nbsp;Syntax&nbsp;Tree).It&nbsp;extracts&nbsp;control&nbsp;flow&nbsp;keywords&nbsp;to&nbsp;give&nbsp;a&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;high-level&nbsp;understanding&nbsp;of&nbsp;the&nbsp;program&nbsp;flow.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_type_to_keyword&nbsp;(dict):&nbsp;A&nbsp;dictionary&nbsp;mapping&nbsp;AST&nbsp;node&nbsp;types&nbsp;to&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;corresponding&nbsp;control&nbsp;flow&nbsp;keywords.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;control_flow&nbsp;(list):&nbsp;A&nbsp;list&nbsp;storing&nbsp;the&nbsp;sequence&nbsp;of&nbsp;control&nbsp;flow&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;keywords&nbsp;encountered&nbsp;in&nbsp;the&nbsp;AST.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;__init__():&nbsp;Initializes&nbsp;a&nbsp;new&nbsp;instance&nbsp;of&nbsp;the&nbsp;class,&nbsp;setting&nbsp;up&nbsp;the<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;control&nbsp;flow&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generic_visit(node):&nbsp;Method&nbsp;to&nbsp;visit&nbsp;a&nbsp;node.&nbsp;If&nbsp;the&nbsp;node&nbsp;type&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;corresponds&nbsp;to&nbsp;a&nbsp;control&nbsp;flow&nbsp;keyword,&nbsp;it&nbsp;is&nbsp;added&nbsp;to&nbsp;the&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;control_flow&nbsp;list.&nbsp;The&nbsp;method&nbsp;then&nbsp;calls&nbsp;the&nbsp;inherited<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generic_visit&nbsp;to&nbsp;continue&nbsp;visiting&nbsp;other&nbsp;nodes.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;get_control_flow():&nbsp;Returns&nbsp;a&nbsp;string&nbsp;representing&nbsp;the&nbsp;control&nbsp;flow&nbsp;of<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;program.&nbsp;The&nbsp;control&nbsp;flow&nbsp;keywords&nbsp;are&nbsp;joined&nbsp;in&nbsp;the&nbsp;order&nbsp;they<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;were&nbsp;encountered&nbsp;during&nbsp;the&nbsp;AST&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;node_type_to_keyword&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast.If:&nbsp;&quot;if&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast.While:&nbsp;&quot;while&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast.For:&nbsp;&quot;for&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast.AsyncFor:&nbsp;&quot;for&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast.AsyncWith:&nbsp;&quot;with&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast.Try:&nbsp;&quot;try&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast.With:&nbsp;&quot;with&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast.ExceptHandler:&nbsp;&quot;except&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast.FunctionDef:&nbsp;&quot;def&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast.AsyncFunctionDef:&nbsp;&quot;def&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast.ClassDef:&nbsp;&quot;class&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast.Module:&nbsp;&quot;module&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.control_flow&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;generic_visit(self,&nbsp;node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;keyword&nbsp;=&nbsp;self.node_type_to_keyword.get(type(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;keyword:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;isinstance(node,&nbsp;ast.FunctionDef):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.control_flow.append(keyword&nbsp;+&nbsp;&#x27;&nbsp;&#x27;&nbsp;+&nbsp;node.name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.control_flow.append(keyword)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;super().generic_visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_control_flow(self):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;&nbsp;-&gt;&nbsp;&#x27;.join(self.control_flow)<br/><br/>def&nbsp;get_all_calls(node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Recursively&nbsp;find&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;`node`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;calls&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;child&nbsp;in&nbsp;ast.iter_child_nodes(node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;isinstance(child,&nbsp;ast.Call):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls.append(child)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls.extend(get_all_calls(child))<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;calls<br/><br/>class&nbsp;CodeVisitor(ast.NodeVisitor):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Visitor&nbsp;class&nbsp;for&nbsp;traversing&nbsp;an&nbsp;AST&nbsp;(Abstract&nbsp;Syntax&nbsp;Tree)&nbsp;and&nbsp;extracting<br/>&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;about&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;(str):&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;functions(Dict):&nbsp;details&nbsp;about&nbsp;functions&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;classes&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;classes&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_info&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_FunctionDef(node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:&nbsp;Extract&nbsp;details&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_ClassDef(node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;extract_details(node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;analyze(node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:&nbsp;Populate&nbsp;file_info&nbsp;with&nbsp;details&nbsp;about<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;code:&nbsp;str):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;initialize&nbsp;dictionaries&nbsp;to&nbsp;store&nbsp;function,&nbsp;class,&nbsp;and&nbsp;file&nbsp;definitions<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.code:&nbsp;str&nbsp;=&nbsp;code<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info:&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class:&nbsp;str&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_FunctionDef(self,&nbsp;node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.current_class:&nbsp;#&nbsp;if&nbsp;inside&nbsp;a&nbsp;class,&nbsp;add&nbsp;this&nbsp;function&nbsp;as&nbsp;a&nbsp;method&nbsp;of&nbsp;the&nbsp;class<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][f&#x27;class_method_{node.name}&#x27;]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;method&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:&nbsp;#&nbsp;populate&nbsp;function&nbsp;dictionary&nbsp;when&nbsp;function&nbsp;definition&nbsp;found&nbsp;in&nbsp;AST<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions[node.name]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;function&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)&nbsp;#&nbsp;continue&nbsp;AST&nbsp;traversal&nbsp;to&nbsp;the&nbsp;next&nbsp;node<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_ClassDef(self,&nbsp;node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[node.name]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;class&#x27;)&nbsp;#&nbsp;populate&nbsp;class&nbsp;dictionary&nbsp;when&nbsp;class&nbsp;definition&nbsp;found&nbsp;in&nbsp;AST<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;node.name&nbsp;&nbsp;#&nbsp;set&nbsp;current_class&nbsp;to&nbsp;indicate&nbsp;inside&nbsp;a&nbsp;class<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)&nbsp;#&nbsp;continue&nbsp;AST&nbsp;traversal&nbsp;to&nbsp;the&nbsp;next&nbsp;node<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;None&nbsp;&nbsp;#&nbsp;reset&nbsp;current_class&nbsp;when&nbsp;finished&nbsp;with&nbsp;this&nbsp;class<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;extract_details(self,&nbsp;node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_name&quot;:&nbsp;node.name,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_code&quot;:&nbsp;ast.unparse(node),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_ast&quot;:&nbsp;ast.dump(node,&nbsp;include_attributes=True),&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_docstring&quot;:&nbsp;ast.get_docstring(node),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_inputs&quot;:&nbsp;[arg.arg&nbsp;for&nbsp;arg&nbsp;in&nbsp;node.args.args]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_defaults&quot;:&nbsp;[ast.unparse(d)&nbsp;for&nbsp;d&nbsp;in&nbsp;node.args.defaults]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_returns&quot;:&nbsp;[ast.unparse(subnode.value)&nbsp;if&nbsp;subnode.value&nbsp;is&nbsp;not&nbsp;None&nbsp;else&nbsp;&quot;None&quot;&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Return)],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_calls&quot;:&nbsp;list({ast.unparse(n.func)&nbsp;for&nbsp;n&nbsp;in&nbsp;get_all_calls(node)}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_variables&quot;:&nbsp;list({ast.unparse(target)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Name)}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_decorators&quot;:&nbsp;list({ast.unparse(decorator)&nbsp;for&nbsp;decorator&nbsp;in&nbsp;node.decorator_list}&nbsp;if&nbsp;node.decorator_list&nbsp;else&nbsp;set()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_annotations&quot;:&nbsp;list({ast.unparse(subnode.annotation)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.AnnAssign)&nbsp;and&nbsp;subnode.annotation&nbsp;is&nbsp;not&nbsp;None}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_properties&quot;:&nbsp;list({ast.unparse(subnode)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(subnode.ctx,&nbsp;ast.Store)}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;class&#x27;&nbsp;or&nbsp;node_type&nbsp;==&nbsp;&#x27;method&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;method&#x27;&nbsp;and&nbsp;self.current_class:&nbsp;#&nbsp;find&nbsp;attributes&nbsp;defined&nbsp;as&nbsp;self.attribute<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attributes&nbsp;=&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(target.value,&nbsp;ast.Name)&nbsp;and&nbsp;target.value.id&nbsp;==&nbsp;&#x27;self&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;attributes:&nbsp;#&nbsp;if&nbsp;this&nbsp;class&nbsp;already&nbsp;has&nbsp;some&nbsp;attributes,&nbsp;add&nbsp;to&nbsp;them<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&quot;class_attributes&quot;&nbsp;in&nbsp;self.classes[self.current_class]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][&quot;class_attributes&quot;].extend(attributes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:&nbsp;#&nbsp;otherwise,&nbsp;start&nbsp;a&nbsp;new&nbsp;list&nbsp;of&nbsp;attributes&nbsp;for&nbsp;this&nbsp;class<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][&quot;class_attributes&quot;]&nbsp;=&nbsp;attributes<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details.update({<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;class_attributes&quot;:&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;class_methods&quot;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&quot;__init__&quot;],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;class_inheritance&quot;:&nbsp;[ast.unparse(base)&nbsp;for&nbsp;base&nbsp;in&nbsp;node.bases]&nbsp;if&nbsp;node.bases&nbsp;else&nbsp;[],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;class_static_methods&quot;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&quot;__init__&quot;&nbsp;and&nbsp;any(isinstance(decorator,&nbsp;ast.Name)&nbsp;and&nbsp;decorator.id&nbsp;==&nbsp;&quot;staticmethod&quot;&nbsp;for&nbsp;decorator&nbsp;in&nbsp;subnode.decorator_list)],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;details<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;analyze(self,&nbsp;node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;traverse&nbsp;the&nbsp;AST&nbsp;rooted&nbsp;at&nbsp;&#x27;node&#x27;,&nbsp;create&nbsp;a&nbsp;list&nbsp;of&nbsp;all&nbsp;nodes&nbsp;within&nbsp;the&nbsp;current&nbsp;file,&nbsp;and&nbsp;populate&nbsp;&#x27;file_info&#x27;&nbsp;with&nbsp;file&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;file_code&quot;:&nbsp;self.code,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;file_ast&quot;&nbsp;:&nbsp;ast.dump(node),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;file_dependencies&quot;:&nbsp;list({alias.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Import)&nbsp;for&nbsp;alias&nbsp;in&nbsp;subnode.names}&nbsp;|&nbsp;{subnode.module&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.ImportFrom)}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;file_functions&quot;:&nbsp;list(self.functions.keys()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;file_classes&quot;:&nbsp;list(self.classes.keys()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;file_control_flow&quot;:&nbsp;get_control_flow(self.code),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;add&nbsp;file_summary&nbsp;to&nbsp;file_info<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_defs&nbsp;=&nbsp;[{func_name:&nbsp;{&quot;inputs&quot;:&nbsp;details[&quot;function_inputs&quot;],&nbsp;&quot;calls&quot;:&nbsp;details[&quot;function_calls&quot;],&nbsp;&quot;returns&quot;:&nbsp;details[&quot;function_returns&quot;]}}&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;self.functions.items()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;self.classes.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;details&nbsp;in&nbsp;class_details.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;method_name.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs[method_name[len(&#x27;class_method_&#x27;):]]&nbsp;=&nbsp;{&quot;inputs&quot;:&nbsp;details[&quot;method_inputs&quot;],&nbsp;&quot;calls&quot;:&nbsp;details[&quot;method_calls&quot;],&nbsp;&quot;returns&quot;:&nbsp;details[&quot;method_returns&quot;]}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs.append({class_name:&nbsp;{&quot;method_defs&quot;:&nbsp;method_defs}})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&quot;file_summary&quot;]&nbsp;=&nbsp;{&nbsp;&#x27;dependencies&#x27;:&nbsp;self.file_info[&quot;file_dependencies&quot;],&nbsp;&#x27;function_defs&#x27;&nbsp;:&nbsp;function_defs,&nbsp;&#x27;class_defs&#x27;&nbsp;:&nbsp;class_defs}<br/><br/><br/>def&nbsp;get_control_flow(code:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;control&nbsp;flow&nbsp;keywords&nbsp;from&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code:&nbsp;str:&nbsp;The&nbsp;source&nbsp;code&nbsp;to&nbsp;extract&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;control&nbsp;flow&nbsp;keywords&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor&nbsp;=&nbsp;ControlFlowVisitor()<br/>&nbsp;&nbsp;&nbsp;&nbsp;tree&nbsp;=&nbsp;ast.parse(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor.visit(tree)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;visitor.get_control_flow()<br/><br/><br/>def&nbsp;code_graph(file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]],&nbsp;internal_only:&nbsp;bool&nbsp;=&nbsp;True)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[List[str],&nbsp;Dict[str,&nbsp;List[str]]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Create&nbsp;a&nbsp;dictionary&nbsp;representation&nbsp;of&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;internal_only:&nbsp;bool:&nbsp;If&nbsp;True,&nbsp;only&nbsp;include&nbsp;function&nbsp;calls&nbsp;where&nbsp;both&nbsp;the&nbsp;caller&nbsp;and&nbsp;called&nbsp;function&nbsp;are&nbsp;within&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dict:&nbsp;A&nbsp;dictionary&nbsp;with&nbsp;nodes&nbsp;and&nbsp;edges&nbsp;representing&nbsp;the&nbsp;relationships<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;G&nbsp;=&nbsp;nx.DiGraph()<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Create&nbsp;lookup&nbsp;dictionaries&nbsp;for&nbsp;function&nbsp;and&nbsp;class&nbsp;method&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_def&nbsp;in&nbsp;file_summary[&#x27;function_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup.update(function_def)<br/>&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;class_def.items():&nbsp;#&nbsp;Extract&nbsp;class&nbsp;name&nbsp;and&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(class_name)&nbsp;#&nbsp;Add&nbsp;class&nbsp;as&nbsp;a&nbsp;graph&nbsp;node<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;method_details&nbsp;in&nbsp;class_details[&#x27;method_defs&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qualified_method_name&nbsp;=&nbsp;f&#x27;{class_name}.{method_name}&#x27;&nbsp;#&nbsp;Create&nbsp;method&nbsp;fully&nbsp;qualified&nbsp;name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(qualified_method_name)&nbsp;#&nbsp;Add&nbsp;method&nbsp;as&nbsp;a&nbsp;graph&nbsp;node<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup[qualified_method_name]&nbsp;=&nbsp;method_details&nbsp;&nbsp;#&nbsp;Store&nbsp;method&nbsp;details&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(class_name,&nbsp;qualified_method_name)&nbsp;#&nbsp;Add&nbsp;edge&nbsp;from&nbsp;class&nbsp;to&nbsp;method<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Helper&nbsp;function&nbsp;to&nbsp;extract&nbsp;edge&nbsp;data&nbsp;from&nbsp;target&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_edge_data_from_details(target_details:&nbsp;dict)&nbsp;-&gt;&nbsp;dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;inputs&#x27;&nbsp;in&nbsp;target_details:&nbsp;#&nbsp;If&nbsp;the&nbsp;target&nbsp;details&nbsp;contain&nbsp;inputs,&nbsp;add&nbsp;them&nbsp;to&nbsp;the&nbsp;edge&nbsp;data.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;target_details[&#x27;inputs&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;returns&#x27;&nbsp;in&nbsp;target_details:&nbsp;&nbsp;#&nbsp;If&nbsp;the&nbsp;target&nbsp;details&nbsp;contain&nbsp;returns,&nbsp;add&nbsp;them&nbsp;to&nbsp;the&nbsp;edge&nbsp;data.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_returns&#x27;]&nbsp;=&nbsp;list(set(target_details[&#x27;returns&#x27;]))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;edge_data<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Helper&nbsp;function&nbsp;to&nbsp;add&nbsp;edge&nbsp;with&nbsp;data<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edge_with_data(source:&nbsp;str,&nbsp;target:&nbsp;str,&nbsp;init_method:&nbsp;Optional[str]&nbsp;=&nbsp;None)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;class_method_details_lookup.get(init_method)&nbsp;or&nbsp;function_details_lookup.get(target)&nbsp;or&nbsp;class_method_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;get_edge_data_from_details(target_details)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(source,&nbsp;target,&nbsp;**edge_data)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Helper&nbsp;function&nbsp;to&nbsp;add&nbsp;edges&nbsp;for&nbsp;function&nbsp;or&nbsp;class&nbsp;method&nbsp;calls<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edges_for_calls(source_name,&nbsp;calls,&nbsp;internal_only=True):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_names&nbsp;=&nbsp;[list(class_def.keys())[0]&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;called&nbsp;in&nbsp;calls:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called_class_name&nbsp;=&nbsp;called.split(&#x27;.&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called.startswith(&quot;self.&quot;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;called.replace(&quot;self.&quot;,&nbsp;&quot;&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fully_qualified_name&nbsp;=&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{method_name}&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;fully_qualified_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;fully_qualified_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called&nbsp;in&nbsp;function_details_lookup&nbsp;or&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called&nbsp;in&nbsp;class_method_details_lookup&nbsp;or&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{called}&quot;&nbsp;in&nbsp;class_method_details_lookup<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;called_class_name&nbsp;in&nbsp;class_names:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method_name&nbsp;=&nbsp;f&quot;{called}.__init__&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;init_method_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;init_method_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called,&nbsp;init_method)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;not&nbsp;internal_only:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Add&nbsp;function&nbsp;nodes&nbsp;to&nbsp;graph&nbsp;and&nbsp;edges&nbsp;for&nbsp;function&nbsp;calls<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_name&nbsp;in&nbsp;function_details_lookup.keys():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(function_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;function_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(func_name,&nbsp;details[&#x27;calls&#x27;],&nbsp;internal_only)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Add&nbsp;edges&nbsp;for&nbsp;method&nbsp;calls<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;qualified_method_name,&nbsp;details&nbsp;in&nbsp;class_method_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(qualified_method_name,&nbsp;details[&#x27;calls&#x27;],&nbsp;internal_only)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Add&nbsp;edge&nbsp;data&nbsp;to&nbsp;edges&nbsp;and&nbsp;create&nbsp;node&nbsp;and&nbsp;edges&nbsp;to&nbsp;return<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source,&nbsp;target&nbsp;=&nbsp;edge<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;function_details_lookup.get(target)&nbsp;or&nbsp;class_method_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;get_edge_data_from_details(target_details)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G[source][target].update(edge_data)<br/>&nbsp;&nbsp;&nbsp;&nbsp;nodes&nbsp;=&nbsp;list(G.nodes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;edges&nbsp;=&nbsp;[{&quot;source&quot;:&nbsp;edge[0],&nbsp;&quot;target&quot;:&nbsp;edge[1],&nbsp;**edge[2]}&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges.data()]<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;nodes&quot;:&nbsp;nodes,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;edges&quot;:&nbsp;edges,<br/>&nbsp;&nbsp;&nbsp;&nbsp;}<br/><br/><br/>def&nbsp;get_python_file_details(file_path:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;from&nbsp;a&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path:&nbsp;str:&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(file_path,&nbsp;&quot;r&quot;,&nbsp;encoding=&quot;utf-8&quot;,&nbsp;errors=&#x27;ignore&#x27;)&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;=&nbsp;f.read()<br/>&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;PermissionError:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.warning(f&quot;Permission&nbsp;denied:&nbsp;{file_path}&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;None&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tree&nbsp;=&nbsp;ast.parse(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;SyntaxError:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.warning(f&quot;Syntax&nbsp;error&nbsp;in&nbsp;file:&nbsp;{file_path}&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor&nbsp;=&nbsp;CodeVisitor(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor.analyze(tree)<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;file_info&#x27;:&nbsp;visitor.file_info,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;functions&#x27;:&nbsp;visitor.functions,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;classes&#x27;:&nbsp;visitor.classes<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;add&nbsp;graphs&nbsp;and&nbsp;clean&nbsp;up&nbsp;file_summary<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;internal_code_graph&#x27;]&nbsp;=&nbsp;code_graph(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;entire_code_graph&#x27;]&nbsp;=&nbsp;code_graph(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;],&nbsp;internal_only=False)<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]&nbsp;=&nbsp;json.dumps(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]).replace(&#x27;\&quot;&#x27;,&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;file_details</td><td>networkx, logging, json, re, typing, ast</td></tr><tr><td>What are the structural relationships between the functions and classes defined in the Python file: &#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>&quot;&quot;&quot;<br/>Use&nbsp;AST&nbsp;to&nbsp;extract&nbsp;details&nbsp;from&nbsp;Python&nbsp;a&nbsp;file&nbsp;and&nbsp;return&nbsp;as&nbsp;a&nbsp;dictionary.<br/>Requirements:<br/>[req01]&nbsp;The&nbsp;`ControlFlowVisitor`&nbsp;class&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Inherit&nbsp;from&nbsp;`ast.NodeVisitor`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Visit&nbsp;nodes&nbsp;in&nbsp;the&nbsp;AST&nbsp;to&nbsp;extract&nbsp;control&nbsp;flow&nbsp;keywords,&nbsp;providing&nbsp;a&nbsp;high-level&nbsp;understanding&nbsp;of&nbsp;the&nbsp;program&nbsp;flow.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Provide&nbsp;the&nbsp;ability&nbsp;to&nbsp;retrieve&nbsp;a&nbsp;string&nbsp;representation&nbsp;of&nbsp;the&nbsp;control&nbsp;flow&nbsp;of&nbsp;the&nbsp;program&nbsp;using&nbsp;the&nbsp;`get_control_flow`&nbsp;method.<br/>[req02]&nbsp;The&nbsp;`CodeVisitor`&nbsp;class&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Inherit&nbsp;from&nbsp;`ast.NodeVisitor`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Traverse&nbsp;an&nbsp;AST&nbsp;to&nbsp;extract&nbsp;extensive&nbsp;details&nbsp;about&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Have&nbsp;methods&nbsp;to&nbsp;visit&nbsp;`FunctionDef`&nbsp;and&nbsp;`ClassDef`&nbsp;nodes,&nbsp;extracting&nbsp;details&nbsp;about&nbsp;functions&nbsp;and&nbsp;classes&nbsp;respectively.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Analyze&nbsp;a&nbsp;node&nbsp;and&nbsp;populate&nbsp;the&nbsp;`file_info`&nbsp;attribute&nbsp;with&nbsp;comprehensive&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Maintain&nbsp;and&nbsp;populate&nbsp;details&nbsp;about&nbsp;functions,&nbsp;classes,&nbsp;methods,&nbsp;and&nbsp;attributes.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f.&nbsp;Handle&nbsp;and&nbsp;manage&nbsp;class&nbsp;attributes,&nbsp;methods,&nbsp;inheritance,&nbsp;and&nbsp;static&nbsp;methods,&nbsp;populating&nbsp;the&nbsp;relevant&nbsp;information&nbsp;as&nbsp;needed.<br/>[req03]&nbsp;The&nbsp;`get_control_flow`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;string&nbsp;containing&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Return&nbsp;control&nbsp;flow&nbsp;keywords&nbsp;present&nbsp;in&nbsp;the&nbsp;code.<br/>[req04]&nbsp;The&nbsp;`code_graph`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;file&nbsp;summary&nbsp;as&nbsp;its&nbsp;input.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Construct&nbsp;a&nbsp;dictionary&nbsp;representation&nbsp;that&nbsp;includes&nbsp;nodes&nbsp;and&nbsp;edges,&nbsp;illustrating&nbsp;relationships&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Define&nbsp;various&nbsp;elements&nbsp;like&nbsp;function&nbsp;nodes,&nbsp;class&nbsp;nodes,&nbsp;method&nbsp;nodes.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Define&nbsp;the&nbsp;edges&nbsp;to&nbsp;depict&nbsp;relationships&nbsp;like&nbsp;function&nbsp;calls,&nbsp;method&nbsp;calls,&nbsp;and&nbsp;class&nbsp;inheritance.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Return&nbsp;the&nbsp;dictionary&nbsp;representation&nbsp;of&nbsp;the&nbsp;code&nbsp;graph.<br/>[req05]&nbsp;The&nbsp;`get_python_file_details`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;file&nbsp;path&nbsp;as&nbsp;an&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Extract&nbsp;details&nbsp;from&nbsp;the&nbsp;specified&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Include&nbsp;the&nbsp;internal&nbsp;file&nbsp;graph&nbsp;and&nbsp;entire&nbsp;file&nbsp;graph&nbsp;in&nbsp;the&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Return&nbsp;a&nbsp;dictionary&nbsp;containing&nbsp;these&nbsp;details.<br/>&quot;&quot;&quot;<br/>import&nbsp;ast<br/>import&nbsp;re<br/>import&nbsp;json<br/>import&nbsp;logging<br/>import&nbsp;networkx&nbsp;as&nbsp;nx<br/>from&nbsp;typing&nbsp;import&nbsp;Dict,&nbsp;List,&nbsp;Optional,&nbsp;Union<br/><br/><br/>class&nbsp;ControlFlowVisitor(ast.NodeVisitor):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;This&nbsp;class&nbsp;inherits&nbsp;from&nbsp;ast.NodeVisitor&nbsp;and&nbsp;is&nbsp;used&nbsp;to&nbsp;visit&nbsp;nodes&nbsp;in&nbsp;the<br/>&nbsp;&nbsp;&nbsp;&nbsp;AST&nbsp;(Abstract&nbsp;Syntax&nbsp;Tree).It&nbsp;extracts&nbsp;control&nbsp;flow&nbsp;keywords&nbsp;to&nbsp;give&nbsp;a&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;high-level&nbsp;understanding&nbsp;of&nbsp;the&nbsp;program&nbsp;flow.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_type_to_keyword&nbsp;(dict):&nbsp;A&nbsp;dictionary&nbsp;mapping&nbsp;AST&nbsp;node&nbsp;types&nbsp;to&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;corresponding&nbsp;control&nbsp;flow&nbsp;keywords.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;control_flow&nbsp;(list):&nbsp;A&nbsp;list&nbsp;storing&nbsp;the&nbsp;sequence&nbsp;of&nbsp;control&nbsp;flow&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;keywords&nbsp;encountered&nbsp;in&nbsp;the&nbsp;AST.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;__init__():&nbsp;Initializes&nbsp;a&nbsp;new&nbsp;instance&nbsp;of&nbsp;the&nbsp;class,&nbsp;setting&nbsp;up&nbsp;the<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;control&nbsp;flow&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generic_visit(node):&nbsp;Method&nbsp;to&nbsp;visit&nbsp;a&nbsp;node.&nbsp;If&nbsp;the&nbsp;node&nbsp;type&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;corresponds&nbsp;to&nbsp;a&nbsp;control&nbsp;flow&nbsp;keyword,&nbsp;it&nbsp;is&nbsp;added&nbsp;to&nbsp;the&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;control_flow&nbsp;list.&nbsp;The&nbsp;method&nbsp;then&nbsp;calls&nbsp;the&nbsp;inherited<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generic_visit&nbsp;to&nbsp;continue&nbsp;visiting&nbsp;other&nbsp;nodes.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;get_control_flow():&nbsp;Returns&nbsp;a&nbsp;string&nbsp;representing&nbsp;the&nbsp;control&nbsp;flow&nbsp;of<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;program.&nbsp;The&nbsp;control&nbsp;flow&nbsp;keywords&nbsp;are&nbsp;joined&nbsp;in&nbsp;the&nbsp;order&nbsp;they<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;were&nbsp;encountered&nbsp;during&nbsp;the&nbsp;AST&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;node_type_to_keyword&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast.If:&nbsp;&quot;if&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast.While:&nbsp;&quot;while&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast.For:&nbsp;&quot;for&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast.AsyncFor:&nbsp;&quot;for&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast.AsyncWith:&nbsp;&quot;with&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast.Try:&nbsp;&quot;try&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast.With:&nbsp;&quot;with&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast.ExceptHandler:&nbsp;&quot;except&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast.FunctionDef:&nbsp;&quot;def&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast.AsyncFunctionDef:&nbsp;&quot;def&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast.ClassDef:&nbsp;&quot;class&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast.Module:&nbsp;&quot;module&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.control_flow&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;generic_visit(self,&nbsp;node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;keyword&nbsp;=&nbsp;self.node_type_to_keyword.get(type(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;keyword:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;isinstance(node,&nbsp;ast.FunctionDef):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.control_flow.append(keyword&nbsp;+&nbsp;&#x27;&nbsp;&#x27;&nbsp;+&nbsp;node.name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.control_flow.append(keyword)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;super().generic_visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_control_flow(self):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;&nbsp;-&gt;&nbsp;&#x27;.join(self.control_flow)<br/><br/>def&nbsp;get_all_calls(node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Recursively&nbsp;find&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;`node`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;calls&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;child&nbsp;in&nbsp;ast.iter_child_nodes(node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;isinstance(child,&nbsp;ast.Call):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls.append(child)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls.extend(get_all_calls(child))<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;calls<br/><br/>class&nbsp;CodeVisitor(ast.NodeVisitor):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Visitor&nbsp;class&nbsp;for&nbsp;traversing&nbsp;an&nbsp;AST&nbsp;(Abstract&nbsp;Syntax&nbsp;Tree)&nbsp;and&nbsp;extracting<br/>&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;about&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;(str):&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;functions(Dict):&nbsp;details&nbsp;about&nbsp;functions&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;classes&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;classes&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_info&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_FunctionDef(node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:&nbsp;Extract&nbsp;details&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_ClassDef(node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;extract_details(node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;analyze(node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:&nbsp;Populate&nbsp;file_info&nbsp;with&nbsp;details&nbsp;about<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;code:&nbsp;str):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;initialize&nbsp;dictionaries&nbsp;to&nbsp;store&nbsp;function,&nbsp;class,&nbsp;and&nbsp;file&nbsp;definitions<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.code:&nbsp;str&nbsp;=&nbsp;code<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info:&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class:&nbsp;str&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_FunctionDef(self,&nbsp;node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.current_class:&nbsp;#&nbsp;if&nbsp;inside&nbsp;a&nbsp;class,&nbsp;add&nbsp;this&nbsp;function&nbsp;as&nbsp;a&nbsp;method&nbsp;of&nbsp;the&nbsp;class<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][f&#x27;class_method_{node.name}&#x27;]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;method&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:&nbsp;#&nbsp;populate&nbsp;function&nbsp;dictionary&nbsp;when&nbsp;function&nbsp;definition&nbsp;found&nbsp;in&nbsp;AST<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions[node.name]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;function&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)&nbsp;#&nbsp;continue&nbsp;AST&nbsp;traversal&nbsp;to&nbsp;the&nbsp;next&nbsp;node<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_ClassDef(self,&nbsp;node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[node.name]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;class&#x27;)&nbsp;#&nbsp;populate&nbsp;class&nbsp;dictionary&nbsp;when&nbsp;class&nbsp;definition&nbsp;found&nbsp;in&nbsp;AST<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;node.name&nbsp;&nbsp;#&nbsp;set&nbsp;current_class&nbsp;to&nbsp;indicate&nbsp;inside&nbsp;a&nbsp;class<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)&nbsp;#&nbsp;continue&nbsp;AST&nbsp;traversal&nbsp;to&nbsp;the&nbsp;next&nbsp;node<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;None&nbsp;&nbsp;#&nbsp;reset&nbsp;current_class&nbsp;when&nbsp;finished&nbsp;with&nbsp;this&nbsp;class<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;extract_details(self,&nbsp;node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_name&quot;:&nbsp;node.name,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_code&quot;:&nbsp;ast.unparse(node),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_ast&quot;:&nbsp;ast.dump(node,&nbsp;include_attributes=True),&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_docstring&quot;:&nbsp;ast.get_docstring(node),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_inputs&quot;:&nbsp;[arg.arg&nbsp;for&nbsp;arg&nbsp;in&nbsp;node.args.args]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_defaults&quot;:&nbsp;[ast.unparse(d)&nbsp;for&nbsp;d&nbsp;in&nbsp;node.args.defaults]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_returns&quot;:&nbsp;[ast.unparse(subnode.value)&nbsp;if&nbsp;subnode.value&nbsp;is&nbsp;not&nbsp;None&nbsp;else&nbsp;&quot;None&quot;&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Return)],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_calls&quot;:&nbsp;list({ast.unparse(n.func)&nbsp;for&nbsp;n&nbsp;in&nbsp;get_all_calls(node)}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_variables&quot;:&nbsp;list({ast.unparse(target)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Name)}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_decorators&quot;:&nbsp;list({ast.unparse(decorator)&nbsp;for&nbsp;decorator&nbsp;in&nbsp;node.decorator_list}&nbsp;if&nbsp;node.decorator_list&nbsp;else&nbsp;set()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_annotations&quot;:&nbsp;list({ast.unparse(subnode.annotation)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.AnnAssign)&nbsp;and&nbsp;subnode.annotation&nbsp;is&nbsp;not&nbsp;None}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_properties&quot;:&nbsp;list({ast.unparse(subnode)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(subnode.ctx,&nbsp;ast.Store)}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;class&#x27;&nbsp;or&nbsp;node_type&nbsp;==&nbsp;&#x27;method&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;method&#x27;&nbsp;and&nbsp;self.current_class:&nbsp;#&nbsp;find&nbsp;attributes&nbsp;defined&nbsp;as&nbsp;self.attribute<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attributes&nbsp;=&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(target.value,&nbsp;ast.Name)&nbsp;and&nbsp;target.value.id&nbsp;==&nbsp;&#x27;self&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;attributes:&nbsp;#&nbsp;if&nbsp;this&nbsp;class&nbsp;already&nbsp;has&nbsp;some&nbsp;attributes,&nbsp;add&nbsp;to&nbsp;them<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&quot;class_attributes&quot;&nbsp;in&nbsp;self.classes[self.current_class]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][&quot;class_attributes&quot;].extend(attributes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:&nbsp;#&nbsp;otherwise,&nbsp;start&nbsp;a&nbsp;new&nbsp;list&nbsp;of&nbsp;attributes&nbsp;for&nbsp;this&nbsp;class<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][&quot;class_attributes&quot;]&nbsp;=&nbsp;attributes<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details.update({<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;class_attributes&quot;:&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;class_methods&quot;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&quot;__init__&quot;],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;class_inheritance&quot;:&nbsp;[ast.unparse(base)&nbsp;for&nbsp;base&nbsp;in&nbsp;node.bases]&nbsp;if&nbsp;node.bases&nbsp;else&nbsp;[],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;class_static_methods&quot;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&quot;__init__&quot;&nbsp;and&nbsp;any(isinstance(decorator,&nbsp;ast.Name)&nbsp;and&nbsp;decorator.id&nbsp;==&nbsp;&quot;staticmethod&quot;&nbsp;for&nbsp;decorator&nbsp;in&nbsp;subnode.decorator_list)],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;details<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;analyze(self,&nbsp;node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;traverse&nbsp;the&nbsp;AST&nbsp;rooted&nbsp;at&nbsp;&#x27;node&#x27;,&nbsp;create&nbsp;a&nbsp;list&nbsp;of&nbsp;all&nbsp;nodes&nbsp;within&nbsp;the&nbsp;current&nbsp;file,&nbsp;and&nbsp;populate&nbsp;&#x27;file_info&#x27;&nbsp;with&nbsp;file&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;file_code&quot;:&nbsp;self.code,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;file_ast&quot;&nbsp;:&nbsp;ast.dump(node),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;file_dependencies&quot;:&nbsp;list({alias.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Import)&nbsp;for&nbsp;alias&nbsp;in&nbsp;subnode.names}&nbsp;|&nbsp;{subnode.module&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.ImportFrom)}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;file_functions&quot;:&nbsp;list(self.functions.keys()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;file_classes&quot;:&nbsp;list(self.classes.keys()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;file_control_flow&quot;:&nbsp;get_control_flow(self.code),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;add&nbsp;file_summary&nbsp;to&nbsp;file_info<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_defs&nbsp;=&nbsp;[{func_name:&nbsp;{&quot;inputs&quot;:&nbsp;details[&quot;function_inputs&quot;],&nbsp;&quot;calls&quot;:&nbsp;details[&quot;function_calls&quot;],&nbsp;&quot;returns&quot;:&nbsp;details[&quot;function_returns&quot;]}}&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;self.functions.items()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;self.classes.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;details&nbsp;in&nbsp;class_details.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;method_name.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs[method_name[len(&#x27;class_method_&#x27;):]]&nbsp;=&nbsp;{&quot;inputs&quot;:&nbsp;details[&quot;method_inputs&quot;],&nbsp;&quot;calls&quot;:&nbsp;details[&quot;method_calls&quot;],&nbsp;&quot;returns&quot;:&nbsp;details[&quot;method_returns&quot;]}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs.append({class_name:&nbsp;{&quot;method_defs&quot;:&nbsp;method_defs}})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&quot;file_summary&quot;]&nbsp;=&nbsp;{&nbsp;&#x27;dependencies&#x27;:&nbsp;self.file_info[&quot;file_dependencies&quot;],&nbsp;&#x27;function_defs&#x27;&nbsp;:&nbsp;function_defs,&nbsp;&#x27;class_defs&#x27;&nbsp;:&nbsp;class_defs}<br/><br/><br/>def&nbsp;get_control_flow(code:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;control&nbsp;flow&nbsp;keywords&nbsp;from&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code:&nbsp;str:&nbsp;The&nbsp;source&nbsp;code&nbsp;to&nbsp;extract&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;control&nbsp;flow&nbsp;keywords&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor&nbsp;=&nbsp;ControlFlowVisitor()<br/>&nbsp;&nbsp;&nbsp;&nbsp;tree&nbsp;=&nbsp;ast.parse(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor.visit(tree)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;visitor.get_control_flow()<br/><br/><br/>def&nbsp;code_graph(file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]],&nbsp;internal_only:&nbsp;bool&nbsp;=&nbsp;True)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[List[str],&nbsp;Dict[str,&nbsp;List[str]]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Create&nbsp;a&nbsp;dictionary&nbsp;representation&nbsp;of&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;internal_only:&nbsp;bool:&nbsp;If&nbsp;True,&nbsp;only&nbsp;include&nbsp;function&nbsp;calls&nbsp;where&nbsp;both&nbsp;the&nbsp;caller&nbsp;and&nbsp;called&nbsp;function&nbsp;are&nbsp;within&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dict:&nbsp;A&nbsp;dictionary&nbsp;with&nbsp;nodes&nbsp;and&nbsp;edges&nbsp;representing&nbsp;the&nbsp;relationships<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;G&nbsp;=&nbsp;nx.DiGraph()<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Create&nbsp;lookup&nbsp;dictionaries&nbsp;for&nbsp;function&nbsp;and&nbsp;class&nbsp;method&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_def&nbsp;in&nbsp;file_summary[&#x27;function_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup.update(function_def)<br/>&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;class_def.items():&nbsp;#&nbsp;Extract&nbsp;class&nbsp;name&nbsp;and&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(class_name)&nbsp;#&nbsp;Add&nbsp;class&nbsp;as&nbsp;a&nbsp;graph&nbsp;node<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;method_details&nbsp;in&nbsp;class_details[&#x27;method_defs&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qualified_method_name&nbsp;=&nbsp;f&#x27;{class_name}.{method_name}&#x27;&nbsp;#&nbsp;Create&nbsp;method&nbsp;fully&nbsp;qualified&nbsp;name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(qualified_method_name)&nbsp;#&nbsp;Add&nbsp;method&nbsp;as&nbsp;a&nbsp;graph&nbsp;node<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup[qualified_method_name]&nbsp;=&nbsp;method_details&nbsp;&nbsp;#&nbsp;Store&nbsp;method&nbsp;details&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(class_name,&nbsp;qualified_method_name)&nbsp;#&nbsp;Add&nbsp;edge&nbsp;from&nbsp;class&nbsp;to&nbsp;method<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Helper&nbsp;function&nbsp;to&nbsp;extract&nbsp;edge&nbsp;data&nbsp;from&nbsp;target&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_edge_data_from_details(target_details:&nbsp;dict)&nbsp;-&gt;&nbsp;dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;inputs&#x27;&nbsp;in&nbsp;target_details:&nbsp;#&nbsp;If&nbsp;the&nbsp;target&nbsp;details&nbsp;contain&nbsp;inputs,&nbsp;add&nbsp;them&nbsp;to&nbsp;the&nbsp;edge&nbsp;data.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;target_details[&#x27;inputs&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;returns&#x27;&nbsp;in&nbsp;target_details:&nbsp;&nbsp;#&nbsp;If&nbsp;the&nbsp;target&nbsp;details&nbsp;contain&nbsp;returns,&nbsp;add&nbsp;them&nbsp;to&nbsp;the&nbsp;edge&nbsp;data.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_returns&#x27;]&nbsp;=&nbsp;list(set(target_details[&#x27;returns&#x27;]))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;edge_data<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Helper&nbsp;function&nbsp;to&nbsp;add&nbsp;edge&nbsp;with&nbsp;data<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edge_with_data(source:&nbsp;str,&nbsp;target:&nbsp;str,&nbsp;init_method:&nbsp;Optional[str]&nbsp;=&nbsp;None)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;class_method_details_lookup.get(init_method)&nbsp;or&nbsp;function_details_lookup.get(target)&nbsp;or&nbsp;class_method_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;get_edge_data_from_details(target_details)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(source,&nbsp;target,&nbsp;**edge_data)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Helper&nbsp;function&nbsp;to&nbsp;add&nbsp;edges&nbsp;for&nbsp;function&nbsp;or&nbsp;class&nbsp;method&nbsp;calls<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edges_for_calls(source_name,&nbsp;calls,&nbsp;internal_only=True):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_names&nbsp;=&nbsp;[list(class_def.keys())[0]&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;called&nbsp;in&nbsp;calls:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called_class_name&nbsp;=&nbsp;called.split(&#x27;.&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called.startswith(&quot;self.&quot;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;called.replace(&quot;self.&quot;,&nbsp;&quot;&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fully_qualified_name&nbsp;=&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{method_name}&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;fully_qualified_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;fully_qualified_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called&nbsp;in&nbsp;function_details_lookup&nbsp;or&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called&nbsp;in&nbsp;class_method_details_lookup&nbsp;or&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{called}&quot;&nbsp;in&nbsp;class_method_details_lookup<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;called_class_name&nbsp;in&nbsp;class_names:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method_name&nbsp;=&nbsp;f&quot;{called}.__init__&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;init_method_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;init_method_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called,&nbsp;init_method)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;not&nbsp;internal_only:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Add&nbsp;function&nbsp;nodes&nbsp;to&nbsp;graph&nbsp;and&nbsp;edges&nbsp;for&nbsp;function&nbsp;calls<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_name&nbsp;in&nbsp;function_details_lookup.keys():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(function_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;function_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(func_name,&nbsp;details[&#x27;calls&#x27;],&nbsp;internal_only)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Add&nbsp;edges&nbsp;for&nbsp;method&nbsp;calls<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;qualified_method_name,&nbsp;details&nbsp;in&nbsp;class_method_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(qualified_method_name,&nbsp;details[&#x27;calls&#x27;],&nbsp;internal_only)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Add&nbsp;edge&nbsp;data&nbsp;to&nbsp;edges&nbsp;and&nbsp;create&nbsp;node&nbsp;and&nbsp;edges&nbsp;to&nbsp;return<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source,&nbsp;target&nbsp;=&nbsp;edge<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;function_details_lookup.get(target)&nbsp;or&nbsp;class_method_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;get_edge_data_from_details(target_details)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G[source][target].update(edge_data)<br/>&nbsp;&nbsp;&nbsp;&nbsp;nodes&nbsp;=&nbsp;list(G.nodes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;edges&nbsp;=&nbsp;[{&quot;source&quot;:&nbsp;edge[0],&nbsp;&quot;target&quot;:&nbsp;edge[1],&nbsp;**edge[2]}&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges.data()]<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;nodes&quot;:&nbsp;nodes,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;edges&quot;:&nbsp;edges,<br/>&nbsp;&nbsp;&nbsp;&nbsp;}<br/><br/><br/>def&nbsp;get_python_file_details(file_path:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;from&nbsp;a&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path:&nbsp;str:&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(file_path,&nbsp;&quot;r&quot;,&nbsp;encoding=&quot;utf-8&quot;,&nbsp;errors=&#x27;ignore&#x27;)&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;=&nbsp;f.read()<br/>&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;PermissionError:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.warning(f&quot;Permission&nbsp;denied:&nbsp;{file_path}&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;None&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tree&nbsp;=&nbsp;ast.parse(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;SyntaxError:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.warning(f&quot;Syntax&nbsp;error&nbsp;in&nbsp;file:&nbsp;{file_path}&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor&nbsp;=&nbsp;CodeVisitor(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor.analyze(tree)<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;file_info&#x27;:&nbsp;visitor.file_info,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;functions&#x27;:&nbsp;visitor.functions,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;classes&#x27;:&nbsp;visitor.classes<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;add&nbsp;graphs&nbsp;and&nbsp;clean&nbsp;up&nbsp;file_summary<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;internal_code_graph&#x27;]&nbsp;=&nbsp;code_graph(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;entire_code_graph&#x27;]&nbsp;=&nbsp;code_graph(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;],&nbsp;internal_only=False)<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]&nbsp;=&nbsp;json.dumps(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]).replace(&#x27;\&quot;&#x27;,&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;file_details</td><td>{&#x27;nodes&#x27;: [&#x27;ControlFlowVisitor&#x27;, &#x27;ControlFlowVisitor.__init__&#x27;, &#x27;ControlFlowVisitor.generic_visit&#x27;, &#x27;ControlFlowVisitor.get_control_flow&#x27;, &#x27;CodeVisitor&#x27;, &#x27;CodeVisitor.__init__&#x27;, &#x27;CodeVisitor.visit_FunctionDef&#x27;, &#x27;CodeVisitor.visit_ClassDef&#x27;, &#x27;CodeVisitor.extract_details&#x27;, &#x27;CodeVisitor.analyze&#x27;, &#x27;get_all_calls&#x27;, &#x27;get_control_flow&#x27;, &#x27;code_graph&#x27;, &#x27;get_edge_data_from_details&#x27;, &#x27;add_edge_with_data&#x27;, &#x27;add_edges_for_calls&#x27;, &#x27;get_python_file_details&#x27;], &#x27;edges&#x27;: [{&#x27;source&#x27;: &#x27;ControlFlowVisitor&#x27;, &#x27;target&#x27;: &#x27;ControlFlowVisitor.__init__&#x27;, &#x27;target_inputs&#x27;: [&#x27;self&#x27;], &#x27;target_returns&#x27;: []}, {&#x27;source&#x27;: &#x27;ControlFlowVisitor&#x27;, &#x27;target&#x27;: &#x27;ControlFlowVisitor.generic_visit&#x27;, &#x27;target_inputs&#x27;: [&#x27;self&#x27;, &#x27;node&#x27;], &#x27;target_returns&#x27;: []}, {&#x27;source&#x27;: &#x27;ControlFlowVisitor&#x27;, &#x27;target&#x27;: &#x27;ControlFlowVisitor.get_control_flow&#x27;, &#x27;target_inputs&#x27;: [&#x27;self&#x27;], &#x27;target_returns&#x27;: [&quot;&#x27; -&gt; &#x27;.join(self.control_flow)&quot;]}, {&#x27;source&#x27;: &#x27;CodeVisitor&#x27;, &#x27;target&#x27;: &#x27;CodeVisitor.__init__&#x27;, &#x27;target_inputs&#x27;: [&#x27;self&#x27;, &#x27;code&#x27;], &#x27;target_returns&#x27;: []}, {&#x27;source&#x27;: &#x27;CodeVisitor&#x27;, &#x27;target&#x27;: &#x27;CodeVisitor.visit_FunctionDef&#x27;, &#x27;target_inputs&#x27;: [&#x27;self&#x27;, &#x27;node&#x27;], &#x27;target_returns&#x27;: []}, {&#x27;source&#x27;: &#x27;CodeVisitor&#x27;, &#x27;target&#x27;: &#x27;CodeVisitor.visit_ClassDef&#x27;, &#x27;target_inputs&#x27;: [&#x27;self&#x27;, &#x27;node&#x27;], &#x27;target_returns&#x27;: []}, {&#x27;source&#x27;: &#x27;CodeVisitor&#x27;, &#x27;target&#x27;: &#x27;CodeVisitor.extract_details&#x27;, &#x27;target_inputs&#x27;: [&#x27;self&#x27;, &#x27;node&#x27;, &#x27;node_type&#x27;], &#x27;target_returns&#x27;: [&#x27;details&#x27;]}, {&#x27;source&#x27;: &#x27;CodeVisitor&#x27;, &#x27;target&#x27;: &#x27;CodeVisitor.analyze&#x27;, &#x27;target_inputs&#x27;: [&#x27;self&#x27;, &#x27;node&#x27;], &#x27;target_returns&#x27;: []}, {&#x27;source&#x27;: &#x27;CodeVisitor.visit_FunctionDef&#x27;, &#x27;target&#x27;: &#x27;CodeVisitor.extract_details&#x27;, &#x27;target_inputs&#x27;: [&#x27;self&#x27;, &#x27;node&#x27;, &#x27;node_type&#x27;], &#x27;target_returns&#x27;: [&#x27;details&#x27;]}, {&#x27;source&#x27;: &#x27;CodeVisitor.visit_ClassDef&#x27;, &#x27;target&#x27;: &#x27;CodeVisitor.extract_details&#x27;, &#x27;target_inputs&#x27;: [&#x27;self&#x27;, &#x27;node&#x27;, &#x27;node_type&#x27;], &#x27;target_returns&#x27;: [&#x27;details&#x27;]}, {&#x27;source&#x27;: &#x27;CodeVisitor.extract_details&#x27;, &#x27;target&#x27;: &#x27;get_all_calls&#x27;, &#x27;target_inputs&#x27;: [&#x27;node&#x27;], &#x27;target_returns&#x27;: [&#x27;calls&#x27;]}, {&#x27;source&#x27;: &#x27;CodeVisitor.analyze&#x27;, &#x27;target&#x27;: &#x27;get_control_flow&#x27;, &#x27;target_inputs&#x27;: [&#x27;code&#x27;], &#x27;target_returns&#x27;: [&#x27;visitor.get_control_flow()&#x27;]}, {&#x27;source&#x27;: &#x27;get_all_calls&#x27;, &#x27;target&#x27;: &#x27;get_all_calls&#x27;, &#x27;target_inputs&#x27;: [&#x27;node&#x27;], &#x27;target_returns&#x27;: [&#x27;calls&#x27;]}, {&#x27;source&#x27;: &#x27;get_control_flow&#x27;, &#x27;target&#x27;: &#x27;ControlFlowVisitor&#x27;, &#x27;target_inputs&#x27;: [&#x27;self&#x27;], &#x27;target_returns&#x27;: []}, {&#x27;source&#x27;: &#x27;code_graph&#x27;, &#x27;target&#x27;: &#x27;get_edge_data_from_details&#x27;, &#x27;target_inputs&#x27;: [&#x27;target_details&#x27;], &#x27;target_returns&#x27;: [&#x27;edge_data&#x27;]}, {&#x27;source&#x27;: &#x27;code_graph&#x27;, &#x27;target&#x27;: &#x27;add_edges_for_calls&#x27;, &#x27;target_inputs&#x27;: [&#x27;source_name&#x27;, &#x27;calls&#x27;, &#x27;internal_only&#x27;], &#x27;target_returns&#x27;: []}, {&#x27;source&#x27;: &#x27;code_graph&#x27;, &#x27;target&#x27;: &#x27;add_edge_with_data&#x27;, &#x27;target_inputs&#x27;: [&#x27;source&#x27;, &#x27;target&#x27;, &#x27;init_method&#x27;], &#x27;target_returns&#x27;: []}, {&#x27;source&#x27;: &#x27;add_edge_with_data&#x27;, &#x27;target&#x27;: &#x27;get_edge_data_from_details&#x27;, &#x27;target_inputs&#x27;: [&#x27;target_details&#x27;], &#x27;target_returns&#x27;: [&#x27;edge_data&#x27;]}, {&#x27;source&#x27;: &#x27;add_edges_for_calls&#x27;, &#x27;target&#x27;: &#x27;add_edge_with_data&#x27;, &#x27;target_inputs&#x27;: [&#x27;source&#x27;, &#x27;target&#x27;, &#x27;init_method&#x27;], &#x27;target_returns&#x27;: []}, {&#x27;source&#x27;: &#x27;get_python_file_details&#x27;, &#x27;target&#x27;: &#x27;CodeVisitor&#x27;, &#x27;target_inputs&#x27;: [&#x27;self&#x27;, &#x27;code&#x27;], &#x27;target_returns&#x27;: []}, {&#x27;source&#x27;: &#x27;get_python_file_details&#x27;, &#x27;target&#x27;: &#x27;code_graph&#x27;, &#x27;target_inputs&#x27;: [&#x27;file_summary&#x27;, &#x27;internal_only&#x27;], &#x27;target_returns&#x27;: [&#x27;edge_data&#x27;, &quot;{&#x27;nodes&#x27;: nodes, &#x27;edges&#x27;: edges}&quot;]}]}</td></tr><tr><td>What are the structural relationships between the functions and classes defined and used in the Python file: &#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>&quot;&quot;&quot;<br/>Use&nbsp;AST&nbsp;to&nbsp;extract&nbsp;details&nbsp;from&nbsp;Python&nbsp;a&nbsp;file&nbsp;and&nbsp;return&nbsp;as&nbsp;a&nbsp;dictionary.<br/>Requirements:<br/>[req01]&nbsp;The&nbsp;`ControlFlowVisitor`&nbsp;class&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Inherit&nbsp;from&nbsp;`ast.NodeVisitor`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Visit&nbsp;nodes&nbsp;in&nbsp;the&nbsp;AST&nbsp;to&nbsp;extract&nbsp;control&nbsp;flow&nbsp;keywords,&nbsp;providing&nbsp;a&nbsp;high-level&nbsp;understanding&nbsp;of&nbsp;the&nbsp;program&nbsp;flow.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Provide&nbsp;the&nbsp;ability&nbsp;to&nbsp;retrieve&nbsp;a&nbsp;string&nbsp;representation&nbsp;of&nbsp;the&nbsp;control&nbsp;flow&nbsp;of&nbsp;the&nbsp;program&nbsp;using&nbsp;the&nbsp;`get_control_flow`&nbsp;method.<br/>[req02]&nbsp;The&nbsp;`CodeVisitor`&nbsp;class&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Inherit&nbsp;from&nbsp;`ast.NodeVisitor`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Traverse&nbsp;an&nbsp;AST&nbsp;to&nbsp;extract&nbsp;extensive&nbsp;details&nbsp;about&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Have&nbsp;methods&nbsp;to&nbsp;visit&nbsp;`FunctionDef`&nbsp;and&nbsp;`ClassDef`&nbsp;nodes,&nbsp;extracting&nbsp;details&nbsp;about&nbsp;functions&nbsp;and&nbsp;classes&nbsp;respectively.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Analyze&nbsp;a&nbsp;node&nbsp;and&nbsp;populate&nbsp;the&nbsp;`file_info`&nbsp;attribute&nbsp;with&nbsp;comprehensive&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Maintain&nbsp;and&nbsp;populate&nbsp;details&nbsp;about&nbsp;functions,&nbsp;classes,&nbsp;methods,&nbsp;and&nbsp;attributes.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f.&nbsp;Handle&nbsp;and&nbsp;manage&nbsp;class&nbsp;attributes,&nbsp;methods,&nbsp;inheritance,&nbsp;and&nbsp;static&nbsp;methods,&nbsp;populating&nbsp;the&nbsp;relevant&nbsp;information&nbsp;as&nbsp;needed.<br/>[req03]&nbsp;The&nbsp;`get_control_flow`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;string&nbsp;containing&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Return&nbsp;control&nbsp;flow&nbsp;keywords&nbsp;present&nbsp;in&nbsp;the&nbsp;code.<br/>[req04]&nbsp;The&nbsp;`code_graph`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;file&nbsp;summary&nbsp;as&nbsp;its&nbsp;input.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Construct&nbsp;a&nbsp;dictionary&nbsp;representation&nbsp;that&nbsp;includes&nbsp;nodes&nbsp;and&nbsp;edges,&nbsp;illustrating&nbsp;relationships&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Define&nbsp;various&nbsp;elements&nbsp;like&nbsp;function&nbsp;nodes,&nbsp;class&nbsp;nodes,&nbsp;method&nbsp;nodes.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Define&nbsp;the&nbsp;edges&nbsp;to&nbsp;depict&nbsp;relationships&nbsp;like&nbsp;function&nbsp;calls,&nbsp;method&nbsp;calls,&nbsp;and&nbsp;class&nbsp;inheritance.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Return&nbsp;the&nbsp;dictionary&nbsp;representation&nbsp;of&nbsp;the&nbsp;code&nbsp;graph.<br/>[req05]&nbsp;The&nbsp;`get_python_file_details`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;file&nbsp;path&nbsp;as&nbsp;an&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Extract&nbsp;details&nbsp;from&nbsp;the&nbsp;specified&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Include&nbsp;the&nbsp;internal&nbsp;file&nbsp;graph&nbsp;and&nbsp;entire&nbsp;file&nbsp;graph&nbsp;in&nbsp;the&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Return&nbsp;a&nbsp;dictionary&nbsp;containing&nbsp;these&nbsp;details.<br/>&quot;&quot;&quot;<br/>import&nbsp;ast<br/>import&nbsp;re<br/>import&nbsp;json<br/>import&nbsp;logging<br/>import&nbsp;networkx&nbsp;as&nbsp;nx<br/>from&nbsp;typing&nbsp;import&nbsp;Dict,&nbsp;List,&nbsp;Optional,&nbsp;Union<br/><br/><br/>class&nbsp;ControlFlowVisitor(ast.NodeVisitor):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;This&nbsp;class&nbsp;inherits&nbsp;from&nbsp;ast.NodeVisitor&nbsp;and&nbsp;is&nbsp;used&nbsp;to&nbsp;visit&nbsp;nodes&nbsp;in&nbsp;the<br/>&nbsp;&nbsp;&nbsp;&nbsp;AST&nbsp;(Abstract&nbsp;Syntax&nbsp;Tree).It&nbsp;extracts&nbsp;control&nbsp;flow&nbsp;keywords&nbsp;to&nbsp;give&nbsp;a&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;high-level&nbsp;understanding&nbsp;of&nbsp;the&nbsp;program&nbsp;flow.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_type_to_keyword&nbsp;(dict):&nbsp;A&nbsp;dictionary&nbsp;mapping&nbsp;AST&nbsp;node&nbsp;types&nbsp;to&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;corresponding&nbsp;control&nbsp;flow&nbsp;keywords.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;control_flow&nbsp;(list):&nbsp;A&nbsp;list&nbsp;storing&nbsp;the&nbsp;sequence&nbsp;of&nbsp;control&nbsp;flow&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;keywords&nbsp;encountered&nbsp;in&nbsp;the&nbsp;AST.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;__init__():&nbsp;Initializes&nbsp;a&nbsp;new&nbsp;instance&nbsp;of&nbsp;the&nbsp;class,&nbsp;setting&nbsp;up&nbsp;the<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;control&nbsp;flow&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generic_visit(node):&nbsp;Method&nbsp;to&nbsp;visit&nbsp;a&nbsp;node.&nbsp;If&nbsp;the&nbsp;node&nbsp;type&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;corresponds&nbsp;to&nbsp;a&nbsp;control&nbsp;flow&nbsp;keyword,&nbsp;it&nbsp;is&nbsp;added&nbsp;to&nbsp;the&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;control_flow&nbsp;list.&nbsp;The&nbsp;method&nbsp;then&nbsp;calls&nbsp;the&nbsp;inherited<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generic_visit&nbsp;to&nbsp;continue&nbsp;visiting&nbsp;other&nbsp;nodes.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;get_control_flow():&nbsp;Returns&nbsp;a&nbsp;string&nbsp;representing&nbsp;the&nbsp;control&nbsp;flow&nbsp;of<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;program.&nbsp;The&nbsp;control&nbsp;flow&nbsp;keywords&nbsp;are&nbsp;joined&nbsp;in&nbsp;the&nbsp;order&nbsp;they<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;were&nbsp;encountered&nbsp;during&nbsp;the&nbsp;AST&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;node_type_to_keyword&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast.If:&nbsp;&quot;if&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast.While:&nbsp;&quot;while&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast.For:&nbsp;&quot;for&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast.AsyncFor:&nbsp;&quot;for&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast.AsyncWith:&nbsp;&quot;with&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast.Try:&nbsp;&quot;try&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast.With:&nbsp;&quot;with&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast.ExceptHandler:&nbsp;&quot;except&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast.FunctionDef:&nbsp;&quot;def&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast.AsyncFunctionDef:&nbsp;&quot;def&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast.ClassDef:&nbsp;&quot;class&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast.Module:&nbsp;&quot;module&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.control_flow&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;generic_visit(self,&nbsp;node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;keyword&nbsp;=&nbsp;self.node_type_to_keyword.get(type(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;keyword:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;isinstance(node,&nbsp;ast.FunctionDef):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.control_flow.append(keyword&nbsp;+&nbsp;&#x27;&nbsp;&#x27;&nbsp;+&nbsp;node.name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.control_flow.append(keyword)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;super().generic_visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_control_flow(self):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;&nbsp;-&gt;&nbsp;&#x27;.join(self.control_flow)<br/><br/>def&nbsp;get_all_calls(node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Recursively&nbsp;find&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;`node`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;calls&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;child&nbsp;in&nbsp;ast.iter_child_nodes(node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;isinstance(child,&nbsp;ast.Call):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls.append(child)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls.extend(get_all_calls(child))<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;calls<br/><br/>class&nbsp;CodeVisitor(ast.NodeVisitor):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Visitor&nbsp;class&nbsp;for&nbsp;traversing&nbsp;an&nbsp;AST&nbsp;(Abstract&nbsp;Syntax&nbsp;Tree)&nbsp;and&nbsp;extracting<br/>&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;about&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;(str):&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;functions(Dict):&nbsp;details&nbsp;about&nbsp;functions&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;classes&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;classes&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_info&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_FunctionDef(node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:&nbsp;Extract&nbsp;details&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_ClassDef(node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;extract_details(node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;analyze(node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:&nbsp;Populate&nbsp;file_info&nbsp;with&nbsp;details&nbsp;about<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;code:&nbsp;str):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;initialize&nbsp;dictionaries&nbsp;to&nbsp;store&nbsp;function,&nbsp;class,&nbsp;and&nbsp;file&nbsp;definitions<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.code:&nbsp;str&nbsp;=&nbsp;code<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info:&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class:&nbsp;str&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_FunctionDef(self,&nbsp;node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.current_class:&nbsp;#&nbsp;if&nbsp;inside&nbsp;a&nbsp;class,&nbsp;add&nbsp;this&nbsp;function&nbsp;as&nbsp;a&nbsp;method&nbsp;of&nbsp;the&nbsp;class<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][f&#x27;class_method_{node.name}&#x27;]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;method&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:&nbsp;#&nbsp;populate&nbsp;function&nbsp;dictionary&nbsp;when&nbsp;function&nbsp;definition&nbsp;found&nbsp;in&nbsp;AST<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions[node.name]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;function&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)&nbsp;#&nbsp;continue&nbsp;AST&nbsp;traversal&nbsp;to&nbsp;the&nbsp;next&nbsp;node<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_ClassDef(self,&nbsp;node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[node.name]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;class&#x27;)&nbsp;#&nbsp;populate&nbsp;class&nbsp;dictionary&nbsp;when&nbsp;class&nbsp;definition&nbsp;found&nbsp;in&nbsp;AST<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;node.name&nbsp;&nbsp;#&nbsp;set&nbsp;current_class&nbsp;to&nbsp;indicate&nbsp;inside&nbsp;a&nbsp;class<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)&nbsp;#&nbsp;continue&nbsp;AST&nbsp;traversal&nbsp;to&nbsp;the&nbsp;next&nbsp;node<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;None&nbsp;&nbsp;#&nbsp;reset&nbsp;current_class&nbsp;when&nbsp;finished&nbsp;with&nbsp;this&nbsp;class<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;extract_details(self,&nbsp;node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_name&quot;:&nbsp;node.name,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_code&quot;:&nbsp;ast.unparse(node),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_ast&quot;:&nbsp;ast.dump(node,&nbsp;include_attributes=True),&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_docstring&quot;:&nbsp;ast.get_docstring(node),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_inputs&quot;:&nbsp;[arg.arg&nbsp;for&nbsp;arg&nbsp;in&nbsp;node.args.args]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_defaults&quot;:&nbsp;[ast.unparse(d)&nbsp;for&nbsp;d&nbsp;in&nbsp;node.args.defaults]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_returns&quot;:&nbsp;[ast.unparse(subnode.value)&nbsp;if&nbsp;subnode.value&nbsp;is&nbsp;not&nbsp;None&nbsp;else&nbsp;&quot;None&quot;&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Return)],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_calls&quot;:&nbsp;list({ast.unparse(n.func)&nbsp;for&nbsp;n&nbsp;in&nbsp;get_all_calls(node)}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_variables&quot;:&nbsp;list({ast.unparse(target)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Name)}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_decorators&quot;:&nbsp;list({ast.unparse(decorator)&nbsp;for&nbsp;decorator&nbsp;in&nbsp;node.decorator_list}&nbsp;if&nbsp;node.decorator_list&nbsp;else&nbsp;set()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_annotations&quot;:&nbsp;list({ast.unparse(subnode.annotation)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.AnnAssign)&nbsp;and&nbsp;subnode.annotation&nbsp;is&nbsp;not&nbsp;None}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_properties&quot;:&nbsp;list({ast.unparse(subnode)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(subnode.ctx,&nbsp;ast.Store)}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;class&#x27;&nbsp;or&nbsp;node_type&nbsp;==&nbsp;&#x27;method&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;method&#x27;&nbsp;and&nbsp;self.current_class:&nbsp;#&nbsp;find&nbsp;attributes&nbsp;defined&nbsp;as&nbsp;self.attribute<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attributes&nbsp;=&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(target.value,&nbsp;ast.Name)&nbsp;and&nbsp;target.value.id&nbsp;==&nbsp;&#x27;self&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;attributes:&nbsp;#&nbsp;if&nbsp;this&nbsp;class&nbsp;already&nbsp;has&nbsp;some&nbsp;attributes,&nbsp;add&nbsp;to&nbsp;them<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&quot;class_attributes&quot;&nbsp;in&nbsp;self.classes[self.current_class]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][&quot;class_attributes&quot;].extend(attributes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:&nbsp;#&nbsp;otherwise,&nbsp;start&nbsp;a&nbsp;new&nbsp;list&nbsp;of&nbsp;attributes&nbsp;for&nbsp;this&nbsp;class<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][&quot;class_attributes&quot;]&nbsp;=&nbsp;attributes<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details.update({<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;class_attributes&quot;:&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;class_methods&quot;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&quot;__init__&quot;],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;class_inheritance&quot;:&nbsp;[ast.unparse(base)&nbsp;for&nbsp;base&nbsp;in&nbsp;node.bases]&nbsp;if&nbsp;node.bases&nbsp;else&nbsp;[],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;class_static_methods&quot;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&quot;__init__&quot;&nbsp;and&nbsp;any(isinstance(decorator,&nbsp;ast.Name)&nbsp;and&nbsp;decorator.id&nbsp;==&nbsp;&quot;staticmethod&quot;&nbsp;for&nbsp;decorator&nbsp;in&nbsp;subnode.decorator_list)],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;details<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;analyze(self,&nbsp;node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;traverse&nbsp;the&nbsp;AST&nbsp;rooted&nbsp;at&nbsp;&#x27;node&#x27;,&nbsp;create&nbsp;a&nbsp;list&nbsp;of&nbsp;all&nbsp;nodes&nbsp;within&nbsp;the&nbsp;current&nbsp;file,&nbsp;and&nbsp;populate&nbsp;&#x27;file_info&#x27;&nbsp;with&nbsp;file&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;file_code&quot;:&nbsp;self.code,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;file_ast&quot;&nbsp;:&nbsp;ast.dump(node),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;file_dependencies&quot;:&nbsp;list({alias.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Import)&nbsp;for&nbsp;alias&nbsp;in&nbsp;subnode.names}&nbsp;|&nbsp;{subnode.module&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.ImportFrom)}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;file_functions&quot;:&nbsp;list(self.functions.keys()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;file_classes&quot;:&nbsp;list(self.classes.keys()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;file_control_flow&quot;:&nbsp;get_control_flow(self.code),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;add&nbsp;file_summary&nbsp;to&nbsp;file_info<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_defs&nbsp;=&nbsp;[{func_name:&nbsp;{&quot;inputs&quot;:&nbsp;details[&quot;function_inputs&quot;],&nbsp;&quot;calls&quot;:&nbsp;details[&quot;function_calls&quot;],&nbsp;&quot;returns&quot;:&nbsp;details[&quot;function_returns&quot;]}}&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;self.functions.items()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;self.classes.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;details&nbsp;in&nbsp;class_details.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;method_name.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs[method_name[len(&#x27;class_method_&#x27;):]]&nbsp;=&nbsp;{&quot;inputs&quot;:&nbsp;details[&quot;method_inputs&quot;],&nbsp;&quot;calls&quot;:&nbsp;details[&quot;method_calls&quot;],&nbsp;&quot;returns&quot;:&nbsp;details[&quot;method_returns&quot;]}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs.append({class_name:&nbsp;{&quot;method_defs&quot;:&nbsp;method_defs}})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&quot;file_summary&quot;]&nbsp;=&nbsp;{&nbsp;&#x27;dependencies&#x27;:&nbsp;self.file_info[&quot;file_dependencies&quot;],&nbsp;&#x27;function_defs&#x27;&nbsp;:&nbsp;function_defs,&nbsp;&#x27;class_defs&#x27;&nbsp;:&nbsp;class_defs}<br/><br/><br/>def&nbsp;get_control_flow(code:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;control&nbsp;flow&nbsp;keywords&nbsp;from&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code:&nbsp;str:&nbsp;The&nbsp;source&nbsp;code&nbsp;to&nbsp;extract&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;control&nbsp;flow&nbsp;keywords&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor&nbsp;=&nbsp;ControlFlowVisitor()<br/>&nbsp;&nbsp;&nbsp;&nbsp;tree&nbsp;=&nbsp;ast.parse(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor.visit(tree)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;visitor.get_control_flow()<br/><br/><br/>def&nbsp;code_graph(file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]],&nbsp;internal_only:&nbsp;bool&nbsp;=&nbsp;True)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[List[str],&nbsp;Dict[str,&nbsp;List[str]]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Create&nbsp;a&nbsp;dictionary&nbsp;representation&nbsp;of&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;internal_only:&nbsp;bool:&nbsp;If&nbsp;True,&nbsp;only&nbsp;include&nbsp;function&nbsp;calls&nbsp;where&nbsp;both&nbsp;the&nbsp;caller&nbsp;and&nbsp;called&nbsp;function&nbsp;are&nbsp;within&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dict:&nbsp;A&nbsp;dictionary&nbsp;with&nbsp;nodes&nbsp;and&nbsp;edges&nbsp;representing&nbsp;the&nbsp;relationships<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;G&nbsp;=&nbsp;nx.DiGraph()<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Create&nbsp;lookup&nbsp;dictionaries&nbsp;for&nbsp;function&nbsp;and&nbsp;class&nbsp;method&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_def&nbsp;in&nbsp;file_summary[&#x27;function_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup.update(function_def)<br/>&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;class_def.items():&nbsp;#&nbsp;Extract&nbsp;class&nbsp;name&nbsp;and&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(class_name)&nbsp;#&nbsp;Add&nbsp;class&nbsp;as&nbsp;a&nbsp;graph&nbsp;node<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;method_details&nbsp;in&nbsp;class_details[&#x27;method_defs&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qualified_method_name&nbsp;=&nbsp;f&#x27;{class_name}.{method_name}&#x27;&nbsp;#&nbsp;Create&nbsp;method&nbsp;fully&nbsp;qualified&nbsp;name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(qualified_method_name)&nbsp;#&nbsp;Add&nbsp;method&nbsp;as&nbsp;a&nbsp;graph&nbsp;node<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup[qualified_method_name]&nbsp;=&nbsp;method_details&nbsp;&nbsp;#&nbsp;Store&nbsp;method&nbsp;details&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(class_name,&nbsp;qualified_method_name)&nbsp;#&nbsp;Add&nbsp;edge&nbsp;from&nbsp;class&nbsp;to&nbsp;method<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Helper&nbsp;function&nbsp;to&nbsp;extract&nbsp;edge&nbsp;data&nbsp;from&nbsp;target&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_edge_data_from_details(target_details:&nbsp;dict)&nbsp;-&gt;&nbsp;dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;inputs&#x27;&nbsp;in&nbsp;target_details:&nbsp;#&nbsp;If&nbsp;the&nbsp;target&nbsp;details&nbsp;contain&nbsp;inputs,&nbsp;add&nbsp;them&nbsp;to&nbsp;the&nbsp;edge&nbsp;data.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;target_details[&#x27;inputs&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;returns&#x27;&nbsp;in&nbsp;target_details:&nbsp;&nbsp;#&nbsp;If&nbsp;the&nbsp;target&nbsp;details&nbsp;contain&nbsp;returns,&nbsp;add&nbsp;them&nbsp;to&nbsp;the&nbsp;edge&nbsp;data.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_returns&#x27;]&nbsp;=&nbsp;list(set(target_details[&#x27;returns&#x27;]))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;edge_data<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Helper&nbsp;function&nbsp;to&nbsp;add&nbsp;edge&nbsp;with&nbsp;data<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edge_with_data(source:&nbsp;str,&nbsp;target:&nbsp;str,&nbsp;init_method:&nbsp;Optional[str]&nbsp;=&nbsp;None)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;class_method_details_lookup.get(init_method)&nbsp;or&nbsp;function_details_lookup.get(target)&nbsp;or&nbsp;class_method_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;get_edge_data_from_details(target_details)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(source,&nbsp;target,&nbsp;**edge_data)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Helper&nbsp;function&nbsp;to&nbsp;add&nbsp;edges&nbsp;for&nbsp;function&nbsp;or&nbsp;class&nbsp;method&nbsp;calls<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edges_for_calls(source_name,&nbsp;calls,&nbsp;internal_only=True):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_names&nbsp;=&nbsp;[list(class_def.keys())[0]&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;called&nbsp;in&nbsp;calls:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called_class_name&nbsp;=&nbsp;called.split(&#x27;.&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called.startswith(&quot;self.&quot;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;called.replace(&quot;self.&quot;,&nbsp;&quot;&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fully_qualified_name&nbsp;=&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{method_name}&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;fully_qualified_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;fully_qualified_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called&nbsp;in&nbsp;function_details_lookup&nbsp;or&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called&nbsp;in&nbsp;class_method_details_lookup&nbsp;or&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{called}&quot;&nbsp;in&nbsp;class_method_details_lookup<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;called_class_name&nbsp;in&nbsp;class_names:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method_name&nbsp;=&nbsp;f&quot;{called}.__init__&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;init_method_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;init_method_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called,&nbsp;init_method)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;not&nbsp;internal_only:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Add&nbsp;function&nbsp;nodes&nbsp;to&nbsp;graph&nbsp;and&nbsp;edges&nbsp;for&nbsp;function&nbsp;calls<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_name&nbsp;in&nbsp;function_details_lookup.keys():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(function_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;function_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(func_name,&nbsp;details[&#x27;calls&#x27;],&nbsp;internal_only)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Add&nbsp;edges&nbsp;for&nbsp;method&nbsp;calls<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;qualified_method_name,&nbsp;details&nbsp;in&nbsp;class_method_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(qualified_method_name,&nbsp;details[&#x27;calls&#x27;],&nbsp;internal_only)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Add&nbsp;edge&nbsp;data&nbsp;to&nbsp;edges&nbsp;and&nbsp;create&nbsp;node&nbsp;and&nbsp;edges&nbsp;to&nbsp;return<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source,&nbsp;target&nbsp;=&nbsp;edge<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;function_details_lookup.get(target)&nbsp;or&nbsp;class_method_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;get_edge_data_from_details(target_details)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G[source][target].update(edge_data)<br/>&nbsp;&nbsp;&nbsp;&nbsp;nodes&nbsp;=&nbsp;list(G.nodes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;edges&nbsp;=&nbsp;[{&quot;source&quot;:&nbsp;edge[0],&nbsp;&quot;target&quot;:&nbsp;edge[1],&nbsp;**edge[2]}&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges.data()]<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;nodes&quot;:&nbsp;nodes,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;edges&quot;:&nbsp;edges,<br/>&nbsp;&nbsp;&nbsp;&nbsp;}<br/><br/><br/>def&nbsp;get_python_file_details(file_path:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;from&nbsp;a&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path:&nbsp;str:&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(file_path,&nbsp;&quot;r&quot;,&nbsp;encoding=&quot;utf-8&quot;,&nbsp;errors=&#x27;ignore&#x27;)&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;=&nbsp;f.read()<br/>&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;PermissionError:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.warning(f&quot;Permission&nbsp;denied:&nbsp;{file_path}&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;None&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tree&nbsp;=&nbsp;ast.parse(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;SyntaxError:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.warning(f&quot;Syntax&nbsp;error&nbsp;in&nbsp;file:&nbsp;{file_path}&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor&nbsp;=&nbsp;CodeVisitor(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor.analyze(tree)<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;file_info&#x27;:&nbsp;visitor.file_info,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;functions&#x27;:&nbsp;visitor.functions,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;classes&#x27;:&nbsp;visitor.classes<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;add&nbsp;graphs&nbsp;and&nbsp;clean&nbsp;up&nbsp;file_summary<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;internal_code_graph&#x27;]&nbsp;=&nbsp;code_graph(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;entire_code_graph&#x27;]&nbsp;=&nbsp;code_graph(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;],&nbsp;internal_only=False)<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]&nbsp;=&nbsp;json.dumps(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]).replace(&#x27;\&quot;&#x27;,&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;file_details</td><td>{&#x27;nodes&#x27;: [&#x27;ControlFlowVisitor&#x27;, &#x27;ControlFlowVisitor.__init__&#x27;, &#x27;ControlFlowVisitor.generic_visit&#x27;, &#x27;ControlFlowVisitor.get_control_flow&#x27;, &#x27;CodeVisitor&#x27;, &#x27;CodeVisitor.__init__&#x27;, &#x27;CodeVisitor.visit_FunctionDef&#x27;, &#x27;CodeVisitor.visit_ClassDef&#x27;, &#x27;CodeVisitor.extract_details&#x27;, &#x27;CodeVisitor.analyze&#x27;, &#x27;get_all_calls&#x27;, &#x27;get_control_flow&#x27;, &#x27;code_graph&#x27;, &#x27;get_edge_data_from_details&#x27;, &#x27;add_edge_with_data&#x27;, &#x27;add_edges_for_calls&#x27;, &#x27;get_python_file_details&#x27;, &#x27;isinstance&#x27;, &#x27;ast.iter_child_nodes&#x27;, &#x27;calls.extend&#x27;, &#x27;calls.append&#x27;, &#x27;ast.parse&#x27;, &#x27;visitor.get_control_flow&#x27;, &#x27;visitor.visit&#x27;, &#x27;function_details_lookup.keys&#x27;, &#x27;class_method_details_lookup.get&#x27;, &#x27;nx.DiGraph&#x27;, &#x27;class_def.keys&#x27;, &#x27;function_details_lookup.items&#x27;, &#x27;list&#x27;, &#x27;class_def.items&#x27;, &#x27;G.add_edge&#x27;, &#x27;class_method_details_lookup.items&#x27;, &#x27;source_name.split&#x27;, &#x27;function_details_lookup.get&#x27;, &#x27;G[source][target].update&#x27;, &#x27;G.edges.data&#x27;, &#x27;called.replace&#x27;, &#x27;called.startswith&#x27;, &#x27;function_details_lookup.update&#x27;, &#x27;G.add_node&#x27;, &quot;class_details[&#x27;method_defs&#x27;].items&quot;, &#x27;set&#x27;, &#x27;called.split&#x27;, &#x27;f.read&#x27;, &#x27;logging.warning&#x27;, &quot;json.dumps(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]).replace&quot;, &#x27;visitor.analyze&#x27;, &#x27;json.dumps&#x27;, &#x27;open&#x27;, &#x27;super().generic_visit&#x27;, &#x27;type&#x27;, &#x27;self.node_type_to_keyword.get&#x27;, &#x27;self.control_flow.append&#x27;, &#x27;super&#x27;, &quot;&#x27; -&gt; &#x27;.join&quot;, &#x27;self.generic_visit&#x27;, &#x27;details.update&#x27;, &#x27;ast.dump&#x27;, &#x27;ast.unparse&#x27;, &#x27;any&#x27;, &#x27;ast.walk&#x27;, &#x27;ast.get_docstring&#x27;, &quot;self.classes[self.current_class][&#x27;class_attributes&#x27;].extend&quot;, &#x27;self.functions.items&#x27;, &#x27;self.classes.keys&#x27;, &#x27;class_details.items&#x27;, &#x27;len&#x27;, &#x27;method_name.startswith&#x27;, &#x27;self.classes.items&#x27;, &#x27;self.functions.keys&#x27;, &#x27;class_defs.append&#x27;, &#x27;self.visit&#x27;], &#x27;edges&#x27;: [{&#x27;source&#x27;: &#x27;ControlFlowVisitor&#x27;, &#x27;target&#x27;: &#x27;ControlFlowVisitor.__init__&#x27;, &#x27;target_inputs&#x27;: [&#x27;self&#x27;], &#x27;target_returns&#x27;: []}, {&#x27;source&#x27;: &#x27;ControlFlowVisitor&#x27;, &#x27;target&#x27;: &#x27;ControlFlowVisitor.generic_visit&#x27;, &#x27;target_inputs&#x27;: [&#x27;self&#x27;, &#x27;node&#x27;], &#x27;target_returns&#x27;: []}, {&#x27;source&#x27;: &#x27;ControlFlowVisitor&#x27;, &#x27;target&#x27;: &#x27;ControlFlowVisitor.get_control_flow&#x27;, &#x27;target_inputs&#x27;: [&#x27;self&#x27;], &#x27;target_returns&#x27;: [&quot;&#x27; -&gt; &#x27;.join(self.control_flow)&quot;]}, {&#x27;source&#x27;: &#x27;ControlFlowVisitor.generic_visit&#x27;, &#x27;target&#x27;: &#x27;super().generic_visit&#x27;}, {&#x27;source&#x27;: &#x27;ControlFlowVisitor.generic_visit&#x27;, &#x27;target&#x27;: &#x27;isinstance&#x27;}, {&#x27;source&#x27;: &#x27;ControlFlowVisitor.generic_visit&#x27;, &#x27;target&#x27;: &#x27;type&#x27;}, {&#x27;source&#x27;: &#x27;ControlFlowVisitor.generic_visit&#x27;, &#x27;target&#x27;: &#x27;self.node_type_to_keyword.get&#x27;}, {&#x27;source&#x27;: &#x27;ControlFlowVisitor.generic_visit&#x27;, &#x27;target&#x27;: &#x27;self.control_flow.append&#x27;}, {&#x27;source&#x27;: &#x27;ControlFlowVisitor.generic_visit&#x27;, &#x27;target&#x27;: &#x27;super&#x27;}, {&#x27;source&#x27;: &#x27;ControlFlowVisitor.get_control_flow&#x27;, &#x27;target&#x27;: &quot;&#x27; -&gt; &#x27;.join&quot;}, {&#x27;source&#x27;: &#x27;CodeVisitor&#x27;, &#x27;target&#x27;: &#x27;CodeVisitor.__init__&#x27;, &#x27;target_inputs&#x27;: [&#x27;self&#x27;, &#x27;code&#x27;], &#x27;target_returns&#x27;: []}, {&#x27;source&#x27;: &#x27;CodeVisitor&#x27;, &#x27;target&#x27;: &#x27;CodeVisitor.visit_FunctionDef&#x27;, &#x27;target_inputs&#x27;: [&#x27;self&#x27;, &#x27;node&#x27;], &#x27;target_returns&#x27;: []}, {&#x27;source&#x27;: &#x27;CodeVisitor&#x27;, &#x27;target&#x27;: &#x27;CodeVisitor.visit_ClassDef&#x27;, &#x27;target_inputs&#x27;: [&#x27;self&#x27;, &#x27;node&#x27;], &#x27;target_returns&#x27;: []}, {&#x27;source&#x27;: &#x27;CodeVisitor&#x27;, &#x27;target&#x27;: &#x27;CodeVisitor.extract_details&#x27;, &#x27;target_inputs&#x27;: [&#x27;self&#x27;, &#x27;node&#x27;, &#x27;node_type&#x27;], &#x27;target_returns&#x27;: [&#x27;details&#x27;]}, {&#x27;source&#x27;: &#x27;CodeVisitor&#x27;, &#x27;target&#x27;: &#x27;CodeVisitor.analyze&#x27;, &#x27;target_inputs&#x27;: [&#x27;self&#x27;, &#x27;node&#x27;], &#x27;target_returns&#x27;: []}, {&#x27;source&#x27;: &#x27;CodeVisitor.visit_FunctionDef&#x27;, &#x27;target&#x27;: &#x27;self.generic_visit&#x27;}, {&#x27;source&#x27;: &#x27;CodeVisitor.visit_FunctionDef&#x27;, &#x27;target&#x27;: &#x27;CodeVisitor.extract_details&#x27;, &#x27;target_inputs&#x27;: [&#x27;self&#x27;, &#x27;node&#x27;, &#x27;node_type&#x27;], &#x27;target_returns&#x27;: [&#x27;details&#x27;]}, {&#x27;source&#x27;: &#x27;CodeVisitor.visit_ClassDef&#x27;, &#x27;target&#x27;: &#x27;self.generic_visit&#x27;}, {&#x27;source&#x27;: &#x27;CodeVisitor.visit_ClassDef&#x27;, &#x27;target&#x27;: &#x27;CodeVisitor.extract_details&#x27;, &#x27;target_inputs&#x27;: [&#x27;self&#x27;, &#x27;node&#x27;, &#x27;node_type&#x27;], &#x27;target_returns&#x27;: [&#x27;details&#x27;]}, {&#x27;source&#x27;: &#x27;CodeVisitor.extract_details&#x27;, &#x27;target&#x27;: &#x27;get_all_calls&#x27;, &#x27;target_inputs&#x27;: [&#x27;node&#x27;], &#x27;target_returns&#x27;: [&#x27;calls&#x27;]}, {&#x27;source&#x27;: &#x27;CodeVisitor.extract_details&#x27;, &#x27;target&#x27;: &#x27;isinstance&#x27;}, {&#x27;source&#x27;: &#x27;CodeVisitor.extract_details&#x27;, &#x27;target&#x27;: &#x27;details.update&#x27;}, {&#x27;source&#x27;: &#x27;CodeVisitor.extract_details&#x27;, &#x27;target&#x27;: &#x27;ast.dump&#x27;}, {&#x27;source&#x27;: &#x27;CodeVisitor.extract_details&#x27;, &#x27;target&#x27;: &#x27;set&#x27;}, {&#x27;source&#x27;: &#x27;CodeVisitor.extract_details&#x27;, &#x27;target&#x27;: &#x27;ast.unparse&#x27;}, {&#x27;source&#x27;: &#x27;CodeVisitor.extract_details&#x27;, &#x27;target&#x27;: &#x27;any&#x27;}, {&#x27;source&#x27;: &#x27;CodeVisitor.extract_details&#x27;, &#x27;target&#x27;: &#x27;list&#x27;}, {&#x27;source&#x27;: &#x27;CodeVisitor.extract_details&#x27;, &#x27;target&#x27;: &#x27;ast.walk&#x27;}, {&#x27;source&#x27;: &#x27;CodeVisitor.extract_details&#x27;, &#x27;target&#x27;: &#x27;ast.get_docstring&#x27;}, {&#x27;source&#x27;: &#x27;CodeVisitor.extract_details&#x27;, &#x27;target&#x27;: &quot;self.classes[self.current_class][&#x27;class_attributes&#x27;].extend&quot;}, {&#x27;source&#x27;: &#x27;CodeVisitor.analyze&#x27;, &#x27;target&#x27;: &#x27;isinstance&#x27;}, {&#x27;source&#x27;: &#x27;CodeVisitor.analyze&#x27;, &#x27;target&#x27;: &#x27;self.functions.items&#x27;}, {&#x27;source&#x27;: &#x27;CodeVisitor.analyze&#x27;, &#x27;target&#x27;: &#x27;ast.dump&#x27;}, {&#x27;source&#x27;: &#x27;CodeVisitor.analyze&#x27;, &#x27;target&#x27;: &#x27;self.classes.keys&#x27;}, {&#x27;source&#x27;: &#x27;CodeVisitor.analyze&#x27;, &#x27;target&#x27;: &#x27;class_details.items&#x27;}, {&#x27;source&#x27;: &#x27;CodeVisitor.analyze&#x27;, &#x27;target&#x27;: &#x27;get_control_flow&#x27;, &#x27;target_inputs&#x27;: [&#x27;code&#x27;], &#x27;target_returns&#x27;: [&#x27;visitor.get_control_flow()&#x27;]}, {&#x27;source&#x27;: &#x27;CodeVisitor.analyze&#x27;, &#x27;target&#x27;: &#x27;len&#x27;}, {&#x27;source&#x27;: &#x27;CodeVisitor.analyze&#x27;, &#x27;target&#x27;: &#x27;method_name.startswith&#x27;}, {&#x27;source&#x27;: &#x27;CodeVisitor.analyze&#x27;, &#x27;target&#x27;: &#x27;self.classes.items&#x27;}, {&#x27;source&#x27;: &#x27;CodeVisitor.analyze&#x27;, &#x27;target&#x27;: &#x27;list&#x27;}, {&#x27;source&#x27;: &#x27;CodeVisitor.analyze&#x27;, &#x27;target&#x27;: &#x27;self.functions.keys&#x27;}, {&#x27;source&#x27;: &#x27;CodeVisitor.analyze&#x27;, &#x27;target&#x27;: &#x27;ast.walk&#x27;}, {&#x27;source&#x27;: &#x27;CodeVisitor.analyze&#x27;, &#x27;target&#x27;: &#x27;class_defs.append&#x27;}, {&#x27;source&#x27;: &#x27;CodeVisitor.analyze&#x27;, &#x27;target&#x27;: &#x27;self.visit&#x27;}, {&#x27;source&#x27;: &#x27;get_all_calls&#x27;, &#x27;target&#x27;: &#x27;get_all_calls&#x27;, &#x27;target_inputs&#x27;: [&#x27;node&#x27;], &#x27;target_returns&#x27;: [&#x27;calls&#x27;]}, {&#x27;source&#x27;: &#x27;get_all_calls&#x27;, &#x27;target&#x27;: &#x27;isinstance&#x27;}, {&#x27;source&#x27;: &#x27;get_all_calls&#x27;, &#x27;target&#x27;: &#x27;ast.iter_child_nodes&#x27;}, {&#x27;source&#x27;: &#x27;get_all_calls&#x27;, &#x27;target&#x27;: &#x27;calls.extend&#x27;}, {&#x27;source&#x27;: &#x27;get_all_calls&#x27;, &#x27;target&#x27;: &#x27;calls.append&#x27;}, {&#x27;source&#x27;: &#x27;get_control_flow&#x27;, &#x27;target&#x27;: &#x27;ast.parse&#x27;}, {&#x27;source&#x27;: &#x27;get_control_flow&#x27;, &#x27;target&#x27;: &#x27;ControlFlowVisitor&#x27;, &#x27;target_inputs&#x27;: [&#x27;self&#x27;], &#x27;target_returns&#x27;: []}, {&#x27;source&#x27;: &#x27;get_control_flow&#x27;, &#x27;target&#x27;: &#x27;visitor.get_control_flow&#x27;}, {&#x27;source&#x27;: &#x27;get_control_flow&#x27;, &#x27;target&#x27;: &#x27;visitor.visit&#x27;}, {&#x27;source&#x27;: &#x27;code_graph&#x27;, &#x27;target&#x27;: &#x27;function_details_lookup.keys&#x27;}, {&#x27;source&#x27;: &#x27;code_graph&#x27;, &#x27;target&#x27;: &#x27;get_edge_data_from_details&#x27;, &#x27;target_inputs&#x27;: [&#x27;target_details&#x27;], &#x27;target_returns&#x27;: [&#x27;edge_data&#x27;]}, {&#x27;source&#x27;: &#x27;code_graph&#x27;, &#x27;target&#x27;: &#x27;class_method_details_lookup.get&#x27;}, {&#x27;source&#x27;: &#x27;code_graph&#x27;, &#x27;target&#x27;: &#x27;nx.DiGraph&#x27;}, {&#x27;source&#x27;: &#x27;code_graph&#x27;, &#x27;target&#x27;: &#x27;class_def.keys&#x27;}, {&#x27;source&#x27;: &#x27;code_graph&#x27;, &#x27;target&#x27;: &#x27;function_details_lookup.items&#x27;}, {&#x27;source&#x27;: &#x27;code_graph&#x27;, &#x27;target&#x27;: &#x27;list&#x27;}, {&#x27;source&#x27;: &#x27;code_graph&#x27;, &#x27;target&#x27;: &#x27;class_def.items&#x27;}, {&#x27;source&#x27;: &#x27;code_graph&#x27;, &#x27;target&#x27;: &#x27;G.add_edge&#x27;}, {&#x27;source&#x27;: &#x27;code_graph&#x27;, &#x27;target&#x27;: &#x27;class_method_details_lookup.items&#x27;}, {&#x27;source&#x27;: &#x27;code_graph&#x27;, &#x27;target&#x27;: &#x27;add_edges_for_calls&#x27;, &#x27;target_inputs&#x27;: [&#x27;source_name&#x27;, &#x27;calls&#x27;, &#x27;internal_only&#x27;], &#x27;target_returns&#x27;: []}, {&#x27;source&#x27;: &#x27;code_graph&#x27;, &#x27;target&#x27;: &#x27;source_name.split&#x27;}, {&#x27;source&#x27;: &#x27;code_graph&#x27;, &#x27;target&#x27;: &#x27;function_details_lookup.get&#x27;}, {&#x27;source&#x27;: &#x27;code_graph&#x27;, &#x27;target&#x27;: &#x27;G[source][target].update&#x27;}, {&#x27;source&#x27;: &#x27;code_graph&#x27;, &#x27;target&#x27;: &#x27;G.edges.data&#x27;}, {&#x27;source&#x27;: &#x27;code_graph&#x27;, &#x27;target&#x27;: &#x27;called.replace&#x27;}, {&#x27;source&#x27;: &#x27;code_graph&#x27;, &#x27;target&#x27;: &#x27;called.startswith&#x27;}, {&#x27;source&#x27;: &#x27;code_graph&#x27;, &#x27;target&#x27;: &#x27;function_details_lookup.update&#x27;}, {&#x27;source&#x27;: &#x27;code_graph&#x27;, &#x27;target&#x27;: &#x27;G.add_node&#x27;}, {&#x27;source&#x27;: &#x27;code_graph&#x27;, &#x27;target&#x27;: &quot;class_details[&#x27;method_defs&#x27;].items&quot;}, {&#x27;source&#x27;: &#x27;code_graph&#x27;, &#x27;target&#x27;: &#x27;set&#x27;}, {&#x27;source&#x27;: &#x27;code_graph&#x27;, &#x27;target&#x27;: &#x27;add_edge_with_data&#x27;, &#x27;target_inputs&#x27;: [&#x27;source&#x27;, &#x27;target&#x27;, &#x27;init_method&#x27;], &#x27;target_returns&#x27;: []}, {&#x27;source&#x27;: &#x27;code_graph&#x27;, &#x27;target&#x27;: &#x27;called.split&#x27;}, {&#x27;source&#x27;: &#x27;get_edge_data_from_details&#x27;, &#x27;target&#x27;: &#x27;list&#x27;}, {&#x27;source&#x27;: &#x27;get_edge_data_from_details&#x27;, &#x27;target&#x27;: &#x27;set&#x27;}, {&#x27;source&#x27;: &#x27;add_edge_with_data&#x27;, &#x27;target&#x27;: &#x27;get_edge_data_from_details&#x27;, &#x27;target_inputs&#x27;: [&#x27;target_details&#x27;], &#x27;target_returns&#x27;: [&#x27;edge_data&#x27;]}, {&#x27;source&#x27;: &#x27;add_edge_with_data&#x27;, &#x27;target&#x27;: &#x27;function_details_lookup.get&#x27;}, {&#x27;source&#x27;: &#x27;add_edge_with_data&#x27;, &#x27;target&#x27;: &#x27;class_method_details_lookup.get&#x27;}, {&#x27;source&#x27;: &#x27;add_edge_with_data&#x27;, &#x27;target&#x27;: &#x27;G.add_edge&#x27;}, {&#x27;source&#x27;: &#x27;add_edges_for_calls&#x27;, &#x27;target&#x27;: &#x27;G.add_node&#x27;}, {&#x27;source&#x27;: &#x27;add_edges_for_calls&#x27;, &#x27;target&#x27;: &#x27;class_def.keys&#x27;}, {&#x27;source&#x27;: &#x27;add_edges_for_calls&#x27;, &#x27;target&#x27;: &#x27;source_name.split&#x27;}, {&#x27;source&#x27;: &#x27;add_edges_for_calls&#x27;, &#x27;target&#x27;: &#x27;add_edge_with_data&#x27;, &#x27;target_inputs&#x27;: [&#x27;source&#x27;, &#x27;target&#x27;, &#x27;init_method&#x27;], &#x27;target_returns&#x27;: []}, {&#x27;source&#x27;: &#x27;add_edges_for_calls&#x27;, &#x27;target&#x27;: &#x27;called.startswith&#x27;}, {&#x27;source&#x27;: &#x27;add_edges_for_calls&#x27;, &#x27;target&#x27;: &#x27;called.split&#x27;}, {&#x27;source&#x27;: &#x27;add_edges_for_calls&#x27;, &#x27;target&#x27;: &#x27;list&#x27;}, {&#x27;source&#x27;: &#x27;add_edges_for_calls&#x27;, &#x27;target&#x27;: &#x27;called.replace&#x27;}, {&#x27;source&#x27;: &#x27;get_python_file_details&#x27;, &#x27;target&#x27;: &#x27;f.read&#x27;}, {&#x27;source&#x27;: &#x27;get_python_file_details&#x27;, &#x27;target&#x27;: &#x27;CodeVisitor&#x27;, &#x27;target_inputs&#x27;: [&#x27;self&#x27;, &#x27;code&#x27;], &#x27;target_returns&#x27;: []}, {&#x27;source&#x27;: &#x27;get_python_file_details&#x27;, &#x27;target&#x27;: &#x27;logging.warning&#x27;}, {&#x27;source&#x27;: &#x27;get_python_file_details&#x27;, &#x27;target&#x27;: &quot;json.dumps(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]).replace&quot;}, {&#x27;source&#x27;: &#x27;get_python_file_details&#x27;, &#x27;target&#x27;: &#x27;visitor.analyze&#x27;}, {&#x27;source&#x27;: &#x27;get_python_file_details&#x27;, &#x27;target&#x27;: &#x27;json.dumps&#x27;}, {&#x27;source&#x27;: &#x27;get_python_file_details&#x27;, &#x27;target&#x27;: &#x27;code_graph&#x27;, &#x27;target_inputs&#x27;: [&#x27;file_summary&#x27;, &#x27;internal_only&#x27;], &#x27;target_returns&#x27;: [&#x27;edge_data&#x27;, &quot;{&#x27;nodes&#x27;: nodes, &#x27;edges&#x27;: edges}&quot;]}, {&#x27;source&#x27;: &#x27;get_python_file_details&#x27;, &#x27;target&#x27;: &#x27;ast.parse&#x27;}, {&#x27;source&#x27;: &#x27;get_python_file_details&#x27;, &#x27;target&#x27;: &#x27;open&#x27;}]}</td></tr><tr><td>What functions are defined in the Python file: &#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>&quot;&quot;&quot;<br/>Use&nbsp;AST&nbsp;to&nbsp;extract&nbsp;details&nbsp;from&nbsp;Python&nbsp;a&nbsp;file&nbsp;and&nbsp;return&nbsp;as&nbsp;a&nbsp;dictionary.<br/>Requirements:<br/>[req01]&nbsp;The&nbsp;`ControlFlowVisitor`&nbsp;class&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Inherit&nbsp;from&nbsp;`ast.NodeVisitor`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Visit&nbsp;nodes&nbsp;in&nbsp;the&nbsp;AST&nbsp;to&nbsp;extract&nbsp;control&nbsp;flow&nbsp;keywords,&nbsp;providing&nbsp;a&nbsp;high-level&nbsp;understanding&nbsp;of&nbsp;the&nbsp;program&nbsp;flow.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Provide&nbsp;the&nbsp;ability&nbsp;to&nbsp;retrieve&nbsp;a&nbsp;string&nbsp;representation&nbsp;of&nbsp;the&nbsp;control&nbsp;flow&nbsp;of&nbsp;the&nbsp;program&nbsp;using&nbsp;the&nbsp;`get_control_flow`&nbsp;method.<br/>[req02]&nbsp;The&nbsp;`CodeVisitor`&nbsp;class&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Inherit&nbsp;from&nbsp;`ast.NodeVisitor`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Traverse&nbsp;an&nbsp;AST&nbsp;to&nbsp;extract&nbsp;extensive&nbsp;details&nbsp;about&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Have&nbsp;methods&nbsp;to&nbsp;visit&nbsp;`FunctionDef`&nbsp;and&nbsp;`ClassDef`&nbsp;nodes,&nbsp;extracting&nbsp;details&nbsp;about&nbsp;functions&nbsp;and&nbsp;classes&nbsp;respectively.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Analyze&nbsp;a&nbsp;node&nbsp;and&nbsp;populate&nbsp;the&nbsp;`file_info`&nbsp;attribute&nbsp;with&nbsp;comprehensive&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Maintain&nbsp;and&nbsp;populate&nbsp;details&nbsp;about&nbsp;functions,&nbsp;classes,&nbsp;methods,&nbsp;and&nbsp;attributes.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f.&nbsp;Handle&nbsp;and&nbsp;manage&nbsp;class&nbsp;attributes,&nbsp;methods,&nbsp;inheritance,&nbsp;and&nbsp;static&nbsp;methods,&nbsp;populating&nbsp;the&nbsp;relevant&nbsp;information&nbsp;as&nbsp;needed.<br/>[req03]&nbsp;The&nbsp;`get_control_flow`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;string&nbsp;containing&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Return&nbsp;control&nbsp;flow&nbsp;keywords&nbsp;present&nbsp;in&nbsp;the&nbsp;code.<br/>[req04]&nbsp;The&nbsp;`code_graph`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;file&nbsp;summary&nbsp;as&nbsp;its&nbsp;input.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Construct&nbsp;a&nbsp;dictionary&nbsp;representation&nbsp;that&nbsp;includes&nbsp;nodes&nbsp;and&nbsp;edges,&nbsp;illustrating&nbsp;relationships&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Define&nbsp;various&nbsp;elements&nbsp;like&nbsp;function&nbsp;nodes,&nbsp;class&nbsp;nodes,&nbsp;method&nbsp;nodes.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Define&nbsp;the&nbsp;edges&nbsp;to&nbsp;depict&nbsp;relationships&nbsp;like&nbsp;function&nbsp;calls,&nbsp;method&nbsp;calls,&nbsp;and&nbsp;class&nbsp;inheritance.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Return&nbsp;the&nbsp;dictionary&nbsp;representation&nbsp;of&nbsp;the&nbsp;code&nbsp;graph.<br/>[req05]&nbsp;The&nbsp;`get_python_file_details`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;file&nbsp;path&nbsp;as&nbsp;an&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Extract&nbsp;details&nbsp;from&nbsp;the&nbsp;specified&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Include&nbsp;the&nbsp;internal&nbsp;file&nbsp;graph&nbsp;and&nbsp;entire&nbsp;file&nbsp;graph&nbsp;in&nbsp;the&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Return&nbsp;a&nbsp;dictionary&nbsp;containing&nbsp;these&nbsp;details.<br/>&quot;&quot;&quot;<br/>import&nbsp;ast<br/>import&nbsp;re<br/>import&nbsp;json<br/>import&nbsp;logging<br/>import&nbsp;networkx&nbsp;as&nbsp;nx<br/>from&nbsp;typing&nbsp;import&nbsp;Dict,&nbsp;List,&nbsp;Optional,&nbsp;Union<br/><br/><br/>class&nbsp;ControlFlowVisitor(ast.NodeVisitor):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;This&nbsp;class&nbsp;inherits&nbsp;from&nbsp;ast.NodeVisitor&nbsp;and&nbsp;is&nbsp;used&nbsp;to&nbsp;visit&nbsp;nodes&nbsp;in&nbsp;the<br/>&nbsp;&nbsp;&nbsp;&nbsp;AST&nbsp;(Abstract&nbsp;Syntax&nbsp;Tree).It&nbsp;extracts&nbsp;control&nbsp;flow&nbsp;keywords&nbsp;to&nbsp;give&nbsp;a&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;high-level&nbsp;understanding&nbsp;of&nbsp;the&nbsp;program&nbsp;flow.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_type_to_keyword&nbsp;(dict):&nbsp;A&nbsp;dictionary&nbsp;mapping&nbsp;AST&nbsp;node&nbsp;types&nbsp;to&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;corresponding&nbsp;control&nbsp;flow&nbsp;keywords.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;control_flow&nbsp;(list):&nbsp;A&nbsp;list&nbsp;storing&nbsp;the&nbsp;sequence&nbsp;of&nbsp;control&nbsp;flow&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;keywords&nbsp;encountered&nbsp;in&nbsp;the&nbsp;AST.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;__init__():&nbsp;Initializes&nbsp;a&nbsp;new&nbsp;instance&nbsp;of&nbsp;the&nbsp;class,&nbsp;setting&nbsp;up&nbsp;the<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;control&nbsp;flow&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generic_visit(node):&nbsp;Method&nbsp;to&nbsp;visit&nbsp;a&nbsp;node.&nbsp;If&nbsp;the&nbsp;node&nbsp;type&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;corresponds&nbsp;to&nbsp;a&nbsp;control&nbsp;flow&nbsp;keyword,&nbsp;it&nbsp;is&nbsp;added&nbsp;to&nbsp;the&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;control_flow&nbsp;list.&nbsp;The&nbsp;method&nbsp;then&nbsp;calls&nbsp;the&nbsp;inherited<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generic_visit&nbsp;to&nbsp;continue&nbsp;visiting&nbsp;other&nbsp;nodes.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;get_control_flow():&nbsp;Returns&nbsp;a&nbsp;string&nbsp;representing&nbsp;the&nbsp;control&nbsp;flow&nbsp;of<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;program.&nbsp;The&nbsp;control&nbsp;flow&nbsp;keywords&nbsp;are&nbsp;joined&nbsp;in&nbsp;the&nbsp;order&nbsp;they<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;were&nbsp;encountered&nbsp;during&nbsp;the&nbsp;AST&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;node_type_to_keyword&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast.If:&nbsp;&quot;if&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast.While:&nbsp;&quot;while&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast.For:&nbsp;&quot;for&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast.AsyncFor:&nbsp;&quot;for&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast.AsyncWith:&nbsp;&quot;with&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast.Try:&nbsp;&quot;try&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast.With:&nbsp;&quot;with&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast.ExceptHandler:&nbsp;&quot;except&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast.FunctionDef:&nbsp;&quot;def&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast.AsyncFunctionDef:&nbsp;&quot;def&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast.ClassDef:&nbsp;&quot;class&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast.Module:&nbsp;&quot;module&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.control_flow&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;generic_visit(self,&nbsp;node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;keyword&nbsp;=&nbsp;self.node_type_to_keyword.get(type(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;keyword:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;isinstance(node,&nbsp;ast.FunctionDef):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.control_flow.append(keyword&nbsp;+&nbsp;&#x27;&nbsp;&#x27;&nbsp;+&nbsp;node.name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.control_flow.append(keyword)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;super().generic_visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_control_flow(self):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;&nbsp;-&gt;&nbsp;&#x27;.join(self.control_flow)<br/><br/>def&nbsp;get_all_calls(node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Recursively&nbsp;find&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;`node`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;calls&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;child&nbsp;in&nbsp;ast.iter_child_nodes(node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;isinstance(child,&nbsp;ast.Call):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls.append(child)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls.extend(get_all_calls(child))<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;calls<br/><br/>class&nbsp;CodeVisitor(ast.NodeVisitor):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Visitor&nbsp;class&nbsp;for&nbsp;traversing&nbsp;an&nbsp;AST&nbsp;(Abstract&nbsp;Syntax&nbsp;Tree)&nbsp;and&nbsp;extracting<br/>&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;about&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;(str):&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;functions(Dict):&nbsp;details&nbsp;about&nbsp;functions&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;classes&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;classes&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_info&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_FunctionDef(node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:&nbsp;Extract&nbsp;details&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_ClassDef(node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;extract_details(node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;analyze(node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:&nbsp;Populate&nbsp;file_info&nbsp;with&nbsp;details&nbsp;about<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;code:&nbsp;str):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;initialize&nbsp;dictionaries&nbsp;to&nbsp;store&nbsp;function,&nbsp;class,&nbsp;and&nbsp;file&nbsp;definitions<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.code:&nbsp;str&nbsp;=&nbsp;code<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info:&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class:&nbsp;str&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_FunctionDef(self,&nbsp;node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.current_class:&nbsp;#&nbsp;if&nbsp;inside&nbsp;a&nbsp;class,&nbsp;add&nbsp;this&nbsp;function&nbsp;as&nbsp;a&nbsp;method&nbsp;of&nbsp;the&nbsp;class<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][f&#x27;class_method_{node.name}&#x27;]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;method&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:&nbsp;#&nbsp;populate&nbsp;function&nbsp;dictionary&nbsp;when&nbsp;function&nbsp;definition&nbsp;found&nbsp;in&nbsp;AST<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions[node.name]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;function&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)&nbsp;#&nbsp;continue&nbsp;AST&nbsp;traversal&nbsp;to&nbsp;the&nbsp;next&nbsp;node<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_ClassDef(self,&nbsp;node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[node.name]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;class&#x27;)&nbsp;#&nbsp;populate&nbsp;class&nbsp;dictionary&nbsp;when&nbsp;class&nbsp;definition&nbsp;found&nbsp;in&nbsp;AST<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;node.name&nbsp;&nbsp;#&nbsp;set&nbsp;current_class&nbsp;to&nbsp;indicate&nbsp;inside&nbsp;a&nbsp;class<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)&nbsp;#&nbsp;continue&nbsp;AST&nbsp;traversal&nbsp;to&nbsp;the&nbsp;next&nbsp;node<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;None&nbsp;&nbsp;#&nbsp;reset&nbsp;current_class&nbsp;when&nbsp;finished&nbsp;with&nbsp;this&nbsp;class<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;extract_details(self,&nbsp;node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_name&quot;:&nbsp;node.name,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_code&quot;:&nbsp;ast.unparse(node),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_ast&quot;:&nbsp;ast.dump(node,&nbsp;include_attributes=True),&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_docstring&quot;:&nbsp;ast.get_docstring(node),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_inputs&quot;:&nbsp;[arg.arg&nbsp;for&nbsp;arg&nbsp;in&nbsp;node.args.args]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_defaults&quot;:&nbsp;[ast.unparse(d)&nbsp;for&nbsp;d&nbsp;in&nbsp;node.args.defaults]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_returns&quot;:&nbsp;[ast.unparse(subnode.value)&nbsp;if&nbsp;subnode.value&nbsp;is&nbsp;not&nbsp;None&nbsp;else&nbsp;&quot;None&quot;&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Return)],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_calls&quot;:&nbsp;list({ast.unparse(n.func)&nbsp;for&nbsp;n&nbsp;in&nbsp;get_all_calls(node)}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_variables&quot;:&nbsp;list({ast.unparse(target)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Name)}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_decorators&quot;:&nbsp;list({ast.unparse(decorator)&nbsp;for&nbsp;decorator&nbsp;in&nbsp;node.decorator_list}&nbsp;if&nbsp;node.decorator_list&nbsp;else&nbsp;set()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_annotations&quot;:&nbsp;list({ast.unparse(subnode.annotation)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.AnnAssign)&nbsp;and&nbsp;subnode.annotation&nbsp;is&nbsp;not&nbsp;None}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_properties&quot;:&nbsp;list({ast.unparse(subnode)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(subnode.ctx,&nbsp;ast.Store)}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;class&#x27;&nbsp;or&nbsp;node_type&nbsp;==&nbsp;&#x27;method&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;method&#x27;&nbsp;and&nbsp;self.current_class:&nbsp;#&nbsp;find&nbsp;attributes&nbsp;defined&nbsp;as&nbsp;self.attribute<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attributes&nbsp;=&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(target.value,&nbsp;ast.Name)&nbsp;and&nbsp;target.value.id&nbsp;==&nbsp;&#x27;self&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;attributes:&nbsp;#&nbsp;if&nbsp;this&nbsp;class&nbsp;already&nbsp;has&nbsp;some&nbsp;attributes,&nbsp;add&nbsp;to&nbsp;them<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&quot;class_attributes&quot;&nbsp;in&nbsp;self.classes[self.current_class]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][&quot;class_attributes&quot;].extend(attributes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:&nbsp;#&nbsp;otherwise,&nbsp;start&nbsp;a&nbsp;new&nbsp;list&nbsp;of&nbsp;attributes&nbsp;for&nbsp;this&nbsp;class<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][&quot;class_attributes&quot;]&nbsp;=&nbsp;attributes<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details.update({<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;class_attributes&quot;:&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;class_methods&quot;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&quot;__init__&quot;],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;class_inheritance&quot;:&nbsp;[ast.unparse(base)&nbsp;for&nbsp;base&nbsp;in&nbsp;node.bases]&nbsp;if&nbsp;node.bases&nbsp;else&nbsp;[],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;class_static_methods&quot;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&quot;__init__&quot;&nbsp;and&nbsp;any(isinstance(decorator,&nbsp;ast.Name)&nbsp;and&nbsp;decorator.id&nbsp;==&nbsp;&quot;staticmethod&quot;&nbsp;for&nbsp;decorator&nbsp;in&nbsp;subnode.decorator_list)],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;details<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;analyze(self,&nbsp;node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;traverse&nbsp;the&nbsp;AST&nbsp;rooted&nbsp;at&nbsp;&#x27;node&#x27;,&nbsp;create&nbsp;a&nbsp;list&nbsp;of&nbsp;all&nbsp;nodes&nbsp;within&nbsp;the&nbsp;current&nbsp;file,&nbsp;and&nbsp;populate&nbsp;&#x27;file_info&#x27;&nbsp;with&nbsp;file&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;file_code&quot;:&nbsp;self.code,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;file_ast&quot;&nbsp;:&nbsp;ast.dump(node),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;file_dependencies&quot;:&nbsp;list({alias.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Import)&nbsp;for&nbsp;alias&nbsp;in&nbsp;subnode.names}&nbsp;|&nbsp;{subnode.module&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.ImportFrom)}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;file_functions&quot;:&nbsp;list(self.functions.keys()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;file_classes&quot;:&nbsp;list(self.classes.keys()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;file_control_flow&quot;:&nbsp;get_control_flow(self.code),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;add&nbsp;file_summary&nbsp;to&nbsp;file_info<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_defs&nbsp;=&nbsp;[{func_name:&nbsp;{&quot;inputs&quot;:&nbsp;details[&quot;function_inputs&quot;],&nbsp;&quot;calls&quot;:&nbsp;details[&quot;function_calls&quot;],&nbsp;&quot;returns&quot;:&nbsp;details[&quot;function_returns&quot;]}}&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;self.functions.items()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;self.classes.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;details&nbsp;in&nbsp;class_details.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;method_name.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs[method_name[len(&#x27;class_method_&#x27;):]]&nbsp;=&nbsp;{&quot;inputs&quot;:&nbsp;details[&quot;method_inputs&quot;],&nbsp;&quot;calls&quot;:&nbsp;details[&quot;method_calls&quot;],&nbsp;&quot;returns&quot;:&nbsp;details[&quot;method_returns&quot;]}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs.append({class_name:&nbsp;{&quot;method_defs&quot;:&nbsp;method_defs}})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&quot;file_summary&quot;]&nbsp;=&nbsp;{&nbsp;&#x27;dependencies&#x27;:&nbsp;self.file_info[&quot;file_dependencies&quot;],&nbsp;&#x27;function_defs&#x27;&nbsp;:&nbsp;function_defs,&nbsp;&#x27;class_defs&#x27;&nbsp;:&nbsp;class_defs}<br/><br/><br/>def&nbsp;get_control_flow(code:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;control&nbsp;flow&nbsp;keywords&nbsp;from&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code:&nbsp;str:&nbsp;The&nbsp;source&nbsp;code&nbsp;to&nbsp;extract&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;control&nbsp;flow&nbsp;keywords&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor&nbsp;=&nbsp;ControlFlowVisitor()<br/>&nbsp;&nbsp;&nbsp;&nbsp;tree&nbsp;=&nbsp;ast.parse(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor.visit(tree)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;visitor.get_control_flow()<br/><br/><br/>def&nbsp;code_graph(file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]],&nbsp;internal_only:&nbsp;bool&nbsp;=&nbsp;True)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[List[str],&nbsp;Dict[str,&nbsp;List[str]]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Create&nbsp;a&nbsp;dictionary&nbsp;representation&nbsp;of&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;internal_only:&nbsp;bool:&nbsp;If&nbsp;True,&nbsp;only&nbsp;include&nbsp;function&nbsp;calls&nbsp;where&nbsp;both&nbsp;the&nbsp;caller&nbsp;and&nbsp;called&nbsp;function&nbsp;are&nbsp;within&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dict:&nbsp;A&nbsp;dictionary&nbsp;with&nbsp;nodes&nbsp;and&nbsp;edges&nbsp;representing&nbsp;the&nbsp;relationships<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;G&nbsp;=&nbsp;nx.DiGraph()<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Create&nbsp;lookup&nbsp;dictionaries&nbsp;for&nbsp;function&nbsp;and&nbsp;class&nbsp;method&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_def&nbsp;in&nbsp;file_summary[&#x27;function_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup.update(function_def)<br/>&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;class_def.items():&nbsp;#&nbsp;Extract&nbsp;class&nbsp;name&nbsp;and&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(class_name)&nbsp;#&nbsp;Add&nbsp;class&nbsp;as&nbsp;a&nbsp;graph&nbsp;node<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;method_details&nbsp;in&nbsp;class_details[&#x27;method_defs&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qualified_method_name&nbsp;=&nbsp;f&#x27;{class_name}.{method_name}&#x27;&nbsp;#&nbsp;Create&nbsp;method&nbsp;fully&nbsp;qualified&nbsp;name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(qualified_method_name)&nbsp;#&nbsp;Add&nbsp;method&nbsp;as&nbsp;a&nbsp;graph&nbsp;node<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup[qualified_method_name]&nbsp;=&nbsp;method_details&nbsp;&nbsp;#&nbsp;Store&nbsp;method&nbsp;details&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(class_name,&nbsp;qualified_method_name)&nbsp;#&nbsp;Add&nbsp;edge&nbsp;from&nbsp;class&nbsp;to&nbsp;method<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Helper&nbsp;function&nbsp;to&nbsp;extract&nbsp;edge&nbsp;data&nbsp;from&nbsp;target&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_edge_data_from_details(target_details:&nbsp;dict)&nbsp;-&gt;&nbsp;dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;inputs&#x27;&nbsp;in&nbsp;target_details:&nbsp;#&nbsp;If&nbsp;the&nbsp;target&nbsp;details&nbsp;contain&nbsp;inputs,&nbsp;add&nbsp;them&nbsp;to&nbsp;the&nbsp;edge&nbsp;data.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;target_details[&#x27;inputs&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;returns&#x27;&nbsp;in&nbsp;target_details:&nbsp;&nbsp;#&nbsp;If&nbsp;the&nbsp;target&nbsp;details&nbsp;contain&nbsp;returns,&nbsp;add&nbsp;them&nbsp;to&nbsp;the&nbsp;edge&nbsp;data.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_returns&#x27;]&nbsp;=&nbsp;list(set(target_details[&#x27;returns&#x27;]))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;edge_data<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Helper&nbsp;function&nbsp;to&nbsp;add&nbsp;edge&nbsp;with&nbsp;data<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edge_with_data(source:&nbsp;str,&nbsp;target:&nbsp;str,&nbsp;init_method:&nbsp;Optional[str]&nbsp;=&nbsp;None)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;class_method_details_lookup.get(init_method)&nbsp;or&nbsp;function_details_lookup.get(target)&nbsp;or&nbsp;class_method_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;get_edge_data_from_details(target_details)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(source,&nbsp;target,&nbsp;**edge_data)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Helper&nbsp;function&nbsp;to&nbsp;add&nbsp;edges&nbsp;for&nbsp;function&nbsp;or&nbsp;class&nbsp;method&nbsp;calls<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edges_for_calls(source_name,&nbsp;calls,&nbsp;internal_only=True):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_names&nbsp;=&nbsp;[list(class_def.keys())[0]&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;called&nbsp;in&nbsp;calls:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called_class_name&nbsp;=&nbsp;called.split(&#x27;.&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called.startswith(&quot;self.&quot;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;called.replace(&quot;self.&quot;,&nbsp;&quot;&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fully_qualified_name&nbsp;=&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{method_name}&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;fully_qualified_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;fully_qualified_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called&nbsp;in&nbsp;function_details_lookup&nbsp;or&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called&nbsp;in&nbsp;class_method_details_lookup&nbsp;or&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{called}&quot;&nbsp;in&nbsp;class_method_details_lookup<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;called_class_name&nbsp;in&nbsp;class_names:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method_name&nbsp;=&nbsp;f&quot;{called}.__init__&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;init_method_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;init_method_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called,&nbsp;init_method)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;not&nbsp;internal_only:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Add&nbsp;function&nbsp;nodes&nbsp;to&nbsp;graph&nbsp;and&nbsp;edges&nbsp;for&nbsp;function&nbsp;calls<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_name&nbsp;in&nbsp;function_details_lookup.keys():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(function_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;function_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(func_name,&nbsp;details[&#x27;calls&#x27;],&nbsp;internal_only)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Add&nbsp;edges&nbsp;for&nbsp;method&nbsp;calls<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;qualified_method_name,&nbsp;details&nbsp;in&nbsp;class_method_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(qualified_method_name,&nbsp;details[&#x27;calls&#x27;],&nbsp;internal_only)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Add&nbsp;edge&nbsp;data&nbsp;to&nbsp;edges&nbsp;and&nbsp;create&nbsp;node&nbsp;and&nbsp;edges&nbsp;to&nbsp;return<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source,&nbsp;target&nbsp;=&nbsp;edge<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;function_details_lookup.get(target)&nbsp;or&nbsp;class_method_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;get_edge_data_from_details(target_details)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G[source][target].update(edge_data)<br/>&nbsp;&nbsp;&nbsp;&nbsp;nodes&nbsp;=&nbsp;list(G.nodes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;edges&nbsp;=&nbsp;[{&quot;source&quot;:&nbsp;edge[0],&nbsp;&quot;target&quot;:&nbsp;edge[1],&nbsp;**edge[2]}&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges.data()]<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;nodes&quot;:&nbsp;nodes,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;edges&quot;:&nbsp;edges,<br/>&nbsp;&nbsp;&nbsp;&nbsp;}<br/><br/><br/>def&nbsp;get_python_file_details(file_path:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;from&nbsp;a&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path:&nbsp;str:&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(file_path,&nbsp;&quot;r&quot;,&nbsp;encoding=&quot;utf-8&quot;,&nbsp;errors=&#x27;ignore&#x27;)&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;=&nbsp;f.read()<br/>&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;PermissionError:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.warning(f&quot;Permission&nbsp;denied:&nbsp;{file_path}&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;None&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tree&nbsp;=&nbsp;ast.parse(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;SyntaxError:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.warning(f&quot;Syntax&nbsp;error&nbsp;in&nbsp;file:&nbsp;{file_path}&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor&nbsp;=&nbsp;CodeVisitor(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor.analyze(tree)<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;file_info&#x27;:&nbsp;visitor.file_info,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;functions&#x27;:&nbsp;visitor.functions,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;classes&#x27;:&nbsp;visitor.classes<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;add&nbsp;graphs&nbsp;and&nbsp;clean&nbsp;up&nbsp;file_summary<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;internal_code_graph&#x27;]&nbsp;=&nbsp;code_graph(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;entire_code_graph&#x27;]&nbsp;=&nbsp;code_graph(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;],&nbsp;internal_only=False)<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]&nbsp;=&nbsp;json.dumps(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]).replace(&#x27;\&quot;&#x27;,&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;file_details</td><td>get_all_calls, add_edges_for_calls, add_edge_with_data, get_edge_data_from_details, get_control_flow, get_python_file_details, code_graph</td></tr><tr><td>What classes are defined in the Python file: &#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>&quot;&quot;&quot;<br/>Use&nbsp;AST&nbsp;to&nbsp;extract&nbsp;details&nbsp;from&nbsp;Python&nbsp;a&nbsp;file&nbsp;and&nbsp;return&nbsp;as&nbsp;a&nbsp;dictionary.<br/>Requirements:<br/>[req01]&nbsp;The&nbsp;`ControlFlowVisitor`&nbsp;class&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Inherit&nbsp;from&nbsp;`ast.NodeVisitor`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Visit&nbsp;nodes&nbsp;in&nbsp;the&nbsp;AST&nbsp;to&nbsp;extract&nbsp;control&nbsp;flow&nbsp;keywords,&nbsp;providing&nbsp;a&nbsp;high-level&nbsp;understanding&nbsp;of&nbsp;the&nbsp;program&nbsp;flow.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Provide&nbsp;the&nbsp;ability&nbsp;to&nbsp;retrieve&nbsp;a&nbsp;string&nbsp;representation&nbsp;of&nbsp;the&nbsp;control&nbsp;flow&nbsp;of&nbsp;the&nbsp;program&nbsp;using&nbsp;the&nbsp;`get_control_flow`&nbsp;method.<br/>[req02]&nbsp;The&nbsp;`CodeVisitor`&nbsp;class&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Inherit&nbsp;from&nbsp;`ast.NodeVisitor`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Traverse&nbsp;an&nbsp;AST&nbsp;to&nbsp;extract&nbsp;extensive&nbsp;details&nbsp;about&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Have&nbsp;methods&nbsp;to&nbsp;visit&nbsp;`FunctionDef`&nbsp;and&nbsp;`ClassDef`&nbsp;nodes,&nbsp;extracting&nbsp;details&nbsp;about&nbsp;functions&nbsp;and&nbsp;classes&nbsp;respectively.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Analyze&nbsp;a&nbsp;node&nbsp;and&nbsp;populate&nbsp;the&nbsp;`file_info`&nbsp;attribute&nbsp;with&nbsp;comprehensive&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Maintain&nbsp;and&nbsp;populate&nbsp;details&nbsp;about&nbsp;functions,&nbsp;classes,&nbsp;methods,&nbsp;and&nbsp;attributes.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f.&nbsp;Handle&nbsp;and&nbsp;manage&nbsp;class&nbsp;attributes,&nbsp;methods,&nbsp;inheritance,&nbsp;and&nbsp;static&nbsp;methods,&nbsp;populating&nbsp;the&nbsp;relevant&nbsp;information&nbsp;as&nbsp;needed.<br/>[req03]&nbsp;The&nbsp;`get_control_flow`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;string&nbsp;containing&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Return&nbsp;control&nbsp;flow&nbsp;keywords&nbsp;present&nbsp;in&nbsp;the&nbsp;code.<br/>[req04]&nbsp;The&nbsp;`code_graph`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;file&nbsp;summary&nbsp;as&nbsp;its&nbsp;input.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Construct&nbsp;a&nbsp;dictionary&nbsp;representation&nbsp;that&nbsp;includes&nbsp;nodes&nbsp;and&nbsp;edges,&nbsp;illustrating&nbsp;relationships&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Define&nbsp;various&nbsp;elements&nbsp;like&nbsp;function&nbsp;nodes,&nbsp;class&nbsp;nodes,&nbsp;method&nbsp;nodes.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Define&nbsp;the&nbsp;edges&nbsp;to&nbsp;depict&nbsp;relationships&nbsp;like&nbsp;function&nbsp;calls,&nbsp;method&nbsp;calls,&nbsp;and&nbsp;class&nbsp;inheritance.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Return&nbsp;the&nbsp;dictionary&nbsp;representation&nbsp;of&nbsp;the&nbsp;code&nbsp;graph.<br/>[req05]&nbsp;The&nbsp;`get_python_file_details`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;file&nbsp;path&nbsp;as&nbsp;an&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Extract&nbsp;details&nbsp;from&nbsp;the&nbsp;specified&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Include&nbsp;the&nbsp;internal&nbsp;file&nbsp;graph&nbsp;and&nbsp;entire&nbsp;file&nbsp;graph&nbsp;in&nbsp;the&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Return&nbsp;a&nbsp;dictionary&nbsp;containing&nbsp;these&nbsp;details.<br/>&quot;&quot;&quot;<br/>import&nbsp;ast<br/>import&nbsp;re<br/>import&nbsp;json<br/>import&nbsp;logging<br/>import&nbsp;networkx&nbsp;as&nbsp;nx<br/>from&nbsp;typing&nbsp;import&nbsp;Dict,&nbsp;List,&nbsp;Optional,&nbsp;Union<br/><br/><br/>class&nbsp;ControlFlowVisitor(ast.NodeVisitor):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;This&nbsp;class&nbsp;inherits&nbsp;from&nbsp;ast.NodeVisitor&nbsp;and&nbsp;is&nbsp;used&nbsp;to&nbsp;visit&nbsp;nodes&nbsp;in&nbsp;the<br/>&nbsp;&nbsp;&nbsp;&nbsp;AST&nbsp;(Abstract&nbsp;Syntax&nbsp;Tree).It&nbsp;extracts&nbsp;control&nbsp;flow&nbsp;keywords&nbsp;to&nbsp;give&nbsp;a&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;high-level&nbsp;understanding&nbsp;of&nbsp;the&nbsp;program&nbsp;flow.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_type_to_keyword&nbsp;(dict):&nbsp;A&nbsp;dictionary&nbsp;mapping&nbsp;AST&nbsp;node&nbsp;types&nbsp;to&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;corresponding&nbsp;control&nbsp;flow&nbsp;keywords.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;control_flow&nbsp;(list):&nbsp;A&nbsp;list&nbsp;storing&nbsp;the&nbsp;sequence&nbsp;of&nbsp;control&nbsp;flow&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;keywords&nbsp;encountered&nbsp;in&nbsp;the&nbsp;AST.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;__init__():&nbsp;Initializes&nbsp;a&nbsp;new&nbsp;instance&nbsp;of&nbsp;the&nbsp;class,&nbsp;setting&nbsp;up&nbsp;the<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;control&nbsp;flow&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generic_visit(node):&nbsp;Method&nbsp;to&nbsp;visit&nbsp;a&nbsp;node.&nbsp;If&nbsp;the&nbsp;node&nbsp;type&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;corresponds&nbsp;to&nbsp;a&nbsp;control&nbsp;flow&nbsp;keyword,&nbsp;it&nbsp;is&nbsp;added&nbsp;to&nbsp;the&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;control_flow&nbsp;list.&nbsp;The&nbsp;method&nbsp;then&nbsp;calls&nbsp;the&nbsp;inherited<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generic_visit&nbsp;to&nbsp;continue&nbsp;visiting&nbsp;other&nbsp;nodes.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;get_control_flow():&nbsp;Returns&nbsp;a&nbsp;string&nbsp;representing&nbsp;the&nbsp;control&nbsp;flow&nbsp;of<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;program.&nbsp;The&nbsp;control&nbsp;flow&nbsp;keywords&nbsp;are&nbsp;joined&nbsp;in&nbsp;the&nbsp;order&nbsp;they<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;were&nbsp;encountered&nbsp;during&nbsp;the&nbsp;AST&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;node_type_to_keyword&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast.If:&nbsp;&quot;if&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast.While:&nbsp;&quot;while&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast.For:&nbsp;&quot;for&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast.AsyncFor:&nbsp;&quot;for&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast.AsyncWith:&nbsp;&quot;with&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast.Try:&nbsp;&quot;try&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast.With:&nbsp;&quot;with&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast.ExceptHandler:&nbsp;&quot;except&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast.FunctionDef:&nbsp;&quot;def&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast.AsyncFunctionDef:&nbsp;&quot;def&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast.ClassDef:&nbsp;&quot;class&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast.Module:&nbsp;&quot;module&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.control_flow&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;generic_visit(self,&nbsp;node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;keyword&nbsp;=&nbsp;self.node_type_to_keyword.get(type(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;keyword:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;isinstance(node,&nbsp;ast.FunctionDef):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.control_flow.append(keyword&nbsp;+&nbsp;&#x27;&nbsp;&#x27;&nbsp;+&nbsp;node.name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.control_flow.append(keyword)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;super().generic_visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_control_flow(self):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;&nbsp;-&gt;&nbsp;&#x27;.join(self.control_flow)<br/><br/>def&nbsp;get_all_calls(node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Recursively&nbsp;find&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;`node`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;calls&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;child&nbsp;in&nbsp;ast.iter_child_nodes(node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;isinstance(child,&nbsp;ast.Call):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls.append(child)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls.extend(get_all_calls(child))<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;calls<br/><br/>class&nbsp;CodeVisitor(ast.NodeVisitor):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Visitor&nbsp;class&nbsp;for&nbsp;traversing&nbsp;an&nbsp;AST&nbsp;(Abstract&nbsp;Syntax&nbsp;Tree)&nbsp;and&nbsp;extracting<br/>&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;about&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;(str):&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;functions(Dict):&nbsp;details&nbsp;about&nbsp;functions&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;classes&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;classes&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_info&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_FunctionDef(node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:&nbsp;Extract&nbsp;details&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_ClassDef(node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;extract_details(node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;analyze(node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:&nbsp;Populate&nbsp;file_info&nbsp;with&nbsp;details&nbsp;about<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;code:&nbsp;str):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;initialize&nbsp;dictionaries&nbsp;to&nbsp;store&nbsp;function,&nbsp;class,&nbsp;and&nbsp;file&nbsp;definitions<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.code:&nbsp;str&nbsp;=&nbsp;code<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info:&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class:&nbsp;str&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_FunctionDef(self,&nbsp;node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.current_class:&nbsp;#&nbsp;if&nbsp;inside&nbsp;a&nbsp;class,&nbsp;add&nbsp;this&nbsp;function&nbsp;as&nbsp;a&nbsp;method&nbsp;of&nbsp;the&nbsp;class<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][f&#x27;class_method_{node.name}&#x27;]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;method&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:&nbsp;#&nbsp;populate&nbsp;function&nbsp;dictionary&nbsp;when&nbsp;function&nbsp;definition&nbsp;found&nbsp;in&nbsp;AST<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions[node.name]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;function&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)&nbsp;#&nbsp;continue&nbsp;AST&nbsp;traversal&nbsp;to&nbsp;the&nbsp;next&nbsp;node<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_ClassDef(self,&nbsp;node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[node.name]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;class&#x27;)&nbsp;#&nbsp;populate&nbsp;class&nbsp;dictionary&nbsp;when&nbsp;class&nbsp;definition&nbsp;found&nbsp;in&nbsp;AST<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;node.name&nbsp;&nbsp;#&nbsp;set&nbsp;current_class&nbsp;to&nbsp;indicate&nbsp;inside&nbsp;a&nbsp;class<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)&nbsp;#&nbsp;continue&nbsp;AST&nbsp;traversal&nbsp;to&nbsp;the&nbsp;next&nbsp;node<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;None&nbsp;&nbsp;#&nbsp;reset&nbsp;current_class&nbsp;when&nbsp;finished&nbsp;with&nbsp;this&nbsp;class<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;extract_details(self,&nbsp;node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_name&quot;:&nbsp;node.name,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_code&quot;:&nbsp;ast.unparse(node),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_ast&quot;:&nbsp;ast.dump(node,&nbsp;include_attributes=True),&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_docstring&quot;:&nbsp;ast.get_docstring(node),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_inputs&quot;:&nbsp;[arg.arg&nbsp;for&nbsp;arg&nbsp;in&nbsp;node.args.args]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_defaults&quot;:&nbsp;[ast.unparse(d)&nbsp;for&nbsp;d&nbsp;in&nbsp;node.args.defaults]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_returns&quot;:&nbsp;[ast.unparse(subnode.value)&nbsp;if&nbsp;subnode.value&nbsp;is&nbsp;not&nbsp;None&nbsp;else&nbsp;&quot;None&quot;&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Return)],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_calls&quot;:&nbsp;list({ast.unparse(n.func)&nbsp;for&nbsp;n&nbsp;in&nbsp;get_all_calls(node)}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_variables&quot;:&nbsp;list({ast.unparse(target)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Name)}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_decorators&quot;:&nbsp;list({ast.unparse(decorator)&nbsp;for&nbsp;decorator&nbsp;in&nbsp;node.decorator_list}&nbsp;if&nbsp;node.decorator_list&nbsp;else&nbsp;set()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_annotations&quot;:&nbsp;list({ast.unparse(subnode.annotation)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.AnnAssign)&nbsp;and&nbsp;subnode.annotation&nbsp;is&nbsp;not&nbsp;None}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_properties&quot;:&nbsp;list({ast.unparse(subnode)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(subnode.ctx,&nbsp;ast.Store)}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;class&#x27;&nbsp;or&nbsp;node_type&nbsp;==&nbsp;&#x27;method&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;method&#x27;&nbsp;and&nbsp;self.current_class:&nbsp;#&nbsp;find&nbsp;attributes&nbsp;defined&nbsp;as&nbsp;self.attribute<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attributes&nbsp;=&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(target.value,&nbsp;ast.Name)&nbsp;and&nbsp;target.value.id&nbsp;==&nbsp;&#x27;self&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;attributes:&nbsp;#&nbsp;if&nbsp;this&nbsp;class&nbsp;already&nbsp;has&nbsp;some&nbsp;attributes,&nbsp;add&nbsp;to&nbsp;them<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&quot;class_attributes&quot;&nbsp;in&nbsp;self.classes[self.current_class]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][&quot;class_attributes&quot;].extend(attributes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:&nbsp;#&nbsp;otherwise,&nbsp;start&nbsp;a&nbsp;new&nbsp;list&nbsp;of&nbsp;attributes&nbsp;for&nbsp;this&nbsp;class<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][&quot;class_attributes&quot;]&nbsp;=&nbsp;attributes<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details.update({<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;class_attributes&quot;:&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;class_methods&quot;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&quot;__init__&quot;],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;class_inheritance&quot;:&nbsp;[ast.unparse(base)&nbsp;for&nbsp;base&nbsp;in&nbsp;node.bases]&nbsp;if&nbsp;node.bases&nbsp;else&nbsp;[],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;class_static_methods&quot;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&quot;__init__&quot;&nbsp;and&nbsp;any(isinstance(decorator,&nbsp;ast.Name)&nbsp;and&nbsp;decorator.id&nbsp;==&nbsp;&quot;staticmethod&quot;&nbsp;for&nbsp;decorator&nbsp;in&nbsp;subnode.decorator_list)],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;details<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;analyze(self,&nbsp;node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;traverse&nbsp;the&nbsp;AST&nbsp;rooted&nbsp;at&nbsp;&#x27;node&#x27;,&nbsp;create&nbsp;a&nbsp;list&nbsp;of&nbsp;all&nbsp;nodes&nbsp;within&nbsp;the&nbsp;current&nbsp;file,&nbsp;and&nbsp;populate&nbsp;&#x27;file_info&#x27;&nbsp;with&nbsp;file&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;file_code&quot;:&nbsp;self.code,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;file_ast&quot;&nbsp;:&nbsp;ast.dump(node),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;file_dependencies&quot;:&nbsp;list({alias.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Import)&nbsp;for&nbsp;alias&nbsp;in&nbsp;subnode.names}&nbsp;|&nbsp;{subnode.module&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.ImportFrom)}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;file_functions&quot;:&nbsp;list(self.functions.keys()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;file_classes&quot;:&nbsp;list(self.classes.keys()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;file_control_flow&quot;:&nbsp;get_control_flow(self.code),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;add&nbsp;file_summary&nbsp;to&nbsp;file_info<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_defs&nbsp;=&nbsp;[{func_name:&nbsp;{&quot;inputs&quot;:&nbsp;details[&quot;function_inputs&quot;],&nbsp;&quot;calls&quot;:&nbsp;details[&quot;function_calls&quot;],&nbsp;&quot;returns&quot;:&nbsp;details[&quot;function_returns&quot;]}}&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;self.functions.items()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;self.classes.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;details&nbsp;in&nbsp;class_details.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;method_name.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs[method_name[len(&#x27;class_method_&#x27;):]]&nbsp;=&nbsp;{&quot;inputs&quot;:&nbsp;details[&quot;method_inputs&quot;],&nbsp;&quot;calls&quot;:&nbsp;details[&quot;method_calls&quot;],&nbsp;&quot;returns&quot;:&nbsp;details[&quot;method_returns&quot;]}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs.append({class_name:&nbsp;{&quot;method_defs&quot;:&nbsp;method_defs}})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&quot;file_summary&quot;]&nbsp;=&nbsp;{&nbsp;&#x27;dependencies&#x27;:&nbsp;self.file_info[&quot;file_dependencies&quot;],&nbsp;&#x27;function_defs&#x27;&nbsp;:&nbsp;function_defs,&nbsp;&#x27;class_defs&#x27;&nbsp;:&nbsp;class_defs}<br/><br/><br/>def&nbsp;get_control_flow(code:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;control&nbsp;flow&nbsp;keywords&nbsp;from&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code:&nbsp;str:&nbsp;The&nbsp;source&nbsp;code&nbsp;to&nbsp;extract&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;control&nbsp;flow&nbsp;keywords&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor&nbsp;=&nbsp;ControlFlowVisitor()<br/>&nbsp;&nbsp;&nbsp;&nbsp;tree&nbsp;=&nbsp;ast.parse(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor.visit(tree)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;visitor.get_control_flow()<br/><br/><br/>def&nbsp;code_graph(file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]],&nbsp;internal_only:&nbsp;bool&nbsp;=&nbsp;True)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[List[str],&nbsp;Dict[str,&nbsp;List[str]]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Create&nbsp;a&nbsp;dictionary&nbsp;representation&nbsp;of&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;internal_only:&nbsp;bool:&nbsp;If&nbsp;True,&nbsp;only&nbsp;include&nbsp;function&nbsp;calls&nbsp;where&nbsp;both&nbsp;the&nbsp;caller&nbsp;and&nbsp;called&nbsp;function&nbsp;are&nbsp;within&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dict:&nbsp;A&nbsp;dictionary&nbsp;with&nbsp;nodes&nbsp;and&nbsp;edges&nbsp;representing&nbsp;the&nbsp;relationships<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;G&nbsp;=&nbsp;nx.DiGraph()<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Create&nbsp;lookup&nbsp;dictionaries&nbsp;for&nbsp;function&nbsp;and&nbsp;class&nbsp;method&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_def&nbsp;in&nbsp;file_summary[&#x27;function_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup.update(function_def)<br/>&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;class_def.items():&nbsp;#&nbsp;Extract&nbsp;class&nbsp;name&nbsp;and&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(class_name)&nbsp;#&nbsp;Add&nbsp;class&nbsp;as&nbsp;a&nbsp;graph&nbsp;node<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;method_details&nbsp;in&nbsp;class_details[&#x27;method_defs&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qualified_method_name&nbsp;=&nbsp;f&#x27;{class_name}.{method_name}&#x27;&nbsp;#&nbsp;Create&nbsp;method&nbsp;fully&nbsp;qualified&nbsp;name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(qualified_method_name)&nbsp;#&nbsp;Add&nbsp;method&nbsp;as&nbsp;a&nbsp;graph&nbsp;node<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup[qualified_method_name]&nbsp;=&nbsp;method_details&nbsp;&nbsp;#&nbsp;Store&nbsp;method&nbsp;details&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(class_name,&nbsp;qualified_method_name)&nbsp;#&nbsp;Add&nbsp;edge&nbsp;from&nbsp;class&nbsp;to&nbsp;method<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Helper&nbsp;function&nbsp;to&nbsp;extract&nbsp;edge&nbsp;data&nbsp;from&nbsp;target&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_edge_data_from_details(target_details:&nbsp;dict)&nbsp;-&gt;&nbsp;dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;inputs&#x27;&nbsp;in&nbsp;target_details:&nbsp;#&nbsp;If&nbsp;the&nbsp;target&nbsp;details&nbsp;contain&nbsp;inputs,&nbsp;add&nbsp;them&nbsp;to&nbsp;the&nbsp;edge&nbsp;data.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;target_details[&#x27;inputs&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;returns&#x27;&nbsp;in&nbsp;target_details:&nbsp;&nbsp;#&nbsp;If&nbsp;the&nbsp;target&nbsp;details&nbsp;contain&nbsp;returns,&nbsp;add&nbsp;them&nbsp;to&nbsp;the&nbsp;edge&nbsp;data.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_returns&#x27;]&nbsp;=&nbsp;list(set(target_details[&#x27;returns&#x27;]))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;edge_data<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Helper&nbsp;function&nbsp;to&nbsp;add&nbsp;edge&nbsp;with&nbsp;data<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edge_with_data(source:&nbsp;str,&nbsp;target:&nbsp;str,&nbsp;init_method:&nbsp;Optional[str]&nbsp;=&nbsp;None)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;class_method_details_lookup.get(init_method)&nbsp;or&nbsp;function_details_lookup.get(target)&nbsp;or&nbsp;class_method_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;get_edge_data_from_details(target_details)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(source,&nbsp;target,&nbsp;**edge_data)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Helper&nbsp;function&nbsp;to&nbsp;add&nbsp;edges&nbsp;for&nbsp;function&nbsp;or&nbsp;class&nbsp;method&nbsp;calls<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edges_for_calls(source_name,&nbsp;calls,&nbsp;internal_only=True):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_names&nbsp;=&nbsp;[list(class_def.keys())[0]&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;called&nbsp;in&nbsp;calls:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called_class_name&nbsp;=&nbsp;called.split(&#x27;.&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called.startswith(&quot;self.&quot;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;called.replace(&quot;self.&quot;,&nbsp;&quot;&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fully_qualified_name&nbsp;=&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{method_name}&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;fully_qualified_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;fully_qualified_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called&nbsp;in&nbsp;function_details_lookup&nbsp;or&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called&nbsp;in&nbsp;class_method_details_lookup&nbsp;or&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{called}&quot;&nbsp;in&nbsp;class_method_details_lookup<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;called_class_name&nbsp;in&nbsp;class_names:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method_name&nbsp;=&nbsp;f&quot;{called}.__init__&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;init_method_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;init_method_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called,&nbsp;init_method)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;not&nbsp;internal_only:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Add&nbsp;function&nbsp;nodes&nbsp;to&nbsp;graph&nbsp;and&nbsp;edges&nbsp;for&nbsp;function&nbsp;calls<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_name&nbsp;in&nbsp;function_details_lookup.keys():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(function_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;function_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(func_name,&nbsp;details[&#x27;calls&#x27;],&nbsp;internal_only)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Add&nbsp;edges&nbsp;for&nbsp;method&nbsp;calls<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;qualified_method_name,&nbsp;details&nbsp;in&nbsp;class_method_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(qualified_method_name,&nbsp;details[&#x27;calls&#x27;],&nbsp;internal_only)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Add&nbsp;edge&nbsp;data&nbsp;to&nbsp;edges&nbsp;and&nbsp;create&nbsp;node&nbsp;and&nbsp;edges&nbsp;to&nbsp;return<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source,&nbsp;target&nbsp;=&nbsp;edge<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;function_details_lookup.get(target)&nbsp;or&nbsp;class_method_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;get_edge_data_from_details(target_details)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G[source][target].update(edge_data)<br/>&nbsp;&nbsp;&nbsp;&nbsp;nodes&nbsp;=&nbsp;list(G.nodes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;edges&nbsp;=&nbsp;[{&quot;source&quot;:&nbsp;edge[0],&nbsp;&quot;target&quot;:&nbsp;edge[1],&nbsp;**edge[2]}&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges.data()]<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;nodes&quot;:&nbsp;nodes,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;edges&quot;:&nbsp;edges,<br/>&nbsp;&nbsp;&nbsp;&nbsp;}<br/><br/><br/>def&nbsp;get_python_file_details(file_path:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;from&nbsp;a&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path:&nbsp;str:&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(file_path,&nbsp;&quot;r&quot;,&nbsp;encoding=&quot;utf-8&quot;,&nbsp;errors=&#x27;ignore&#x27;)&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;=&nbsp;f.read()<br/>&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;PermissionError:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.warning(f&quot;Permission&nbsp;denied:&nbsp;{file_path}&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;None&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tree&nbsp;=&nbsp;ast.parse(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;SyntaxError:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.warning(f&quot;Syntax&nbsp;error&nbsp;in&nbsp;file:&nbsp;{file_path}&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor&nbsp;=&nbsp;CodeVisitor(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor.analyze(tree)<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;file_info&#x27;:&nbsp;visitor.file_info,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;functions&#x27;:&nbsp;visitor.functions,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;classes&#x27;:&nbsp;visitor.classes<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;add&nbsp;graphs&nbsp;and&nbsp;clean&nbsp;up&nbsp;file_summary<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;internal_code_graph&#x27;]&nbsp;=&nbsp;code_graph(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;entire_code_graph&#x27;]&nbsp;=&nbsp;code_graph(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;],&nbsp;internal_only=False)<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]&nbsp;=&nbsp;json.dumps(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]).replace(&#x27;\&quot;&#x27;,&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;file_details</td><td>ControlFlowVisitor, CodeVisitor</td></tr><tr><td>What is the control flow of the Python file: &#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>&quot;&quot;&quot;<br/>Use&nbsp;AST&nbsp;to&nbsp;extract&nbsp;details&nbsp;from&nbsp;Python&nbsp;a&nbsp;file&nbsp;and&nbsp;return&nbsp;as&nbsp;a&nbsp;dictionary.<br/>Requirements:<br/>[req01]&nbsp;The&nbsp;`ControlFlowVisitor`&nbsp;class&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Inherit&nbsp;from&nbsp;`ast.NodeVisitor`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Visit&nbsp;nodes&nbsp;in&nbsp;the&nbsp;AST&nbsp;to&nbsp;extract&nbsp;control&nbsp;flow&nbsp;keywords,&nbsp;providing&nbsp;a&nbsp;high-level&nbsp;understanding&nbsp;of&nbsp;the&nbsp;program&nbsp;flow.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Provide&nbsp;the&nbsp;ability&nbsp;to&nbsp;retrieve&nbsp;a&nbsp;string&nbsp;representation&nbsp;of&nbsp;the&nbsp;control&nbsp;flow&nbsp;of&nbsp;the&nbsp;program&nbsp;using&nbsp;the&nbsp;`get_control_flow`&nbsp;method.<br/>[req02]&nbsp;The&nbsp;`CodeVisitor`&nbsp;class&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Inherit&nbsp;from&nbsp;`ast.NodeVisitor`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Traverse&nbsp;an&nbsp;AST&nbsp;to&nbsp;extract&nbsp;extensive&nbsp;details&nbsp;about&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Have&nbsp;methods&nbsp;to&nbsp;visit&nbsp;`FunctionDef`&nbsp;and&nbsp;`ClassDef`&nbsp;nodes,&nbsp;extracting&nbsp;details&nbsp;about&nbsp;functions&nbsp;and&nbsp;classes&nbsp;respectively.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Analyze&nbsp;a&nbsp;node&nbsp;and&nbsp;populate&nbsp;the&nbsp;`file_info`&nbsp;attribute&nbsp;with&nbsp;comprehensive&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Maintain&nbsp;and&nbsp;populate&nbsp;details&nbsp;about&nbsp;functions,&nbsp;classes,&nbsp;methods,&nbsp;and&nbsp;attributes.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f.&nbsp;Handle&nbsp;and&nbsp;manage&nbsp;class&nbsp;attributes,&nbsp;methods,&nbsp;inheritance,&nbsp;and&nbsp;static&nbsp;methods,&nbsp;populating&nbsp;the&nbsp;relevant&nbsp;information&nbsp;as&nbsp;needed.<br/>[req03]&nbsp;The&nbsp;`get_control_flow`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;string&nbsp;containing&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Return&nbsp;control&nbsp;flow&nbsp;keywords&nbsp;present&nbsp;in&nbsp;the&nbsp;code.<br/>[req04]&nbsp;The&nbsp;`code_graph`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;file&nbsp;summary&nbsp;as&nbsp;its&nbsp;input.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Construct&nbsp;a&nbsp;dictionary&nbsp;representation&nbsp;that&nbsp;includes&nbsp;nodes&nbsp;and&nbsp;edges,&nbsp;illustrating&nbsp;relationships&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Define&nbsp;various&nbsp;elements&nbsp;like&nbsp;function&nbsp;nodes,&nbsp;class&nbsp;nodes,&nbsp;method&nbsp;nodes.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Define&nbsp;the&nbsp;edges&nbsp;to&nbsp;depict&nbsp;relationships&nbsp;like&nbsp;function&nbsp;calls,&nbsp;method&nbsp;calls,&nbsp;and&nbsp;class&nbsp;inheritance.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Return&nbsp;the&nbsp;dictionary&nbsp;representation&nbsp;of&nbsp;the&nbsp;code&nbsp;graph.<br/>[req05]&nbsp;The&nbsp;`get_python_file_details`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;file&nbsp;path&nbsp;as&nbsp;an&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Extract&nbsp;details&nbsp;from&nbsp;the&nbsp;specified&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Include&nbsp;the&nbsp;internal&nbsp;file&nbsp;graph&nbsp;and&nbsp;entire&nbsp;file&nbsp;graph&nbsp;in&nbsp;the&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Return&nbsp;a&nbsp;dictionary&nbsp;containing&nbsp;these&nbsp;details.<br/>&quot;&quot;&quot;<br/>import&nbsp;ast<br/>import&nbsp;re<br/>import&nbsp;json<br/>import&nbsp;logging<br/>import&nbsp;networkx&nbsp;as&nbsp;nx<br/>from&nbsp;typing&nbsp;import&nbsp;Dict,&nbsp;List,&nbsp;Optional,&nbsp;Union<br/><br/><br/>class&nbsp;ControlFlowVisitor(ast.NodeVisitor):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;This&nbsp;class&nbsp;inherits&nbsp;from&nbsp;ast.NodeVisitor&nbsp;and&nbsp;is&nbsp;used&nbsp;to&nbsp;visit&nbsp;nodes&nbsp;in&nbsp;the<br/>&nbsp;&nbsp;&nbsp;&nbsp;AST&nbsp;(Abstract&nbsp;Syntax&nbsp;Tree).It&nbsp;extracts&nbsp;control&nbsp;flow&nbsp;keywords&nbsp;to&nbsp;give&nbsp;a&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;high-level&nbsp;understanding&nbsp;of&nbsp;the&nbsp;program&nbsp;flow.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_type_to_keyword&nbsp;(dict):&nbsp;A&nbsp;dictionary&nbsp;mapping&nbsp;AST&nbsp;node&nbsp;types&nbsp;to&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;corresponding&nbsp;control&nbsp;flow&nbsp;keywords.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;control_flow&nbsp;(list):&nbsp;A&nbsp;list&nbsp;storing&nbsp;the&nbsp;sequence&nbsp;of&nbsp;control&nbsp;flow&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;keywords&nbsp;encountered&nbsp;in&nbsp;the&nbsp;AST.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;__init__():&nbsp;Initializes&nbsp;a&nbsp;new&nbsp;instance&nbsp;of&nbsp;the&nbsp;class,&nbsp;setting&nbsp;up&nbsp;the<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;control&nbsp;flow&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generic_visit(node):&nbsp;Method&nbsp;to&nbsp;visit&nbsp;a&nbsp;node.&nbsp;If&nbsp;the&nbsp;node&nbsp;type&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;corresponds&nbsp;to&nbsp;a&nbsp;control&nbsp;flow&nbsp;keyword,&nbsp;it&nbsp;is&nbsp;added&nbsp;to&nbsp;the&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;control_flow&nbsp;list.&nbsp;The&nbsp;method&nbsp;then&nbsp;calls&nbsp;the&nbsp;inherited<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generic_visit&nbsp;to&nbsp;continue&nbsp;visiting&nbsp;other&nbsp;nodes.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;get_control_flow():&nbsp;Returns&nbsp;a&nbsp;string&nbsp;representing&nbsp;the&nbsp;control&nbsp;flow&nbsp;of<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;program.&nbsp;The&nbsp;control&nbsp;flow&nbsp;keywords&nbsp;are&nbsp;joined&nbsp;in&nbsp;the&nbsp;order&nbsp;they<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;were&nbsp;encountered&nbsp;during&nbsp;the&nbsp;AST&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;node_type_to_keyword&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast.If:&nbsp;&quot;if&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast.While:&nbsp;&quot;while&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast.For:&nbsp;&quot;for&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast.AsyncFor:&nbsp;&quot;for&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast.AsyncWith:&nbsp;&quot;with&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast.Try:&nbsp;&quot;try&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast.With:&nbsp;&quot;with&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast.ExceptHandler:&nbsp;&quot;except&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast.FunctionDef:&nbsp;&quot;def&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast.AsyncFunctionDef:&nbsp;&quot;def&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast.ClassDef:&nbsp;&quot;class&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast.Module:&nbsp;&quot;module&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.control_flow&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;generic_visit(self,&nbsp;node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;keyword&nbsp;=&nbsp;self.node_type_to_keyword.get(type(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;keyword:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;isinstance(node,&nbsp;ast.FunctionDef):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.control_flow.append(keyword&nbsp;+&nbsp;&#x27;&nbsp;&#x27;&nbsp;+&nbsp;node.name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.control_flow.append(keyword)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;super().generic_visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_control_flow(self):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;&nbsp;-&gt;&nbsp;&#x27;.join(self.control_flow)<br/><br/>def&nbsp;get_all_calls(node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Recursively&nbsp;find&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;`node`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;calls&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;child&nbsp;in&nbsp;ast.iter_child_nodes(node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;isinstance(child,&nbsp;ast.Call):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls.append(child)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls.extend(get_all_calls(child))<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;calls<br/><br/>class&nbsp;CodeVisitor(ast.NodeVisitor):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Visitor&nbsp;class&nbsp;for&nbsp;traversing&nbsp;an&nbsp;AST&nbsp;(Abstract&nbsp;Syntax&nbsp;Tree)&nbsp;and&nbsp;extracting<br/>&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;about&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;(str):&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;functions(Dict):&nbsp;details&nbsp;about&nbsp;functions&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;classes&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;classes&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_info&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_FunctionDef(node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:&nbsp;Extract&nbsp;details&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_ClassDef(node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;extract_details(node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;analyze(node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:&nbsp;Populate&nbsp;file_info&nbsp;with&nbsp;details&nbsp;about<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;code:&nbsp;str):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;initialize&nbsp;dictionaries&nbsp;to&nbsp;store&nbsp;function,&nbsp;class,&nbsp;and&nbsp;file&nbsp;definitions<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.code:&nbsp;str&nbsp;=&nbsp;code<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info:&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class:&nbsp;str&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_FunctionDef(self,&nbsp;node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.current_class:&nbsp;#&nbsp;if&nbsp;inside&nbsp;a&nbsp;class,&nbsp;add&nbsp;this&nbsp;function&nbsp;as&nbsp;a&nbsp;method&nbsp;of&nbsp;the&nbsp;class<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][f&#x27;class_method_{node.name}&#x27;]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;method&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:&nbsp;#&nbsp;populate&nbsp;function&nbsp;dictionary&nbsp;when&nbsp;function&nbsp;definition&nbsp;found&nbsp;in&nbsp;AST<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions[node.name]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;function&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)&nbsp;#&nbsp;continue&nbsp;AST&nbsp;traversal&nbsp;to&nbsp;the&nbsp;next&nbsp;node<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_ClassDef(self,&nbsp;node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[node.name]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;class&#x27;)&nbsp;#&nbsp;populate&nbsp;class&nbsp;dictionary&nbsp;when&nbsp;class&nbsp;definition&nbsp;found&nbsp;in&nbsp;AST<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;node.name&nbsp;&nbsp;#&nbsp;set&nbsp;current_class&nbsp;to&nbsp;indicate&nbsp;inside&nbsp;a&nbsp;class<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)&nbsp;#&nbsp;continue&nbsp;AST&nbsp;traversal&nbsp;to&nbsp;the&nbsp;next&nbsp;node<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;None&nbsp;&nbsp;#&nbsp;reset&nbsp;current_class&nbsp;when&nbsp;finished&nbsp;with&nbsp;this&nbsp;class<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;extract_details(self,&nbsp;node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_name&quot;:&nbsp;node.name,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_code&quot;:&nbsp;ast.unparse(node),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_ast&quot;:&nbsp;ast.dump(node,&nbsp;include_attributes=True),&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_docstring&quot;:&nbsp;ast.get_docstring(node),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_inputs&quot;:&nbsp;[arg.arg&nbsp;for&nbsp;arg&nbsp;in&nbsp;node.args.args]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_defaults&quot;:&nbsp;[ast.unparse(d)&nbsp;for&nbsp;d&nbsp;in&nbsp;node.args.defaults]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_returns&quot;:&nbsp;[ast.unparse(subnode.value)&nbsp;if&nbsp;subnode.value&nbsp;is&nbsp;not&nbsp;None&nbsp;else&nbsp;&quot;None&quot;&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Return)],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_calls&quot;:&nbsp;list({ast.unparse(n.func)&nbsp;for&nbsp;n&nbsp;in&nbsp;get_all_calls(node)}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_variables&quot;:&nbsp;list({ast.unparse(target)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Name)}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_decorators&quot;:&nbsp;list({ast.unparse(decorator)&nbsp;for&nbsp;decorator&nbsp;in&nbsp;node.decorator_list}&nbsp;if&nbsp;node.decorator_list&nbsp;else&nbsp;set()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_annotations&quot;:&nbsp;list({ast.unparse(subnode.annotation)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.AnnAssign)&nbsp;and&nbsp;subnode.annotation&nbsp;is&nbsp;not&nbsp;None}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_properties&quot;:&nbsp;list({ast.unparse(subnode)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(subnode.ctx,&nbsp;ast.Store)}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;class&#x27;&nbsp;or&nbsp;node_type&nbsp;==&nbsp;&#x27;method&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;method&#x27;&nbsp;and&nbsp;self.current_class:&nbsp;#&nbsp;find&nbsp;attributes&nbsp;defined&nbsp;as&nbsp;self.attribute<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attributes&nbsp;=&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(target.value,&nbsp;ast.Name)&nbsp;and&nbsp;target.value.id&nbsp;==&nbsp;&#x27;self&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;attributes:&nbsp;#&nbsp;if&nbsp;this&nbsp;class&nbsp;already&nbsp;has&nbsp;some&nbsp;attributes,&nbsp;add&nbsp;to&nbsp;them<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&quot;class_attributes&quot;&nbsp;in&nbsp;self.classes[self.current_class]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][&quot;class_attributes&quot;].extend(attributes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:&nbsp;#&nbsp;otherwise,&nbsp;start&nbsp;a&nbsp;new&nbsp;list&nbsp;of&nbsp;attributes&nbsp;for&nbsp;this&nbsp;class<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][&quot;class_attributes&quot;]&nbsp;=&nbsp;attributes<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details.update({<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;class_attributes&quot;:&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;class_methods&quot;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&quot;__init__&quot;],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;class_inheritance&quot;:&nbsp;[ast.unparse(base)&nbsp;for&nbsp;base&nbsp;in&nbsp;node.bases]&nbsp;if&nbsp;node.bases&nbsp;else&nbsp;[],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;class_static_methods&quot;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&quot;__init__&quot;&nbsp;and&nbsp;any(isinstance(decorator,&nbsp;ast.Name)&nbsp;and&nbsp;decorator.id&nbsp;==&nbsp;&quot;staticmethod&quot;&nbsp;for&nbsp;decorator&nbsp;in&nbsp;subnode.decorator_list)],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;details<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;analyze(self,&nbsp;node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;traverse&nbsp;the&nbsp;AST&nbsp;rooted&nbsp;at&nbsp;&#x27;node&#x27;,&nbsp;create&nbsp;a&nbsp;list&nbsp;of&nbsp;all&nbsp;nodes&nbsp;within&nbsp;the&nbsp;current&nbsp;file,&nbsp;and&nbsp;populate&nbsp;&#x27;file_info&#x27;&nbsp;with&nbsp;file&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;file_code&quot;:&nbsp;self.code,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;file_ast&quot;&nbsp;:&nbsp;ast.dump(node),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;file_dependencies&quot;:&nbsp;list({alias.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Import)&nbsp;for&nbsp;alias&nbsp;in&nbsp;subnode.names}&nbsp;|&nbsp;{subnode.module&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.ImportFrom)}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;file_functions&quot;:&nbsp;list(self.functions.keys()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;file_classes&quot;:&nbsp;list(self.classes.keys()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;file_control_flow&quot;:&nbsp;get_control_flow(self.code),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;add&nbsp;file_summary&nbsp;to&nbsp;file_info<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_defs&nbsp;=&nbsp;[{func_name:&nbsp;{&quot;inputs&quot;:&nbsp;details[&quot;function_inputs&quot;],&nbsp;&quot;calls&quot;:&nbsp;details[&quot;function_calls&quot;],&nbsp;&quot;returns&quot;:&nbsp;details[&quot;function_returns&quot;]}}&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;self.functions.items()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;self.classes.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;details&nbsp;in&nbsp;class_details.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;method_name.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs[method_name[len(&#x27;class_method_&#x27;):]]&nbsp;=&nbsp;{&quot;inputs&quot;:&nbsp;details[&quot;method_inputs&quot;],&nbsp;&quot;calls&quot;:&nbsp;details[&quot;method_calls&quot;],&nbsp;&quot;returns&quot;:&nbsp;details[&quot;method_returns&quot;]}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs.append({class_name:&nbsp;{&quot;method_defs&quot;:&nbsp;method_defs}})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&quot;file_summary&quot;]&nbsp;=&nbsp;{&nbsp;&#x27;dependencies&#x27;:&nbsp;self.file_info[&quot;file_dependencies&quot;],&nbsp;&#x27;function_defs&#x27;&nbsp;:&nbsp;function_defs,&nbsp;&#x27;class_defs&#x27;&nbsp;:&nbsp;class_defs}<br/><br/><br/>def&nbsp;get_control_flow(code:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;control&nbsp;flow&nbsp;keywords&nbsp;from&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code:&nbsp;str:&nbsp;The&nbsp;source&nbsp;code&nbsp;to&nbsp;extract&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;control&nbsp;flow&nbsp;keywords&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor&nbsp;=&nbsp;ControlFlowVisitor()<br/>&nbsp;&nbsp;&nbsp;&nbsp;tree&nbsp;=&nbsp;ast.parse(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor.visit(tree)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;visitor.get_control_flow()<br/><br/><br/>def&nbsp;code_graph(file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]],&nbsp;internal_only:&nbsp;bool&nbsp;=&nbsp;True)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[List[str],&nbsp;Dict[str,&nbsp;List[str]]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Create&nbsp;a&nbsp;dictionary&nbsp;representation&nbsp;of&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;internal_only:&nbsp;bool:&nbsp;If&nbsp;True,&nbsp;only&nbsp;include&nbsp;function&nbsp;calls&nbsp;where&nbsp;both&nbsp;the&nbsp;caller&nbsp;and&nbsp;called&nbsp;function&nbsp;are&nbsp;within&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dict:&nbsp;A&nbsp;dictionary&nbsp;with&nbsp;nodes&nbsp;and&nbsp;edges&nbsp;representing&nbsp;the&nbsp;relationships<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;G&nbsp;=&nbsp;nx.DiGraph()<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Create&nbsp;lookup&nbsp;dictionaries&nbsp;for&nbsp;function&nbsp;and&nbsp;class&nbsp;method&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_def&nbsp;in&nbsp;file_summary[&#x27;function_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup.update(function_def)<br/>&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;class_def.items():&nbsp;#&nbsp;Extract&nbsp;class&nbsp;name&nbsp;and&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(class_name)&nbsp;#&nbsp;Add&nbsp;class&nbsp;as&nbsp;a&nbsp;graph&nbsp;node<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;method_details&nbsp;in&nbsp;class_details[&#x27;method_defs&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qualified_method_name&nbsp;=&nbsp;f&#x27;{class_name}.{method_name}&#x27;&nbsp;#&nbsp;Create&nbsp;method&nbsp;fully&nbsp;qualified&nbsp;name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(qualified_method_name)&nbsp;#&nbsp;Add&nbsp;method&nbsp;as&nbsp;a&nbsp;graph&nbsp;node<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup[qualified_method_name]&nbsp;=&nbsp;method_details&nbsp;&nbsp;#&nbsp;Store&nbsp;method&nbsp;details&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(class_name,&nbsp;qualified_method_name)&nbsp;#&nbsp;Add&nbsp;edge&nbsp;from&nbsp;class&nbsp;to&nbsp;method<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Helper&nbsp;function&nbsp;to&nbsp;extract&nbsp;edge&nbsp;data&nbsp;from&nbsp;target&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_edge_data_from_details(target_details:&nbsp;dict)&nbsp;-&gt;&nbsp;dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;inputs&#x27;&nbsp;in&nbsp;target_details:&nbsp;#&nbsp;If&nbsp;the&nbsp;target&nbsp;details&nbsp;contain&nbsp;inputs,&nbsp;add&nbsp;them&nbsp;to&nbsp;the&nbsp;edge&nbsp;data.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;target_details[&#x27;inputs&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;returns&#x27;&nbsp;in&nbsp;target_details:&nbsp;&nbsp;#&nbsp;If&nbsp;the&nbsp;target&nbsp;details&nbsp;contain&nbsp;returns,&nbsp;add&nbsp;them&nbsp;to&nbsp;the&nbsp;edge&nbsp;data.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_returns&#x27;]&nbsp;=&nbsp;list(set(target_details[&#x27;returns&#x27;]))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;edge_data<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Helper&nbsp;function&nbsp;to&nbsp;add&nbsp;edge&nbsp;with&nbsp;data<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edge_with_data(source:&nbsp;str,&nbsp;target:&nbsp;str,&nbsp;init_method:&nbsp;Optional[str]&nbsp;=&nbsp;None)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;class_method_details_lookup.get(init_method)&nbsp;or&nbsp;function_details_lookup.get(target)&nbsp;or&nbsp;class_method_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;get_edge_data_from_details(target_details)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(source,&nbsp;target,&nbsp;**edge_data)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Helper&nbsp;function&nbsp;to&nbsp;add&nbsp;edges&nbsp;for&nbsp;function&nbsp;or&nbsp;class&nbsp;method&nbsp;calls<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edges_for_calls(source_name,&nbsp;calls,&nbsp;internal_only=True):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_names&nbsp;=&nbsp;[list(class_def.keys())[0]&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;called&nbsp;in&nbsp;calls:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called_class_name&nbsp;=&nbsp;called.split(&#x27;.&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called.startswith(&quot;self.&quot;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;called.replace(&quot;self.&quot;,&nbsp;&quot;&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fully_qualified_name&nbsp;=&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{method_name}&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;fully_qualified_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;fully_qualified_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called&nbsp;in&nbsp;function_details_lookup&nbsp;or&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called&nbsp;in&nbsp;class_method_details_lookup&nbsp;or&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{called}&quot;&nbsp;in&nbsp;class_method_details_lookup<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;called_class_name&nbsp;in&nbsp;class_names:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method_name&nbsp;=&nbsp;f&quot;{called}.__init__&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;init_method_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;init_method_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called,&nbsp;init_method)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;not&nbsp;internal_only:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Add&nbsp;function&nbsp;nodes&nbsp;to&nbsp;graph&nbsp;and&nbsp;edges&nbsp;for&nbsp;function&nbsp;calls<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_name&nbsp;in&nbsp;function_details_lookup.keys():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(function_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;function_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(func_name,&nbsp;details[&#x27;calls&#x27;],&nbsp;internal_only)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Add&nbsp;edges&nbsp;for&nbsp;method&nbsp;calls<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;qualified_method_name,&nbsp;details&nbsp;in&nbsp;class_method_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(qualified_method_name,&nbsp;details[&#x27;calls&#x27;],&nbsp;internal_only)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Add&nbsp;edge&nbsp;data&nbsp;to&nbsp;edges&nbsp;and&nbsp;create&nbsp;node&nbsp;and&nbsp;edges&nbsp;to&nbsp;return<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source,&nbsp;target&nbsp;=&nbsp;edge<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;function_details_lookup.get(target)&nbsp;or&nbsp;class_method_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;get_edge_data_from_details(target_details)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G[source][target].update(edge_data)<br/>&nbsp;&nbsp;&nbsp;&nbsp;nodes&nbsp;=&nbsp;list(G.nodes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;edges&nbsp;=&nbsp;[{&quot;source&quot;:&nbsp;edge[0],&nbsp;&quot;target&quot;:&nbsp;edge[1],&nbsp;**edge[2]}&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges.data()]<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;nodes&quot;:&nbsp;nodes,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;edges&quot;:&nbsp;edges,<br/>&nbsp;&nbsp;&nbsp;&nbsp;}<br/><br/><br/>def&nbsp;get_python_file_details(file_path:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;from&nbsp;a&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path:&nbsp;str:&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(file_path,&nbsp;&quot;r&quot;,&nbsp;encoding=&quot;utf-8&quot;,&nbsp;errors=&#x27;ignore&#x27;)&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;=&nbsp;f.read()<br/>&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;PermissionError:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.warning(f&quot;Permission&nbsp;denied:&nbsp;{file_path}&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;None&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tree&nbsp;=&nbsp;ast.parse(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;SyntaxError:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.warning(f&quot;Syntax&nbsp;error&nbsp;in&nbsp;file:&nbsp;{file_path}&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor&nbsp;=&nbsp;CodeVisitor(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor.analyze(tree)<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;file_info&#x27;:&nbsp;visitor.file_info,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;functions&#x27;:&nbsp;visitor.functions,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;classes&#x27;:&nbsp;visitor.classes<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;add&nbsp;graphs&nbsp;and&nbsp;clean&nbsp;up&nbsp;file_summary<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;internal_code_graph&#x27;]&nbsp;=&nbsp;code_graph(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;entire_code_graph&#x27;]&nbsp;=&nbsp;code_graph(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;],&nbsp;internal_only=False)<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]&nbsp;=&nbsp;json.dumps(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]).replace(&#x27;\&quot;&#x27;,&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;file_details</td><td>module -&gt; class -&gt; def __init__ -&gt; def generic_visit -&gt; if -&gt; if -&gt; def get_control_flow -&gt; def get_all_calls -&gt; for -&gt; if -&gt; class -&gt; def __init__ -&gt; def visit_FunctionDef -&gt; if -&gt; def visit_ClassDef -&gt; def extract_details -&gt; if -&gt; if -&gt; if -&gt; if -&gt; if -&gt; def analyze -&gt; for -&gt; for -&gt; if -&gt; def get_control_flow -&gt; def code_graph -&gt; for -&gt; for -&gt; for -&gt; for -&gt; def get_edge_data_from_details -&gt; if -&gt; if -&gt; if -&gt; def add_edge_with_data -&gt; def add_edges_for_calls -&gt; for -&gt; if -&gt; if -&gt; if -&gt; if -&gt; if -&gt; if -&gt; for -&gt; for -&gt; for -&gt; for -&gt; def get_python_file_details -&gt; try -&gt; with -&gt; except -&gt; try -&gt; except</td></tr><tr><td>What are the inputs to the function: &#x27;get_all_calls&#x27; in the Python file: &#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;get_all_calls(node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Recursively&nbsp;find&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;`node`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;calls&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;child&nbsp;in&nbsp;ast.iter_child_nodes(node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;isinstance(child,&nbsp;ast.Call):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls.append(child)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls.extend(get_all_calls(child))<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;calls</td><td>node</td></tr><tr><td>What are the inputs to the function: &#x27;get_control_flow&#x27; in the Python file: &#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;get_control_flow(code:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;control&nbsp;flow&nbsp;keywords&nbsp;from&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code:&nbsp;str:&nbsp;The&nbsp;source&nbsp;code&nbsp;to&nbsp;extract&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;control&nbsp;flow&nbsp;keywords&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor&nbsp;=&nbsp;ControlFlowVisitor()<br/>&nbsp;&nbsp;&nbsp;&nbsp;tree&nbsp;=&nbsp;ast.parse(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor.visit(tree)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;visitor.get_control_flow()</td><td>code</td></tr><tr><td>What are the inputs to the function: &#x27;code_graph&#x27; in the Python file: &#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;code_graph(file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]],&nbsp;internal_only:&nbsp;bool=True)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[List[str],&nbsp;Dict[str,&nbsp;List[str]]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Create&nbsp;a&nbsp;dictionary&nbsp;representation&nbsp;of&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;internal_only:&nbsp;bool:&nbsp;If&nbsp;True,&nbsp;only&nbsp;include&nbsp;function&nbsp;calls&nbsp;where&nbsp;both&nbsp;the&nbsp;caller&nbsp;and&nbsp;called&nbsp;function&nbsp;are&nbsp;within&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dict:&nbsp;A&nbsp;dictionary&nbsp;with&nbsp;nodes&nbsp;and&nbsp;edges&nbsp;representing&nbsp;the&nbsp;relationships<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;G&nbsp;=&nbsp;nx.DiGraph()<br/>&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_def&nbsp;in&nbsp;file_summary[&#x27;function_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup.update(function_def)<br/>&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;class_def.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(class_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;method_details&nbsp;in&nbsp;class_details[&#x27;method_defs&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qualified_method_name&nbsp;=&nbsp;f&#x27;{class_name}.{method_name}&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(qualified_method_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup[qualified_method_name]&nbsp;=&nbsp;method_details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(class_name,&nbsp;qualified_method_name)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_edge_data_from_details(target_details:&nbsp;dict)&nbsp;-&gt;&nbsp;dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;inputs&#x27;&nbsp;in&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;target_details[&#x27;inputs&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;returns&#x27;&nbsp;in&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_returns&#x27;]&nbsp;=&nbsp;list(set(target_details[&#x27;returns&#x27;]))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;edge_data<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edge_with_data(source:&nbsp;str,&nbsp;target:&nbsp;str,&nbsp;init_method:&nbsp;Optional[str]=None)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;class_method_details_lookup.get(init_method)&nbsp;or&nbsp;function_details_lookup.get(target)&nbsp;or&nbsp;class_method_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;get_edge_data_from_details(target_details)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(source,&nbsp;target,&nbsp;**edge_data)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edges_for_calls(source_name,&nbsp;calls,&nbsp;internal_only=True):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_names&nbsp;=&nbsp;[list(class_def.keys())[0]&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;called&nbsp;in&nbsp;calls:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called_class_name&nbsp;=&nbsp;called.split(&#x27;.&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called.startswith(&#x27;self.&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;called.replace(&#x27;self.&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fully_qualified_name&nbsp;=&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{method_name}&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;fully_qualified_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;fully_qualified_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called&nbsp;in&nbsp;function_details_lookup&nbsp;or&nbsp;called&nbsp;in&nbsp;class_method_details_lookup&nbsp;or&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{called}&quot;&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;called_class_name&nbsp;in&nbsp;class_names:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method_name&nbsp;=&nbsp;f&#x27;{called}.__init__&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;init_method_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;init_method_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called,&nbsp;init_method)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;not&nbsp;internal_only:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_name&nbsp;in&nbsp;function_details_lookup.keys():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(function_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;function_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(func_name,&nbsp;details[&#x27;calls&#x27;],&nbsp;internal_only)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;qualified_method_name,&nbsp;details&nbsp;in&nbsp;class_method_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(qualified_method_name,&nbsp;details[&#x27;calls&#x27;],&nbsp;internal_only)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source,&nbsp;target&nbsp;=&nbsp;edge<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;function_details_lookup.get(target)&nbsp;or&nbsp;class_method_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;get_edge_data_from_details(target_details)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G[source][target].update(edge_data)<br/>&nbsp;&nbsp;&nbsp;&nbsp;nodes&nbsp;=&nbsp;list(G.nodes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;edges&nbsp;=&nbsp;[{&#x27;source&#x27;:&nbsp;edge[0],&nbsp;&#x27;target&#x27;:&nbsp;edge[1],&nbsp;**edge[2]}&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges.data()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;{&#x27;nodes&#x27;:&nbsp;nodes,&nbsp;&#x27;edges&#x27;:&nbsp;edges}</td><td>file_summary, internal_only</td></tr><tr><td>What are the inputs to the function: &#x27;get_edge_data_from_details&#x27; in the Python file: &#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;get_edge_data_from_details(target_details:&nbsp;dict)&nbsp;-&gt;&nbsp;dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;inputs&#x27;&nbsp;in&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;target_details[&#x27;inputs&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;returns&#x27;&nbsp;in&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_returns&#x27;]&nbsp;=&nbsp;list(set(target_details[&#x27;returns&#x27;]))<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;edge_data</td><td>target_details</td></tr><tr><td>What are the inputs to the function: &#x27;add_edge_with_data&#x27; in the Python file: &#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;add_edge_with_data(source:&nbsp;str,&nbsp;target:&nbsp;str,&nbsp;init_method:&nbsp;Optional[str]=None)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;class_method_details_lookup.get(init_method)&nbsp;or&nbsp;function_details_lookup.get(target)&nbsp;or&nbsp;class_method_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;get_edge_data_from_details(target_details)<br/>&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(source,&nbsp;target,&nbsp;**edge_data)</td><td>init_method, source, target</td></tr><tr><td>What are the inputs to the function: &#x27;add_edges_for_calls&#x27; in the Python file: &#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;add_edges_for_calls(source_name,&nbsp;calls,&nbsp;internal_only=True):<br/>&nbsp;&nbsp;&nbsp;&nbsp;class_names&nbsp;=&nbsp;[list(class_def.keys())[0]&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]]<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;called&nbsp;in&nbsp;calls:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called_class_name&nbsp;=&nbsp;called.split(&#x27;.&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called.startswith(&#x27;self.&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;called.replace(&#x27;self.&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fully_qualified_name&nbsp;=&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{method_name}&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;fully_qualified_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;fully_qualified_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called&nbsp;in&nbsp;function_details_lookup&nbsp;or&nbsp;called&nbsp;in&nbsp;class_method_details_lookup&nbsp;or&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{called}&quot;&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;called_class_name&nbsp;in&nbsp;class_names:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method_name&nbsp;=&nbsp;f&#x27;{called}.__init__&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;init_method_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;init_method_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called,&nbsp;init_method)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;not&nbsp;internal_only:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)</td><td>source_name, calls, internal_only</td></tr><tr><td>What are the inputs to the function: &#x27;get_python_file_details&#x27; in the Python file: &#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;get_python_file_details(file_path:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;from&nbsp;a&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path:&nbsp;str:&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(file_path,&nbsp;&#x27;r&#x27;,&nbsp;encoding=&#x27;utf-8&#x27;,&nbsp;errors=&#x27;ignore&#x27;)&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;=&nbsp;f.read()<br/>&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;PermissionError:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.warning(f&#x27;Permission&nbsp;denied:&nbsp;{file_path}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tree&nbsp;=&nbsp;ast.parse(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;SyntaxError:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.warning(f&#x27;Syntax&nbsp;error&nbsp;in&nbsp;file:&nbsp;{file_path}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor&nbsp;=&nbsp;CodeVisitor(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor.analyze(tree)<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;=&nbsp;{&#x27;file_info&#x27;:&nbsp;visitor.file_info,&nbsp;&#x27;functions&#x27;:&nbsp;visitor.functions,&nbsp;&#x27;classes&#x27;:&nbsp;visitor.classes}<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;internal_code_graph&#x27;]&nbsp;=&nbsp;code_graph(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;entire_code_graph&#x27;]&nbsp;=&nbsp;code_graph(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;],&nbsp;internal_only=False)<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]&nbsp;=&nbsp;json.dumps(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]).replace(&#x27;&quot;&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;file_details</td><td>file_path</td></tr><tr><td>What is the docstring of the function: &#x27;get_all_calls&#x27; in the Python file: &#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;get_all_calls(node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Recursively&nbsp;find&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;`node`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;calls&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;child&nbsp;in&nbsp;ast.iter_child_nodes(node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;isinstance(child,&nbsp;ast.Call):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls.append(child)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls.extend(get_all_calls(child))<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;calls</td><td>Recursively find all function calls in the subtree rooted at node.</td></tr><tr><td>What is the docstring of the function: &#x27;get_control_flow&#x27; in the Python file: &#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;get_control_flow(code:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;control&nbsp;flow&nbsp;keywords&nbsp;from&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code:&nbsp;str:&nbsp;The&nbsp;source&nbsp;code&nbsp;to&nbsp;extract&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;control&nbsp;flow&nbsp;keywords&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor&nbsp;=&nbsp;ControlFlowVisitor()<br/>&nbsp;&nbsp;&nbsp;&nbsp;tree&nbsp;=&nbsp;ast.parse(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor.visit(tree)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;visitor.get_control_flow()</td><td>Extract control flow keywords from source code. Args: code: str: The source code to extract from. Returns: str: The control flow keywords in the code.</td></tr><tr><td>What is the docstring of the function: &#x27;code_graph&#x27; in the Python file: &#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;code_graph(file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]],&nbsp;internal_only:&nbsp;bool=True)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[List[str],&nbsp;Dict[str,&nbsp;List[str]]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Create&nbsp;a&nbsp;dictionary&nbsp;representation&nbsp;of&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;internal_only:&nbsp;bool:&nbsp;If&nbsp;True,&nbsp;only&nbsp;include&nbsp;function&nbsp;calls&nbsp;where&nbsp;both&nbsp;the&nbsp;caller&nbsp;and&nbsp;called&nbsp;function&nbsp;are&nbsp;within&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dict:&nbsp;A&nbsp;dictionary&nbsp;with&nbsp;nodes&nbsp;and&nbsp;edges&nbsp;representing&nbsp;the&nbsp;relationships<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;G&nbsp;=&nbsp;nx.DiGraph()<br/>&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_def&nbsp;in&nbsp;file_summary[&#x27;function_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup.update(function_def)<br/>&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;class_def.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(class_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;method_details&nbsp;in&nbsp;class_details[&#x27;method_defs&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qualified_method_name&nbsp;=&nbsp;f&#x27;{class_name}.{method_name}&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(qualified_method_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup[qualified_method_name]&nbsp;=&nbsp;method_details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(class_name,&nbsp;qualified_method_name)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_edge_data_from_details(target_details:&nbsp;dict)&nbsp;-&gt;&nbsp;dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;inputs&#x27;&nbsp;in&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;target_details[&#x27;inputs&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;returns&#x27;&nbsp;in&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_returns&#x27;]&nbsp;=&nbsp;list(set(target_details[&#x27;returns&#x27;]))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;edge_data<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edge_with_data(source:&nbsp;str,&nbsp;target:&nbsp;str,&nbsp;init_method:&nbsp;Optional[str]=None)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;class_method_details_lookup.get(init_method)&nbsp;or&nbsp;function_details_lookup.get(target)&nbsp;or&nbsp;class_method_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;get_edge_data_from_details(target_details)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(source,&nbsp;target,&nbsp;**edge_data)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edges_for_calls(source_name,&nbsp;calls,&nbsp;internal_only=True):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_names&nbsp;=&nbsp;[list(class_def.keys())[0]&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;called&nbsp;in&nbsp;calls:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called_class_name&nbsp;=&nbsp;called.split(&#x27;.&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called.startswith(&#x27;self.&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;called.replace(&#x27;self.&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fully_qualified_name&nbsp;=&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{method_name}&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;fully_qualified_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;fully_qualified_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called&nbsp;in&nbsp;function_details_lookup&nbsp;or&nbsp;called&nbsp;in&nbsp;class_method_details_lookup&nbsp;or&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{called}&quot;&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;called_class_name&nbsp;in&nbsp;class_names:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method_name&nbsp;=&nbsp;f&#x27;{called}.__init__&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;init_method_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;init_method_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called,&nbsp;init_method)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;not&nbsp;internal_only:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_name&nbsp;in&nbsp;function_details_lookup.keys():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(function_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;function_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(func_name,&nbsp;details[&#x27;calls&#x27;],&nbsp;internal_only)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;qualified_method_name,&nbsp;details&nbsp;in&nbsp;class_method_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(qualified_method_name,&nbsp;details[&#x27;calls&#x27;],&nbsp;internal_only)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source,&nbsp;target&nbsp;=&nbsp;edge<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;function_details_lookup.get(target)&nbsp;or&nbsp;class_method_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;get_edge_data_from_details(target_details)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G[source][target].update(edge_data)<br/>&nbsp;&nbsp;&nbsp;&nbsp;nodes&nbsp;=&nbsp;list(G.nodes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;edges&nbsp;=&nbsp;[{&#x27;source&#x27;:&nbsp;edge[0],&nbsp;&#x27;target&#x27;:&nbsp;edge[1],&nbsp;**edge[2]}&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges.data()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;{&#x27;nodes&#x27;:&nbsp;nodes,&nbsp;&#x27;edges&#x27;:&nbsp;edges}</td><td>only include function calls where both the caller and called function are within the file. Returns: dict: A dictionary with nodes and edges representing the relationships in the code., str: The details extracted from the file. internal_only: bool: If True, UnionDict, Create a dictionary representation of file details. Args: file_summary: Dictstr</td></tr><tr><td>What is the docstring of the function: &#x27;get_python_file_details&#x27; in the Python file: &#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;get_python_file_details(file_path:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;from&nbsp;a&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path:&nbsp;str:&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(file_path,&nbsp;&#x27;r&#x27;,&nbsp;encoding=&#x27;utf-8&#x27;,&nbsp;errors=&#x27;ignore&#x27;)&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;=&nbsp;f.read()<br/>&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;PermissionError:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.warning(f&#x27;Permission&nbsp;denied:&nbsp;{file_path}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tree&nbsp;=&nbsp;ast.parse(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;SyntaxError:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.warning(f&#x27;Syntax&nbsp;error&nbsp;in&nbsp;file:&nbsp;{file_path}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor&nbsp;=&nbsp;CodeVisitor(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor.analyze(tree)<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;=&nbsp;{&#x27;file_info&#x27;:&nbsp;visitor.file_info,&nbsp;&#x27;functions&#x27;:&nbsp;visitor.functions,&nbsp;&#x27;classes&#x27;:&nbsp;visitor.classes}<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;internal_code_graph&#x27;]&nbsp;=&nbsp;code_graph(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;entire_code_graph&#x27;]&nbsp;=&nbsp;code_graph(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;],&nbsp;internal_only=False)<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]&nbsp;=&nbsp;json.dumps(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]).replace(&#x27;&quot;&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;file_details</td><td>Extract details from a Python file. Args: file_path: str: The path to the Python file. Returns: Dictstr, str: The details extracted from the file., UnionDict</td></tr><tr><td>What calls are made in the function: &#x27;get_all_calls&#x27; in the Python file: &#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;get_all_calls(node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Recursively&nbsp;find&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;`node`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;calls&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;child&nbsp;in&nbsp;ast.iter_child_nodes(node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;isinstance(child,&nbsp;ast.Call):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls.append(child)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls.extend(get_all_calls(child))<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;calls</td><td>get_all_calls, isinstance, ast.iter_child_nodes, calls.extend, calls.append</td></tr><tr><td>What calls are made in the function: &#x27;get_control_flow&#x27; in the Python file: &#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;get_control_flow(code:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;control&nbsp;flow&nbsp;keywords&nbsp;from&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code:&nbsp;str:&nbsp;The&nbsp;source&nbsp;code&nbsp;to&nbsp;extract&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;control&nbsp;flow&nbsp;keywords&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor&nbsp;=&nbsp;ControlFlowVisitor()<br/>&nbsp;&nbsp;&nbsp;&nbsp;tree&nbsp;=&nbsp;ast.parse(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor.visit(tree)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;visitor.get_control_flow()</td><td>ast.parse, ControlFlowVisitor, visitor.get_control_flow, visitor.visit</td></tr><tr><td>What calls are made in the function: &#x27;code_graph&#x27; in the Python file: &#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;code_graph(file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]],&nbsp;internal_only:&nbsp;bool=True)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[List[str],&nbsp;Dict[str,&nbsp;List[str]]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Create&nbsp;a&nbsp;dictionary&nbsp;representation&nbsp;of&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;internal_only:&nbsp;bool:&nbsp;If&nbsp;True,&nbsp;only&nbsp;include&nbsp;function&nbsp;calls&nbsp;where&nbsp;both&nbsp;the&nbsp;caller&nbsp;and&nbsp;called&nbsp;function&nbsp;are&nbsp;within&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dict:&nbsp;A&nbsp;dictionary&nbsp;with&nbsp;nodes&nbsp;and&nbsp;edges&nbsp;representing&nbsp;the&nbsp;relationships<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;G&nbsp;=&nbsp;nx.DiGraph()<br/>&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_def&nbsp;in&nbsp;file_summary[&#x27;function_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup.update(function_def)<br/>&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;class_def.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(class_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;method_details&nbsp;in&nbsp;class_details[&#x27;method_defs&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qualified_method_name&nbsp;=&nbsp;f&#x27;{class_name}.{method_name}&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(qualified_method_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup[qualified_method_name]&nbsp;=&nbsp;method_details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(class_name,&nbsp;qualified_method_name)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_edge_data_from_details(target_details:&nbsp;dict)&nbsp;-&gt;&nbsp;dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;inputs&#x27;&nbsp;in&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;target_details[&#x27;inputs&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;returns&#x27;&nbsp;in&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_returns&#x27;]&nbsp;=&nbsp;list(set(target_details[&#x27;returns&#x27;]))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;edge_data<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edge_with_data(source:&nbsp;str,&nbsp;target:&nbsp;str,&nbsp;init_method:&nbsp;Optional[str]=None)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;class_method_details_lookup.get(init_method)&nbsp;or&nbsp;function_details_lookup.get(target)&nbsp;or&nbsp;class_method_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;get_edge_data_from_details(target_details)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(source,&nbsp;target,&nbsp;**edge_data)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edges_for_calls(source_name,&nbsp;calls,&nbsp;internal_only=True):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_names&nbsp;=&nbsp;[list(class_def.keys())[0]&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;called&nbsp;in&nbsp;calls:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called_class_name&nbsp;=&nbsp;called.split(&#x27;.&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called.startswith(&#x27;self.&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;called.replace(&#x27;self.&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fully_qualified_name&nbsp;=&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{method_name}&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;fully_qualified_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;fully_qualified_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called&nbsp;in&nbsp;function_details_lookup&nbsp;or&nbsp;called&nbsp;in&nbsp;class_method_details_lookup&nbsp;or&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{called}&quot;&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;called_class_name&nbsp;in&nbsp;class_names:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method_name&nbsp;=&nbsp;f&#x27;{called}.__init__&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;init_method_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;init_method_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called,&nbsp;init_method)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;not&nbsp;internal_only:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_name&nbsp;in&nbsp;function_details_lookup.keys():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(function_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;function_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(func_name,&nbsp;details[&#x27;calls&#x27;],&nbsp;internal_only)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;qualified_method_name,&nbsp;details&nbsp;in&nbsp;class_method_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(qualified_method_name,&nbsp;details[&#x27;calls&#x27;],&nbsp;internal_only)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source,&nbsp;target&nbsp;=&nbsp;edge<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;function_details_lookup.get(target)&nbsp;or&nbsp;class_method_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;get_edge_data_from_details(target_details)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G[source][target].update(edge_data)<br/>&nbsp;&nbsp;&nbsp;&nbsp;nodes&nbsp;=&nbsp;list(G.nodes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;edges&nbsp;=&nbsp;[{&#x27;source&#x27;:&nbsp;edge[0],&nbsp;&#x27;target&#x27;:&nbsp;edge[1],&nbsp;**edge[2]}&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges.data()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;{&#x27;nodes&#x27;:&nbsp;nodes,&nbsp;&#x27;edges&#x27;:&nbsp;edges}</td><td>function_details_lookup.keys, get_edge_data_from_details, class_method_details_lookup.get, nx.DiGraph, Gsourcetarget.update, class_def.keys, function_details_lookup.items, list, class_def.items, G.add_edge, class_method_details_lookup.items, add_edges_for_calls, source_name.split, function_details_lookup.get, G.edges.data, called.startswith, called.replace, function_details_lookup.update, G.add_node, class_detailsmethod_defs.items, set, add_edge_with_data, called.split</td></tr><tr><td>What calls are made in the function: &#x27;get_edge_data_from_details&#x27; in the Python file: &#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;get_edge_data_from_details(target_details:&nbsp;dict)&nbsp;-&gt;&nbsp;dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;inputs&#x27;&nbsp;in&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;target_details[&#x27;inputs&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;returns&#x27;&nbsp;in&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_returns&#x27;]&nbsp;=&nbsp;list(set(target_details[&#x27;returns&#x27;]))<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;edge_data</td><td>list, set</td></tr><tr><td>What calls are made in the function: &#x27;add_edge_with_data&#x27; in the Python file: &#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;add_edge_with_data(source:&nbsp;str,&nbsp;target:&nbsp;str,&nbsp;init_method:&nbsp;Optional[str]=None)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;class_method_details_lookup.get(init_method)&nbsp;or&nbsp;function_details_lookup.get(target)&nbsp;or&nbsp;class_method_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;get_edge_data_from_details(target_details)<br/>&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(source,&nbsp;target,&nbsp;**edge_data)</td><td>class_method_details_lookup.get, function_details_lookup.get, get_edge_data_from_details, G.add_edge</td></tr><tr><td>What calls are made in the function: &#x27;add_edges_for_calls&#x27; in the Python file: &#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;add_edges_for_calls(source_name,&nbsp;calls,&nbsp;internal_only=True):<br/>&nbsp;&nbsp;&nbsp;&nbsp;class_names&nbsp;=&nbsp;[list(class_def.keys())[0]&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]]<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;called&nbsp;in&nbsp;calls:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called_class_name&nbsp;=&nbsp;called.split(&#x27;.&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called.startswith(&#x27;self.&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;called.replace(&#x27;self.&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fully_qualified_name&nbsp;=&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{method_name}&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;fully_qualified_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;fully_qualified_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called&nbsp;in&nbsp;function_details_lookup&nbsp;or&nbsp;called&nbsp;in&nbsp;class_method_details_lookup&nbsp;or&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{called}&quot;&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;called_class_name&nbsp;in&nbsp;class_names:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method_name&nbsp;=&nbsp;f&#x27;{called}.__init__&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;init_method_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;init_method_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called,&nbsp;init_method)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;not&nbsp;internal_only:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)</td><td>G.add_node, called.replace, source_name.split, class_def.keys, add_edge_with_data, called.split, list, called.startswith</td></tr><tr><td>What calls are made in the function: &#x27;get_python_file_details&#x27; in the Python file: &#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;get_python_file_details(file_path:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;from&nbsp;a&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path:&nbsp;str:&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(file_path,&nbsp;&#x27;r&#x27;,&nbsp;encoding=&#x27;utf-8&#x27;,&nbsp;errors=&#x27;ignore&#x27;)&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;=&nbsp;f.read()<br/>&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;PermissionError:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.warning(f&#x27;Permission&nbsp;denied:&nbsp;{file_path}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tree&nbsp;=&nbsp;ast.parse(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;SyntaxError:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.warning(f&#x27;Syntax&nbsp;error&nbsp;in&nbsp;file:&nbsp;{file_path}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor&nbsp;=&nbsp;CodeVisitor(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor.analyze(tree)<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;=&nbsp;{&#x27;file_info&#x27;:&nbsp;visitor.file_info,&nbsp;&#x27;functions&#x27;:&nbsp;visitor.functions,&nbsp;&#x27;classes&#x27;:&nbsp;visitor.classes}<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;internal_code_graph&#x27;]&nbsp;=&nbsp;code_graph(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;entire_code_graph&#x27;]&nbsp;=&nbsp;code_graph(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;],&nbsp;internal_only=False)<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]&nbsp;=&nbsp;json.dumps(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]).replace(&#x27;&quot;&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;file_details</td><td>f.read, CodeVisitor, ast.parse, logging.warning, json.dumpsfile_detailsfile_infofile_summary.replace, json.dumps, code_graph, visitor.analyze, open</td></tr><tr><td>What variables are defined in the function: &#x27;get_all_calls&#x27; in the Python file: &#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;get_all_calls(node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Recursively&nbsp;find&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;`node`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;calls&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;child&nbsp;in&nbsp;ast.iter_child_nodes(node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;isinstance(child,&nbsp;ast.Call):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls.append(child)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls.extend(get_all_calls(child))<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;calls</td><td>calls</td></tr><tr><td>What variables are defined in the function: &#x27;get_control_flow&#x27; in the Python file: &#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;get_control_flow(code:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;control&nbsp;flow&nbsp;keywords&nbsp;from&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code:&nbsp;str:&nbsp;The&nbsp;source&nbsp;code&nbsp;to&nbsp;extract&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;control&nbsp;flow&nbsp;keywords&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor&nbsp;=&nbsp;ControlFlowVisitor()<br/>&nbsp;&nbsp;&nbsp;&nbsp;tree&nbsp;=&nbsp;ast.parse(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor.visit(tree)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;visitor.get_control_flow()</td><td>tree, visitor</td></tr><tr><td>What variables are defined in the function: &#x27;code_graph&#x27; in the Python file: &#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;code_graph(file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]],&nbsp;internal_only:&nbsp;bool=True)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[List[str],&nbsp;Dict[str,&nbsp;List[str]]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Create&nbsp;a&nbsp;dictionary&nbsp;representation&nbsp;of&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;internal_only:&nbsp;bool:&nbsp;If&nbsp;True,&nbsp;only&nbsp;include&nbsp;function&nbsp;calls&nbsp;where&nbsp;both&nbsp;the&nbsp;caller&nbsp;and&nbsp;called&nbsp;function&nbsp;are&nbsp;within&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dict:&nbsp;A&nbsp;dictionary&nbsp;with&nbsp;nodes&nbsp;and&nbsp;edges&nbsp;representing&nbsp;the&nbsp;relationships<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;G&nbsp;=&nbsp;nx.DiGraph()<br/>&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_def&nbsp;in&nbsp;file_summary[&#x27;function_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup.update(function_def)<br/>&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;class_def.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(class_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;method_details&nbsp;in&nbsp;class_details[&#x27;method_defs&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qualified_method_name&nbsp;=&nbsp;f&#x27;{class_name}.{method_name}&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(qualified_method_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup[qualified_method_name]&nbsp;=&nbsp;method_details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(class_name,&nbsp;qualified_method_name)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_edge_data_from_details(target_details:&nbsp;dict)&nbsp;-&gt;&nbsp;dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;inputs&#x27;&nbsp;in&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;target_details[&#x27;inputs&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;returns&#x27;&nbsp;in&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_returns&#x27;]&nbsp;=&nbsp;list(set(target_details[&#x27;returns&#x27;]))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;edge_data<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edge_with_data(source:&nbsp;str,&nbsp;target:&nbsp;str,&nbsp;init_method:&nbsp;Optional[str]=None)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;class_method_details_lookup.get(init_method)&nbsp;or&nbsp;function_details_lookup.get(target)&nbsp;or&nbsp;class_method_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;get_edge_data_from_details(target_details)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(source,&nbsp;target,&nbsp;**edge_data)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edges_for_calls(source_name,&nbsp;calls,&nbsp;internal_only=True):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_names&nbsp;=&nbsp;[list(class_def.keys())[0]&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;called&nbsp;in&nbsp;calls:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called_class_name&nbsp;=&nbsp;called.split(&#x27;.&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called.startswith(&#x27;self.&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;called.replace(&#x27;self.&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fully_qualified_name&nbsp;=&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{method_name}&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;fully_qualified_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;fully_qualified_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called&nbsp;in&nbsp;function_details_lookup&nbsp;or&nbsp;called&nbsp;in&nbsp;class_method_details_lookup&nbsp;or&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{called}&quot;&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;called_class_name&nbsp;in&nbsp;class_names:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method_name&nbsp;=&nbsp;f&#x27;{called}.__init__&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;init_method_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;init_method_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called,&nbsp;init_method)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;not&nbsp;internal_only:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_name&nbsp;in&nbsp;function_details_lookup.keys():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(function_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;function_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(func_name,&nbsp;details[&#x27;calls&#x27;],&nbsp;internal_only)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;qualified_method_name,&nbsp;details&nbsp;in&nbsp;class_method_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(qualified_method_name,&nbsp;details[&#x27;calls&#x27;],&nbsp;internal_only)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source,&nbsp;target&nbsp;=&nbsp;edge<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;function_details_lookup.get(target)&nbsp;or&nbsp;class_method_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;get_edge_data_from_details(target_details)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G[source][target].update(edge_data)<br/>&nbsp;&nbsp;&nbsp;&nbsp;nodes&nbsp;=&nbsp;list(G.nodes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;edges&nbsp;=&nbsp;[{&#x27;source&#x27;:&nbsp;edge[0],&nbsp;&#x27;target&#x27;:&nbsp;edge[1],&nbsp;**edge[2]}&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges.data()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;{&#x27;nodes&#x27;:&nbsp;nodes,&nbsp;&#x27;edges&#x27;:&nbsp;edges}</td><td>class_names, G, fully_qualified_name, edge_data, target_details, qualified_method_name, nodes, called_class_name, edges, init_method_name, function_details_lookup, class_method_details_lookup, init_method, method_name</td></tr><tr><td>What variables are defined in the function: &#x27;get_edge_data_from_details&#x27; in the Python file: &#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;get_edge_data_from_details(target_details:&nbsp;dict)&nbsp;-&gt;&nbsp;dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;inputs&#x27;&nbsp;in&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;target_details[&#x27;inputs&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;returns&#x27;&nbsp;in&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_returns&#x27;]&nbsp;=&nbsp;list(set(target_details[&#x27;returns&#x27;]))<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;edge_data</td><td>edge_data</td></tr><tr><td>What variables are defined in the function: &#x27;add_edge_with_data&#x27; in the Python file: &#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;add_edge_with_data(source:&nbsp;str,&nbsp;target:&nbsp;str,&nbsp;init_method:&nbsp;Optional[str]=None)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;class_method_details_lookup.get(init_method)&nbsp;or&nbsp;function_details_lookup.get(target)&nbsp;or&nbsp;class_method_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;get_edge_data_from_details(target_details)<br/>&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(source,&nbsp;target,&nbsp;**edge_data)</td><td>target_details, edge_data</td></tr><tr><td>What variables are defined in the function: &#x27;add_edges_for_calls&#x27; in the Python file: &#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;add_edges_for_calls(source_name,&nbsp;calls,&nbsp;internal_only=True):<br/>&nbsp;&nbsp;&nbsp;&nbsp;class_names&nbsp;=&nbsp;[list(class_def.keys())[0]&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]]<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;called&nbsp;in&nbsp;calls:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called_class_name&nbsp;=&nbsp;called.split(&#x27;.&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called.startswith(&#x27;self.&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;called.replace(&#x27;self.&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fully_qualified_name&nbsp;=&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{method_name}&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;fully_qualified_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;fully_qualified_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called&nbsp;in&nbsp;function_details_lookup&nbsp;or&nbsp;called&nbsp;in&nbsp;class_method_details_lookup&nbsp;or&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{called}&quot;&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;called_class_name&nbsp;in&nbsp;class_names:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method_name&nbsp;=&nbsp;f&#x27;{called}.__init__&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;init_method_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;init_method_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called,&nbsp;init_method)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;not&nbsp;internal_only:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)</td><td>class_names, fully_qualified_name, called_class_name, init_method_name, init_method, method_name</td></tr><tr><td>What variables are defined in the function: &#x27;get_python_file_details&#x27; in the Python file: &#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;get_python_file_details(file_path:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;from&nbsp;a&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path:&nbsp;str:&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(file_path,&nbsp;&#x27;r&#x27;,&nbsp;encoding=&#x27;utf-8&#x27;,&nbsp;errors=&#x27;ignore&#x27;)&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;=&nbsp;f.read()<br/>&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;PermissionError:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.warning(f&#x27;Permission&nbsp;denied:&nbsp;{file_path}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tree&nbsp;=&nbsp;ast.parse(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;SyntaxError:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.warning(f&#x27;Syntax&nbsp;error&nbsp;in&nbsp;file:&nbsp;{file_path}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor&nbsp;=&nbsp;CodeVisitor(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor.analyze(tree)<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;=&nbsp;{&#x27;file_info&#x27;:&nbsp;visitor.file_info,&nbsp;&#x27;functions&#x27;:&nbsp;visitor.functions,&nbsp;&#x27;classes&#x27;:&nbsp;visitor.classes}<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;internal_code_graph&#x27;]&nbsp;=&nbsp;code_graph(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;entire_code_graph&#x27;]&nbsp;=&nbsp;code_graph(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;],&nbsp;internal_only=False)<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]&nbsp;=&nbsp;json.dumps(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]).replace(&#x27;&quot;&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;file_details</td><td>code, tree, visitor, file_details</td></tr><tr><td>What are the returned items from the function: &#x27;get_all_calls&#x27; in the Python file: &#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;get_all_calls(node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Recursively&nbsp;find&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;`node`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;calls&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;child&nbsp;in&nbsp;ast.iter_child_nodes(node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;isinstance(child,&nbsp;ast.Call):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls.append(child)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls.extend(get_all_calls(child))<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;calls</td><td>calls</td></tr><tr><td>What are the returned items from the function: &#x27;get_control_flow&#x27; in the Python file: &#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;get_control_flow(code:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;control&nbsp;flow&nbsp;keywords&nbsp;from&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code:&nbsp;str:&nbsp;The&nbsp;source&nbsp;code&nbsp;to&nbsp;extract&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;control&nbsp;flow&nbsp;keywords&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor&nbsp;=&nbsp;ControlFlowVisitor()<br/>&nbsp;&nbsp;&nbsp;&nbsp;tree&nbsp;=&nbsp;ast.parse(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor.visit(tree)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;visitor.get_control_flow()</td><td>visitor.get_control_flow</td></tr><tr><td>What are the returned items from the function: &#x27;code_graph&#x27; in the Python file: &#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;code_graph(file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]],&nbsp;internal_only:&nbsp;bool=True)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[List[str],&nbsp;Dict[str,&nbsp;List[str]]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Create&nbsp;a&nbsp;dictionary&nbsp;representation&nbsp;of&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;internal_only:&nbsp;bool:&nbsp;If&nbsp;True,&nbsp;only&nbsp;include&nbsp;function&nbsp;calls&nbsp;where&nbsp;both&nbsp;the&nbsp;caller&nbsp;and&nbsp;called&nbsp;function&nbsp;are&nbsp;within&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dict:&nbsp;A&nbsp;dictionary&nbsp;with&nbsp;nodes&nbsp;and&nbsp;edges&nbsp;representing&nbsp;the&nbsp;relationships<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;G&nbsp;=&nbsp;nx.DiGraph()<br/>&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_def&nbsp;in&nbsp;file_summary[&#x27;function_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup.update(function_def)<br/>&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;class_def.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(class_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;method_details&nbsp;in&nbsp;class_details[&#x27;method_defs&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qualified_method_name&nbsp;=&nbsp;f&#x27;{class_name}.{method_name}&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(qualified_method_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup[qualified_method_name]&nbsp;=&nbsp;method_details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(class_name,&nbsp;qualified_method_name)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_edge_data_from_details(target_details:&nbsp;dict)&nbsp;-&gt;&nbsp;dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;inputs&#x27;&nbsp;in&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;target_details[&#x27;inputs&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;returns&#x27;&nbsp;in&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_returns&#x27;]&nbsp;=&nbsp;list(set(target_details[&#x27;returns&#x27;]))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;edge_data<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edge_with_data(source:&nbsp;str,&nbsp;target:&nbsp;str,&nbsp;init_method:&nbsp;Optional[str]=None)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;class_method_details_lookup.get(init_method)&nbsp;or&nbsp;function_details_lookup.get(target)&nbsp;or&nbsp;class_method_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;get_edge_data_from_details(target_details)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(source,&nbsp;target,&nbsp;**edge_data)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edges_for_calls(source_name,&nbsp;calls,&nbsp;internal_only=True):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_names&nbsp;=&nbsp;[list(class_def.keys())[0]&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;called&nbsp;in&nbsp;calls:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called_class_name&nbsp;=&nbsp;called.split(&#x27;.&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called.startswith(&#x27;self.&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;called.replace(&#x27;self.&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fully_qualified_name&nbsp;=&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{method_name}&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;fully_qualified_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;fully_qualified_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called&nbsp;in&nbsp;function_details_lookup&nbsp;or&nbsp;called&nbsp;in&nbsp;class_method_details_lookup&nbsp;or&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{called}&quot;&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;called_class_name&nbsp;in&nbsp;class_names:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method_name&nbsp;=&nbsp;f&#x27;{called}.__init__&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;init_method_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;init_method_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called,&nbsp;init_method)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;not&nbsp;internal_only:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_name&nbsp;in&nbsp;function_details_lookup.keys():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(function_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;function_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(func_name,&nbsp;details[&#x27;calls&#x27;],&nbsp;internal_only)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;qualified_method_name,&nbsp;details&nbsp;in&nbsp;class_method_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(qualified_method_name,&nbsp;details[&#x27;calls&#x27;],&nbsp;internal_only)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source,&nbsp;target&nbsp;=&nbsp;edge<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;function_details_lookup.get(target)&nbsp;or&nbsp;class_method_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;get_edge_data_from_details(target_details)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G[source][target].update(edge_data)<br/>&nbsp;&nbsp;&nbsp;&nbsp;nodes&nbsp;=&nbsp;list(G.nodes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;edges&nbsp;=&nbsp;[{&#x27;source&#x27;:&nbsp;edge[0],&nbsp;&#x27;target&#x27;:&nbsp;edge[1],&nbsp;**edge[2]}&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges.data()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;{&#x27;nodes&#x27;:&nbsp;nodes,&nbsp;&#x27;edges&#x27;:&nbsp;edges}</td><td>edges: edges, edge_data, nodes: nodes</td></tr><tr><td>What are the returned items from the function: &#x27;get_edge_data_from_details&#x27; in the Python file: &#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;get_edge_data_from_details(target_details:&nbsp;dict)&nbsp;-&gt;&nbsp;dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;inputs&#x27;&nbsp;in&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;target_details[&#x27;inputs&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;returns&#x27;&nbsp;in&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_returns&#x27;]&nbsp;=&nbsp;list(set(target_details[&#x27;returns&#x27;]))<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;edge_data</td><td>edge_data</td></tr><tr><td>What are the returned items from the function: &#x27;get_python_file_details&#x27; in the Python file: &#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;get_python_file_details(file_path:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;from&nbsp;a&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path:&nbsp;str:&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(file_path,&nbsp;&#x27;r&#x27;,&nbsp;encoding=&#x27;utf-8&#x27;,&nbsp;errors=&#x27;ignore&#x27;)&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;=&nbsp;f.read()<br/>&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;PermissionError:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.warning(f&#x27;Permission&nbsp;denied:&nbsp;{file_path}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tree&nbsp;=&nbsp;ast.parse(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;SyntaxError:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.warning(f&#x27;Syntax&nbsp;error&nbsp;in&nbsp;file:&nbsp;{file_path}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor&nbsp;=&nbsp;CodeVisitor(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor.analyze(tree)<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;=&nbsp;{&#x27;file_info&#x27;:&nbsp;visitor.file_info,&nbsp;&#x27;functions&#x27;:&nbsp;visitor.functions,&nbsp;&#x27;classes&#x27;:&nbsp;visitor.classes}<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;internal_code_graph&#x27;]&nbsp;=&nbsp;code_graph(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;entire_code_graph&#x27;]&nbsp;=&nbsp;code_graph(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;],&nbsp;internal_only=False)<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]&nbsp;=&nbsp;json.dumps(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]).replace(&#x27;&quot;&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;file_details</td><td>None, file_details</td></tr><tr><td>What are the methods defined within the class: &#x27;ControlFlowVisitor&#x27; in the Python file: &#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>class&nbsp;ControlFlowVisitor(ast.NodeVisitor):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;This&nbsp;class&nbsp;inherits&nbsp;from&nbsp;ast.NodeVisitor&nbsp;and&nbsp;is&nbsp;used&nbsp;to&nbsp;visit&nbsp;nodes&nbsp;in&nbsp;the<br/>&nbsp;&nbsp;&nbsp;&nbsp;AST&nbsp;(Abstract&nbsp;Syntax&nbsp;Tree).It&nbsp;extracts&nbsp;control&nbsp;flow&nbsp;keywords&nbsp;to&nbsp;give&nbsp;a&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;high-level&nbsp;understanding&nbsp;of&nbsp;the&nbsp;program&nbsp;flow.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_type_to_keyword&nbsp;(dict):&nbsp;A&nbsp;dictionary&nbsp;mapping&nbsp;AST&nbsp;node&nbsp;types&nbsp;to&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;corresponding&nbsp;control&nbsp;flow&nbsp;keywords.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;control_flow&nbsp;(list):&nbsp;A&nbsp;list&nbsp;storing&nbsp;the&nbsp;sequence&nbsp;of&nbsp;control&nbsp;flow&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;keywords&nbsp;encountered&nbsp;in&nbsp;the&nbsp;AST.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;__init__():&nbsp;Initializes&nbsp;a&nbsp;new&nbsp;instance&nbsp;of&nbsp;the&nbsp;class,&nbsp;setting&nbsp;up&nbsp;the<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;control&nbsp;flow&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generic_visit(node):&nbsp;Method&nbsp;to&nbsp;visit&nbsp;a&nbsp;node.&nbsp;If&nbsp;the&nbsp;node&nbsp;type&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;corresponds&nbsp;to&nbsp;a&nbsp;control&nbsp;flow&nbsp;keyword,&nbsp;it&nbsp;is&nbsp;added&nbsp;to&nbsp;the&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;control_flow&nbsp;list.&nbsp;The&nbsp;method&nbsp;then&nbsp;calls&nbsp;the&nbsp;inherited<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generic_visit&nbsp;to&nbsp;continue&nbsp;visiting&nbsp;other&nbsp;nodes.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;get_control_flow():&nbsp;Returns&nbsp;a&nbsp;string&nbsp;representing&nbsp;the&nbsp;control&nbsp;flow&nbsp;of<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;program.&nbsp;The&nbsp;control&nbsp;flow&nbsp;keywords&nbsp;are&nbsp;joined&nbsp;in&nbsp;the&nbsp;order&nbsp;they<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;were&nbsp;encountered&nbsp;during&nbsp;the&nbsp;AST&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;node_type_to_keyword&nbsp;=&nbsp;{ast.If:&nbsp;&#x27;if&#x27;,&nbsp;ast.While:&nbsp;&#x27;while&#x27;,&nbsp;ast.For:&nbsp;&#x27;for&#x27;,&nbsp;ast.AsyncFor:&nbsp;&#x27;for&#x27;,&nbsp;ast.AsyncWith:&nbsp;&#x27;with&#x27;,&nbsp;ast.Try:&nbsp;&#x27;try&#x27;,&nbsp;ast.With:&nbsp;&#x27;with&#x27;,&nbsp;ast.ExceptHandler:&nbsp;&#x27;except&#x27;,&nbsp;ast.FunctionDef:&nbsp;&#x27;def&#x27;,&nbsp;ast.AsyncFunctionDef:&nbsp;&#x27;def&#x27;,&nbsp;ast.ClassDef:&nbsp;&#x27;class&#x27;,&nbsp;ast.Module:&nbsp;&#x27;module&#x27;}<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.control_flow&nbsp;=&nbsp;[]<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;generic_visit(self,&nbsp;node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;keyword&nbsp;=&nbsp;self.node_type_to_keyword.get(type(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;keyword:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;isinstance(node,&nbsp;ast.FunctionDef):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.control_flow.append(keyword&nbsp;+&nbsp;&#x27;&nbsp;&#x27;&nbsp;+&nbsp;node.name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.control_flow.append(keyword)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;super().generic_visit(node)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_control_flow(self):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;&nbsp;-&gt;&nbsp;&#x27;.join(self.control_flow)</td><td>generic_visit, get_control_flow</td></tr><tr><td>What are the methods defined within the class: &#x27;CodeVisitor&#x27; in the Python file: &#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>class&nbsp;CodeVisitor(ast.NodeVisitor):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Visitor&nbsp;class&nbsp;for&nbsp;traversing&nbsp;an&nbsp;AST&nbsp;(Abstract&nbsp;Syntax&nbsp;Tree)&nbsp;and&nbsp;extracting<br/>&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;about&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;(str):&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;functions(Dict):&nbsp;details&nbsp;about&nbsp;functions&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;classes&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;classes&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_info&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_FunctionDef(node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:&nbsp;Extract&nbsp;details&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_ClassDef(node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;extract_details(node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;analyze(node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:&nbsp;Populate&nbsp;file_info&nbsp;with&nbsp;details&nbsp;about<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;code:&nbsp;str):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.code:&nbsp;str&nbsp;=&nbsp;code<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info:&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class:&nbsp;str&nbsp;=&nbsp;None<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_FunctionDef(self,&nbsp;node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][f&#x27;class_method_{node.name}&#x27;]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;method&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions[node.name]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;function&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_ClassDef(self,&nbsp;node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[node.name]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;class&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;node.name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;None<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;extract_details(self,&nbsp;node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;{f&#x27;{node_type}_name&#x27;:&nbsp;node.name,&nbsp;f&#x27;{node_type}_code&#x27;:&nbsp;ast.unparse(node),&nbsp;f&#x27;{node_type}_ast&#x27;:&nbsp;ast.dump(node,&nbsp;include_attributes=True),&nbsp;f&#x27;{node_type}_docstring&#x27;:&nbsp;ast.get_docstring(node),&nbsp;f&#x27;{node_type}_inputs&#x27;:&nbsp;[arg.arg&nbsp;for&nbsp;arg&nbsp;in&nbsp;node.args.args]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,&nbsp;f&#x27;{node_type}_defaults&#x27;:&nbsp;[ast.unparse(d)&nbsp;for&nbsp;d&nbsp;in&nbsp;node.args.defaults]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,&nbsp;f&#x27;{node_type}_returns&#x27;:&nbsp;[ast.unparse(subnode.value)&nbsp;if&nbsp;subnode.value&nbsp;is&nbsp;not&nbsp;None&nbsp;else&nbsp;&#x27;None&#x27;&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Return)],&nbsp;f&#x27;{node_type}_calls&#x27;:&nbsp;list({ast.unparse(n.func)&nbsp;for&nbsp;n&nbsp;in&nbsp;get_all_calls(node)}),&nbsp;f&#x27;{node_type}_variables&#x27;:&nbsp;list({ast.unparse(target)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Name)}),&nbsp;f&#x27;{node_type}_decorators&#x27;:&nbsp;list({ast.unparse(decorator)&nbsp;for&nbsp;decorator&nbsp;in&nbsp;node.decorator_list}&nbsp;if&nbsp;node.decorator_list&nbsp;else&nbsp;set()),&nbsp;f&#x27;{node_type}_annotations&#x27;:&nbsp;list({ast.unparse(subnode.annotation)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.AnnAssign)&nbsp;and&nbsp;subnode.annotation&nbsp;is&nbsp;not&nbsp;None}),&nbsp;f&#x27;{node_type}_properties&#x27;:&nbsp;list({ast.unparse(subnode)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(subnode.ctx,&nbsp;ast.Store)})}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;class&#x27;&nbsp;or&nbsp;node_type&nbsp;==&nbsp;&#x27;method&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;method&#x27;&nbsp;and&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attributes&nbsp;=&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(target.value,&nbsp;ast.Name)&nbsp;and&nbsp;(target.value.id&nbsp;==&nbsp;&#x27;self&#x27;)]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;class_attributes&#x27;&nbsp;in&nbsp;self.classes[self.current_class]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][&#x27;class_attributes&#x27;].extend(attributes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][&#x27;class_attributes&#x27;]&nbsp;=&nbsp;attributes<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details.update({&#x27;class_attributes&#x27;:&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)],&nbsp;&#x27;class_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;],&nbsp;&#x27;class_inheritance&#x27;:&nbsp;[ast.unparse(base)&nbsp;for&nbsp;base&nbsp;in&nbsp;node.bases]&nbsp;if&nbsp;node.bases&nbsp;else&nbsp;[],&nbsp;&#x27;class_static_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;&nbsp;and&nbsp;any((isinstance(decorator,&nbsp;ast.Name)&nbsp;and&nbsp;decorator.id&nbsp;==&nbsp;&#x27;staticmethod&#x27;&nbsp;for&nbsp;decorator&nbsp;in&nbsp;subnode.decorator_list))]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;details<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;analyze(self,&nbsp;node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info&nbsp;=&nbsp;{&#x27;file_code&#x27;:&nbsp;self.code,&nbsp;&#x27;file_ast&#x27;:&nbsp;ast.dump(node),&nbsp;&#x27;file_dependencies&#x27;:&nbsp;list({alias.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Import)&nbsp;for&nbsp;alias&nbsp;in&nbsp;subnode.names}&nbsp;|&nbsp;{subnode.module&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.ImportFrom)}),&nbsp;&#x27;file_functions&#x27;:&nbsp;list(self.functions.keys()),&nbsp;&#x27;file_classes&#x27;:&nbsp;list(self.classes.keys()),&nbsp;&#x27;file_control_flow&#x27;:&nbsp;get_control_flow(self.code)}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_defs&nbsp;=&nbsp;[{func_name:&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;function_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;function_calls&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;function_returns&#x27;]}}&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;self.functions.items()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;self.classes.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;details&nbsp;in&nbsp;class_details.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;method_name.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs[method_name[len(&#x27;class_method_&#x27;):]]&nbsp;=&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;method_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;method_calls&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;method_returns&#x27;]}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs.append({class_name:&nbsp;{&#x27;method_defs&#x27;:&nbsp;method_defs}})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&#x27;file_summary&#x27;]&nbsp;=&nbsp;{&#x27;dependencies&#x27;:&nbsp;self.file_info[&#x27;file_dependencies&#x27;],&nbsp;&#x27;function_defs&#x27;:&nbsp;function_defs,&nbsp;&#x27;class_defs&#x27;:&nbsp;class_defs}</td><td>visit_ClassDef, extract_details, analyze, visit_FunctionDef</td></tr><tr><td>What is the docstring of the class: &#x27;ControlFlowVisitor&#x27; in the Python file: &#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>class&nbsp;ControlFlowVisitor(ast.NodeVisitor):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;This&nbsp;class&nbsp;inherits&nbsp;from&nbsp;ast.NodeVisitor&nbsp;and&nbsp;is&nbsp;used&nbsp;to&nbsp;visit&nbsp;nodes&nbsp;in&nbsp;the<br/>&nbsp;&nbsp;&nbsp;&nbsp;AST&nbsp;(Abstract&nbsp;Syntax&nbsp;Tree).It&nbsp;extracts&nbsp;control&nbsp;flow&nbsp;keywords&nbsp;to&nbsp;give&nbsp;a&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;high-level&nbsp;understanding&nbsp;of&nbsp;the&nbsp;program&nbsp;flow.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_type_to_keyword&nbsp;(dict):&nbsp;A&nbsp;dictionary&nbsp;mapping&nbsp;AST&nbsp;node&nbsp;types&nbsp;to&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;corresponding&nbsp;control&nbsp;flow&nbsp;keywords.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;control_flow&nbsp;(list):&nbsp;A&nbsp;list&nbsp;storing&nbsp;the&nbsp;sequence&nbsp;of&nbsp;control&nbsp;flow&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;keywords&nbsp;encountered&nbsp;in&nbsp;the&nbsp;AST.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;__init__():&nbsp;Initializes&nbsp;a&nbsp;new&nbsp;instance&nbsp;of&nbsp;the&nbsp;class,&nbsp;setting&nbsp;up&nbsp;the<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;control&nbsp;flow&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generic_visit(node):&nbsp;Method&nbsp;to&nbsp;visit&nbsp;a&nbsp;node.&nbsp;If&nbsp;the&nbsp;node&nbsp;type&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;corresponds&nbsp;to&nbsp;a&nbsp;control&nbsp;flow&nbsp;keyword,&nbsp;it&nbsp;is&nbsp;added&nbsp;to&nbsp;the&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;control_flow&nbsp;list.&nbsp;The&nbsp;method&nbsp;then&nbsp;calls&nbsp;the&nbsp;inherited<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generic_visit&nbsp;to&nbsp;continue&nbsp;visiting&nbsp;other&nbsp;nodes.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;get_control_flow():&nbsp;Returns&nbsp;a&nbsp;string&nbsp;representing&nbsp;the&nbsp;control&nbsp;flow&nbsp;of<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;program.&nbsp;The&nbsp;control&nbsp;flow&nbsp;keywords&nbsp;are&nbsp;joined&nbsp;in&nbsp;the&nbsp;order&nbsp;they<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;were&nbsp;encountered&nbsp;during&nbsp;the&nbsp;AST&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;node_type_to_keyword&nbsp;=&nbsp;{ast.If:&nbsp;&#x27;if&#x27;,&nbsp;ast.While:&nbsp;&#x27;while&#x27;,&nbsp;ast.For:&nbsp;&#x27;for&#x27;,&nbsp;ast.AsyncFor:&nbsp;&#x27;for&#x27;,&nbsp;ast.AsyncWith:&nbsp;&#x27;with&#x27;,&nbsp;ast.Try:&nbsp;&#x27;try&#x27;,&nbsp;ast.With:&nbsp;&#x27;with&#x27;,&nbsp;ast.ExceptHandler:&nbsp;&#x27;except&#x27;,&nbsp;ast.FunctionDef:&nbsp;&#x27;def&#x27;,&nbsp;ast.AsyncFunctionDef:&nbsp;&#x27;def&#x27;,&nbsp;ast.ClassDef:&nbsp;&#x27;class&#x27;,&nbsp;ast.Module:&nbsp;&#x27;module&#x27;}<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.control_flow&nbsp;=&nbsp;[]<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;generic_visit(self,&nbsp;node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;keyword&nbsp;=&nbsp;self.node_type_to_keyword.get(type(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;keyword:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;isinstance(node,&nbsp;ast.FunctionDef):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.control_flow.append(keyword&nbsp;+&nbsp;&#x27;&nbsp;&#x27;&nbsp;+&nbsp;node.name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.control_flow.append(keyword)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;super().generic_visit(node)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_control_flow(self):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;&nbsp;-&gt;&nbsp;&#x27;.join(self.control_flow)</td><td>This class inherits from ast.NodeVisitor and is used to visit nodes in the AST Abstract Syntax Tree.It extracts control flow keywords to give a high-level understanding of the program flow. Attributes: node_type_to_keyword dict: A dictionary mapping AST node types to corresponding control flow keywords. control_flow list: A list storing the sequence of control flow keywords encountered in the AST. Methods: __init__: Initializes a new instance of the class, setting up the control flow list. generic_visitnode: Method to visit a node. If the node type corresponds to a control flow keyword, it is added to the control_flow list. The method then calls the inherited generic_visit to continue visiting other nodes. get_control_flow: Returns a string representing the control flow of the program. The control flow keywords are joined in the order they were encountered during the AST visit.</td></tr><tr><td>What is the docstring of the class: &#x27;CodeVisitor&#x27; in the Python file: &#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>class&nbsp;CodeVisitor(ast.NodeVisitor):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Visitor&nbsp;class&nbsp;for&nbsp;traversing&nbsp;an&nbsp;AST&nbsp;(Abstract&nbsp;Syntax&nbsp;Tree)&nbsp;and&nbsp;extracting<br/>&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;about&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;(str):&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;functions(Dict):&nbsp;details&nbsp;about&nbsp;functions&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;classes&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;classes&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_info&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_FunctionDef(node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:&nbsp;Extract&nbsp;details&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_ClassDef(node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;extract_details(node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;analyze(node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:&nbsp;Populate&nbsp;file_info&nbsp;with&nbsp;details&nbsp;about<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;code:&nbsp;str):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.code:&nbsp;str&nbsp;=&nbsp;code<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info:&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class:&nbsp;str&nbsp;=&nbsp;None<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_FunctionDef(self,&nbsp;node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][f&#x27;class_method_{node.name}&#x27;]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;method&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions[node.name]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;function&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_ClassDef(self,&nbsp;node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[node.name]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;class&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;node.name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;None<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;extract_details(self,&nbsp;node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;{f&#x27;{node_type}_name&#x27;:&nbsp;node.name,&nbsp;f&#x27;{node_type}_code&#x27;:&nbsp;ast.unparse(node),&nbsp;f&#x27;{node_type}_ast&#x27;:&nbsp;ast.dump(node,&nbsp;include_attributes=True),&nbsp;f&#x27;{node_type}_docstring&#x27;:&nbsp;ast.get_docstring(node),&nbsp;f&#x27;{node_type}_inputs&#x27;:&nbsp;[arg.arg&nbsp;for&nbsp;arg&nbsp;in&nbsp;node.args.args]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,&nbsp;f&#x27;{node_type}_defaults&#x27;:&nbsp;[ast.unparse(d)&nbsp;for&nbsp;d&nbsp;in&nbsp;node.args.defaults]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,&nbsp;f&#x27;{node_type}_returns&#x27;:&nbsp;[ast.unparse(subnode.value)&nbsp;if&nbsp;subnode.value&nbsp;is&nbsp;not&nbsp;None&nbsp;else&nbsp;&#x27;None&#x27;&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Return)],&nbsp;f&#x27;{node_type}_calls&#x27;:&nbsp;list({ast.unparse(n.func)&nbsp;for&nbsp;n&nbsp;in&nbsp;get_all_calls(node)}),&nbsp;f&#x27;{node_type}_variables&#x27;:&nbsp;list({ast.unparse(target)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Name)}),&nbsp;f&#x27;{node_type}_decorators&#x27;:&nbsp;list({ast.unparse(decorator)&nbsp;for&nbsp;decorator&nbsp;in&nbsp;node.decorator_list}&nbsp;if&nbsp;node.decorator_list&nbsp;else&nbsp;set()),&nbsp;f&#x27;{node_type}_annotations&#x27;:&nbsp;list({ast.unparse(subnode.annotation)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.AnnAssign)&nbsp;and&nbsp;subnode.annotation&nbsp;is&nbsp;not&nbsp;None}),&nbsp;f&#x27;{node_type}_properties&#x27;:&nbsp;list({ast.unparse(subnode)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(subnode.ctx,&nbsp;ast.Store)})}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;class&#x27;&nbsp;or&nbsp;node_type&nbsp;==&nbsp;&#x27;method&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;method&#x27;&nbsp;and&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attributes&nbsp;=&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(target.value,&nbsp;ast.Name)&nbsp;and&nbsp;(target.value.id&nbsp;==&nbsp;&#x27;self&#x27;)]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;class_attributes&#x27;&nbsp;in&nbsp;self.classes[self.current_class]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][&#x27;class_attributes&#x27;].extend(attributes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][&#x27;class_attributes&#x27;]&nbsp;=&nbsp;attributes<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details.update({&#x27;class_attributes&#x27;:&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)],&nbsp;&#x27;class_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;],&nbsp;&#x27;class_inheritance&#x27;:&nbsp;[ast.unparse(base)&nbsp;for&nbsp;base&nbsp;in&nbsp;node.bases]&nbsp;if&nbsp;node.bases&nbsp;else&nbsp;[],&nbsp;&#x27;class_static_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;&nbsp;and&nbsp;any((isinstance(decorator,&nbsp;ast.Name)&nbsp;and&nbsp;decorator.id&nbsp;==&nbsp;&#x27;staticmethod&#x27;&nbsp;for&nbsp;decorator&nbsp;in&nbsp;subnode.decorator_list))]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;details<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;analyze(self,&nbsp;node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info&nbsp;=&nbsp;{&#x27;file_code&#x27;:&nbsp;self.code,&nbsp;&#x27;file_ast&#x27;:&nbsp;ast.dump(node),&nbsp;&#x27;file_dependencies&#x27;:&nbsp;list({alias.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Import)&nbsp;for&nbsp;alias&nbsp;in&nbsp;subnode.names}&nbsp;|&nbsp;{subnode.module&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.ImportFrom)}),&nbsp;&#x27;file_functions&#x27;:&nbsp;list(self.functions.keys()),&nbsp;&#x27;file_classes&#x27;:&nbsp;list(self.classes.keys()),&nbsp;&#x27;file_control_flow&#x27;:&nbsp;get_control_flow(self.code)}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_defs&nbsp;=&nbsp;[{func_name:&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;function_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;function_calls&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;function_returns&#x27;]}}&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;self.functions.items()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;self.classes.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;details&nbsp;in&nbsp;class_details.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;method_name.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs[method_name[len(&#x27;class_method_&#x27;):]]&nbsp;=&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;method_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;method_calls&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;method_returns&#x27;]}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs.append({class_name:&nbsp;{&#x27;method_defs&#x27;:&nbsp;method_defs}})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&#x27;file_summary&#x27;]&nbsp;=&nbsp;{&#x27;dependencies&#x27;:&nbsp;self.file_info[&#x27;file_dependencies&#x27;],&nbsp;&#x27;function_defs&#x27;:&nbsp;function_defs,&nbsp;&#x27;class_defs&#x27;:&nbsp;class_defs}</td><td>Liststr: Extract details about a node. analyzenode: ast.AST -&gt; None: Populate file_info with details about the file., node_type: str -&gt; Dictstr, Unionstr, Visitor class for traversing an AST Abstract Syntax Tree and extracting details about the code. Attributes: code str: The source code. functionsDict: details about functions in the code. classes Dict: details about classes in the code. file_info Dict: details about the file. Methods: visit_FunctionDefnode: ast.FunctionDef -&gt; None: Extract details about a function. visit_ClassDefnode: ast.ClassDef -&gt; None: Extract details about a class. extract_detailsnode: ast.AST</td></tr><tr><td>What are the attributes of the class: &#x27;ControlFlowVisitor&#x27; in the Python file: &#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>class&nbsp;ControlFlowVisitor(ast.NodeVisitor):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;This&nbsp;class&nbsp;inherits&nbsp;from&nbsp;ast.NodeVisitor&nbsp;and&nbsp;is&nbsp;used&nbsp;to&nbsp;visit&nbsp;nodes&nbsp;in&nbsp;the<br/>&nbsp;&nbsp;&nbsp;&nbsp;AST&nbsp;(Abstract&nbsp;Syntax&nbsp;Tree).It&nbsp;extracts&nbsp;control&nbsp;flow&nbsp;keywords&nbsp;to&nbsp;give&nbsp;a&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;high-level&nbsp;understanding&nbsp;of&nbsp;the&nbsp;program&nbsp;flow.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_type_to_keyword&nbsp;(dict):&nbsp;A&nbsp;dictionary&nbsp;mapping&nbsp;AST&nbsp;node&nbsp;types&nbsp;to&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;corresponding&nbsp;control&nbsp;flow&nbsp;keywords.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;control_flow&nbsp;(list):&nbsp;A&nbsp;list&nbsp;storing&nbsp;the&nbsp;sequence&nbsp;of&nbsp;control&nbsp;flow&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;keywords&nbsp;encountered&nbsp;in&nbsp;the&nbsp;AST.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;__init__():&nbsp;Initializes&nbsp;a&nbsp;new&nbsp;instance&nbsp;of&nbsp;the&nbsp;class,&nbsp;setting&nbsp;up&nbsp;the<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;control&nbsp;flow&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generic_visit(node):&nbsp;Method&nbsp;to&nbsp;visit&nbsp;a&nbsp;node.&nbsp;If&nbsp;the&nbsp;node&nbsp;type&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;corresponds&nbsp;to&nbsp;a&nbsp;control&nbsp;flow&nbsp;keyword,&nbsp;it&nbsp;is&nbsp;added&nbsp;to&nbsp;the&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;control_flow&nbsp;list.&nbsp;The&nbsp;method&nbsp;then&nbsp;calls&nbsp;the&nbsp;inherited<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generic_visit&nbsp;to&nbsp;continue&nbsp;visiting&nbsp;other&nbsp;nodes.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;get_control_flow():&nbsp;Returns&nbsp;a&nbsp;string&nbsp;representing&nbsp;the&nbsp;control&nbsp;flow&nbsp;of<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;program.&nbsp;The&nbsp;control&nbsp;flow&nbsp;keywords&nbsp;are&nbsp;joined&nbsp;in&nbsp;the&nbsp;order&nbsp;they<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;were&nbsp;encountered&nbsp;during&nbsp;the&nbsp;AST&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;node_type_to_keyword&nbsp;=&nbsp;{ast.If:&nbsp;&#x27;if&#x27;,&nbsp;ast.While:&nbsp;&#x27;while&#x27;,&nbsp;ast.For:&nbsp;&#x27;for&#x27;,&nbsp;ast.AsyncFor:&nbsp;&#x27;for&#x27;,&nbsp;ast.AsyncWith:&nbsp;&#x27;with&#x27;,&nbsp;ast.Try:&nbsp;&#x27;try&#x27;,&nbsp;ast.With:&nbsp;&#x27;with&#x27;,&nbsp;ast.ExceptHandler:&nbsp;&#x27;except&#x27;,&nbsp;ast.FunctionDef:&nbsp;&#x27;def&#x27;,&nbsp;ast.AsyncFunctionDef:&nbsp;&#x27;def&#x27;,&nbsp;ast.ClassDef:&nbsp;&#x27;class&#x27;,&nbsp;ast.Module:&nbsp;&#x27;module&#x27;}<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.control_flow&nbsp;=&nbsp;[]<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;generic_visit(self,&nbsp;node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;keyword&nbsp;=&nbsp;self.node_type_to_keyword.get(type(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;keyword:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;isinstance(node,&nbsp;ast.FunctionDef):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.control_flow.append(keyword&nbsp;+&nbsp;&#x27;&nbsp;&#x27;&nbsp;+&nbsp;node.name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.control_flow.append(keyword)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;super().generic_visit(node)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_control_flow(self):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;&nbsp;-&gt;&nbsp;&#x27;.join(self.control_flow)</td><td>control_flow</td></tr><tr><td>What are the attributes of the class: &#x27;CodeVisitor&#x27; in the Python file: &#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>class&nbsp;CodeVisitor(ast.NodeVisitor):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Visitor&nbsp;class&nbsp;for&nbsp;traversing&nbsp;an&nbsp;AST&nbsp;(Abstract&nbsp;Syntax&nbsp;Tree)&nbsp;and&nbsp;extracting<br/>&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;about&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;(str):&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;functions(Dict):&nbsp;details&nbsp;about&nbsp;functions&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;classes&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;classes&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_info&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_FunctionDef(node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:&nbsp;Extract&nbsp;details&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_ClassDef(node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;extract_details(node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;analyze(node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:&nbsp;Populate&nbsp;file_info&nbsp;with&nbsp;details&nbsp;about<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;code:&nbsp;str):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.code:&nbsp;str&nbsp;=&nbsp;code<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info:&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class:&nbsp;str&nbsp;=&nbsp;None<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_FunctionDef(self,&nbsp;node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][f&#x27;class_method_{node.name}&#x27;]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;method&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions[node.name]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;function&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_ClassDef(self,&nbsp;node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[node.name]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;class&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;node.name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;None<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;extract_details(self,&nbsp;node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;{f&#x27;{node_type}_name&#x27;:&nbsp;node.name,&nbsp;f&#x27;{node_type}_code&#x27;:&nbsp;ast.unparse(node),&nbsp;f&#x27;{node_type}_ast&#x27;:&nbsp;ast.dump(node,&nbsp;include_attributes=True),&nbsp;f&#x27;{node_type}_docstring&#x27;:&nbsp;ast.get_docstring(node),&nbsp;f&#x27;{node_type}_inputs&#x27;:&nbsp;[arg.arg&nbsp;for&nbsp;arg&nbsp;in&nbsp;node.args.args]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,&nbsp;f&#x27;{node_type}_defaults&#x27;:&nbsp;[ast.unparse(d)&nbsp;for&nbsp;d&nbsp;in&nbsp;node.args.defaults]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,&nbsp;f&#x27;{node_type}_returns&#x27;:&nbsp;[ast.unparse(subnode.value)&nbsp;if&nbsp;subnode.value&nbsp;is&nbsp;not&nbsp;None&nbsp;else&nbsp;&#x27;None&#x27;&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Return)],&nbsp;f&#x27;{node_type}_calls&#x27;:&nbsp;list({ast.unparse(n.func)&nbsp;for&nbsp;n&nbsp;in&nbsp;get_all_calls(node)}),&nbsp;f&#x27;{node_type}_variables&#x27;:&nbsp;list({ast.unparse(target)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Name)}),&nbsp;f&#x27;{node_type}_decorators&#x27;:&nbsp;list({ast.unparse(decorator)&nbsp;for&nbsp;decorator&nbsp;in&nbsp;node.decorator_list}&nbsp;if&nbsp;node.decorator_list&nbsp;else&nbsp;set()),&nbsp;f&#x27;{node_type}_annotations&#x27;:&nbsp;list({ast.unparse(subnode.annotation)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.AnnAssign)&nbsp;and&nbsp;subnode.annotation&nbsp;is&nbsp;not&nbsp;None}),&nbsp;f&#x27;{node_type}_properties&#x27;:&nbsp;list({ast.unparse(subnode)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(subnode.ctx,&nbsp;ast.Store)})}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;class&#x27;&nbsp;or&nbsp;node_type&nbsp;==&nbsp;&#x27;method&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;method&#x27;&nbsp;and&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attributes&nbsp;=&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(target.value,&nbsp;ast.Name)&nbsp;and&nbsp;(target.value.id&nbsp;==&nbsp;&#x27;self&#x27;)]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;class_attributes&#x27;&nbsp;in&nbsp;self.classes[self.current_class]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][&#x27;class_attributes&#x27;].extend(attributes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][&#x27;class_attributes&#x27;]&nbsp;=&nbsp;attributes<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details.update({&#x27;class_attributes&#x27;:&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)],&nbsp;&#x27;class_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;],&nbsp;&#x27;class_inheritance&#x27;:&nbsp;[ast.unparse(base)&nbsp;for&nbsp;base&nbsp;in&nbsp;node.bases]&nbsp;if&nbsp;node.bases&nbsp;else&nbsp;[],&nbsp;&#x27;class_static_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;&nbsp;and&nbsp;any((isinstance(decorator,&nbsp;ast.Name)&nbsp;and&nbsp;decorator.id&nbsp;==&nbsp;&#x27;staticmethod&#x27;&nbsp;for&nbsp;decorator&nbsp;in&nbsp;subnode.decorator_list))]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;details<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;analyze(self,&nbsp;node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info&nbsp;=&nbsp;{&#x27;file_code&#x27;:&nbsp;self.code,&nbsp;&#x27;file_ast&#x27;:&nbsp;ast.dump(node),&nbsp;&#x27;file_dependencies&#x27;:&nbsp;list({alias.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Import)&nbsp;for&nbsp;alias&nbsp;in&nbsp;subnode.names}&nbsp;|&nbsp;{subnode.module&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.ImportFrom)}),&nbsp;&#x27;file_functions&#x27;:&nbsp;list(self.functions.keys()),&nbsp;&#x27;file_classes&#x27;:&nbsp;list(self.classes.keys()),&nbsp;&#x27;file_control_flow&#x27;:&nbsp;get_control_flow(self.code)}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_defs&nbsp;=&nbsp;[{func_name:&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;function_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;function_calls&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;function_returns&#x27;]}}&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;self.functions.items()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;self.classes.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;details&nbsp;in&nbsp;class_details.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;method_name.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs[method_name[len(&#x27;class_method_&#x27;):]]&nbsp;=&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;method_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;method_calls&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;method_returns&#x27;]}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs.append({class_name:&nbsp;{&#x27;method_defs&#x27;:&nbsp;method_defs}})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&#x27;file_summary&#x27;]&nbsp;=&nbsp;{&#x27;dependencies&#x27;:&nbsp;self.file_info[&#x27;file_dependencies&#x27;],&nbsp;&#x27;function_defs&#x27;:&nbsp;function_defs,&nbsp;&#x27;class_defs&#x27;:&nbsp;class_defs}</td><td>current_class, file_info</td></tr><tr><td>What variables are defined in the class: &#x27;ControlFlowVisitor&#x27; in the Python file: &#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>class&nbsp;ControlFlowVisitor(ast.NodeVisitor):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;This&nbsp;class&nbsp;inherits&nbsp;from&nbsp;ast.NodeVisitor&nbsp;and&nbsp;is&nbsp;used&nbsp;to&nbsp;visit&nbsp;nodes&nbsp;in&nbsp;the<br/>&nbsp;&nbsp;&nbsp;&nbsp;AST&nbsp;(Abstract&nbsp;Syntax&nbsp;Tree).It&nbsp;extracts&nbsp;control&nbsp;flow&nbsp;keywords&nbsp;to&nbsp;give&nbsp;a&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;high-level&nbsp;understanding&nbsp;of&nbsp;the&nbsp;program&nbsp;flow.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_type_to_keyword&nbsp;(dict):&nbsp;A&nbsp;dictionary&nbsp;mapping&nbsp;AST&nbsp;node&nbsp;types&nbsp;to&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;corresponding&nbsp;control&nbsp;flow&nbsp;keywords.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;control_flow&nbsp;(list):&nbsp;A&nbsp;list&nbsp;storing&nbsp;the&nbsp;sequence&nbsp;of&nbsp;control&nbsp;flow&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;keywords&nbsp;encountered&nbsp;in&nbsp;the&nbsp;AST.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;__init__():&nbsp;Initializes&nbsp;a&nbsp;new&nbsp;instance&nbsp;of&nbsp;the&nbsp;class,&nbsp;setting&nbsp;up&nbsp;the<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;control&nbsp;flow&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generic_visit(node):&nbsp;Method&nbsp;to&nbsp;visit&nbsp;a&nbsp;node.&nbsp;If&nbsp;the&nbsp;node&nbsp;type&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;corresponds&nbsp;to&nbsp;a&nbsp;control&nbsp;flow&nbsp;keyword,&nbsp;it&nbsp;is&nbsp;added&nbsp;to&nbsp;the&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;control_flow&nbsp;list.&nbsp;The&nbsp;method&nbsp;then&nbsp;calls&nbsp;the&nbsp;inherited<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generic_visit&nbsp;to&nbsp;continue&nbsp;visiting&nbsp;other&nbsp;nodes.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;get_control_flow():&nbsp;Returns&nbsp;a&nbsp;string&nbsp;representing&nbsp;the&nbsp;control&nbsp;flow&nbsp;of<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;program.&nbsp;The&nbsp;control&nbsp;flow&nbsp;keywords&nbsp;are&nbsp;joined&nbsp;in&nbsp;the&nbsp;order&nbsp;they<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;were&nbsp;encountered&nbsp;during&nbsp;the&nbsp;AST&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;node_type_to_keyword&nbsp;=&nbsp;{ast.If:&nbsp;&#x27;if&#x27;,&nbsp;ast.While:&nbsp;&#x27;while&#x27;,&nbsp;ast.For:&nbsp;&#x27;for&#x27;,&nbsp;ast.AsyncFor:&nbsp;&#x27;for&#x27;,&nbsp;ast.AsyncWith:&nbsp;&#x27;with&#x27;,&nbsp;ast.Try:&nbsp;&#x27;try&#x27;,&nbsp;ast.With:&nbsp;&#x27;with&#x27;,&nbsp;ast.ExceptHandler:&nbsp;&#x27;except&#x27;,&nbsp;ast.FunctionDef:&nbsp;&#x27;def&#x27;,&nbsp;ast.AsyncFunctionDef:&nbsp;&#x27;def&#x27;,&nbsp;ast.ClassDef:&nbsp;&#x27;class&#x27;,&nbsp;ast.Module:&nbsp;&#x27;module&#x27;}<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.control_flow&nbsp;=&nbsp;[]<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;generic_visit(self,&nbsp;node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;keyword&nbsp;=&nbsp;self.node_type_to_keyword.get(type(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;keyword:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;isinstance(node,&nbsp;ast.FunctionDef):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.control_flow.append(keyword&nbsp;+&nbsp;&#x27;&nbsp;&#x27;&nbsp;+&nbsp;node.name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.control_flow.append(keyword)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;super().generic_visit(node)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_control_flow(self):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;&nbsp;-&gt;&nbsp;&#x27;.join(self.control_flow)</td><td>keyword, node_type_to_keyword</td></tr><tr><td>What variables are defined in the class: &#x27;CodeVisitor&#x27; in the Python file: &#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>class&nbsp;CodeVisitor(ast.NodeVisitor):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Visitor&nbsp;class&nbsp;for&nbsp;traversing&nbsp;an&nbsp;AST&nbsp;(Abstract&nbsp;Syntax&nbsp;Tree)&nbsp;and&nbsp;extracting<br/>&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;about&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;(str):&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;functions(Dict):&nbsp;details&nbsp;about&nbsp;functions&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;classes&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;classes&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_info&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_FunctionDef(node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:&nbsp;Extract&nbsp;details&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_ClassDef(node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;extract_details(node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;analyze(node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:&nbsp;Populate&nbsp;file_info&nbsp;with&nbsp;details&nbsp;about<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;code:&nbsp;str):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.code:&nbsp;str&nbsp;=&nbsp;code<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info:&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class:&nbsp;str&nbsp;=&nbsp;None<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_FunctionDef(self,&nbsp;node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][f&#x27;class_method_{node.name}&#x27;]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;method&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions[node.name]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;function&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_ClassDef(self,&nbsp;node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[node.name]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;class&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;node.name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;None<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;extract_details(self,&nbsp;node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;{f&#x27;{node_type}_name&#x27;:&nbsp;node.name,&nbsp;f&#x27;{node_type}_code&#x27;:&nbsp;ast.unparse(node),&nbsp;f&#x27;{node_type}_ast&#x27;:&nbsp;ast.dump(node,&nbsp;include_attributes=True),&nbsp;f&#x27;{node_type}_docstring&#x27;:&nbsp;ast.get_docstring(node),&nbsp;f&#x27;{node_type}_inputs&#x27;:&nbsp;[arg.arg&nbsp;for&nbsp;arg&nbsp;in&nbsp;node.args.args]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,&nbsp;f&#x27;{node_type}_defaults&#x27;:&nbsp;[ast.unparse(d)&nbsp;for&nbsp;d&nbsp;in&nbsp;node.args.defaults]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,&nbsp;f&#x27;{node_type}_returns&#x27;:&nbsp;[ast.unparse(subnode.value)&nbsp;if&nbsp;subnode.value&nbsp;is&nbsp;not&nbsp;None&nbsp;else&nbsp;&#x27;None&#x27;&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Return)],&nbsp;f&#x27;{node_type}_calls&#x27;:&nbsp;list({ast.unparse(n.func)&nbsp;for&nbsp;n&nbsp;in&nbsp;get_all_calls(node)}),&nbsp;f&#x27;{node_type}_variables&#x27;:&nbsp;list({ast.unparse(target)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Name)}),&nbsp;f&#x27;{node_type}_decorators&#x27;:&nbsp;list({ast.unparse(decorator)&nbsp;for&nbsp;decorator&nbsp;in&nbsp;node.decorator_list}&nbsp;if&nbsp;node.decorator_list&nbsp;else&nbsp;set()),&nbsp;f&#x27;{node_type}_annotations&#x27;:&nbsp;list({ast.unparse(subnode.annotation)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.AnnAssign)&nbsp;and&nbsp;subnode.annotation&nbsp;is&nbsp;not&nbsp;None}),&nbsp;f&#x27;{node_type}_properties&#x27;:&nbsp;list({ast.unparse(subnode)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(subnode.ctx,&nbsp;ast.Store)})}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;class&#x27;&nbsp;or&nbsp;node_type&nbsp;==&nbsp;&#x27;method&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;method&#x27;&nbsp;and&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attributes&nbsp;=&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(target.value,&nbsp;ast.Name)&nbsp;and&nbsp;(target.value.id&nbsp;==&nbsp;&#x27;self&#x27;)]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;class_attributes&#x27;&nbsp;in&nbsp;self.classes[self.current_class]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][&#x27;class_attributes&#x27;].extend(attributes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][&#x27;class_attributes&#x27;]&nbsp;=&nbsp;attributes<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details.update({&#x27;class_attributes&#x27;:&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)],&nbsp;&#x27;class_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;],&nbsp;&#x27;class_inheritance&#x27;:&nbsp;[ast.unparse(base)&nbsp;for&nbsp;base&nbsp;in&nbsp;node.bases]&nbsp;if&nbsp;node.bases&nbsp;else&nbsp;[],&nbsp;&#x27;class_static_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;&nbsp;and&nbsp;any((isinstance(decorator,&nbsp;ast.Name)&nbsp;and&nbsp;decorator.id&nbsp;==&nbsp;&#x27;staticmethod&#x27;&nbsp;for&nbsp;decorator&nbsp;in&nbsp;subnode.decorator_list))]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;details<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;analyze(self,&nbsp;node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info&nbsp;=&nbsp;{&#x27;file_code&#x27;:&nbsp;self.code,&nbsp;&#x27;file_ast&#x27;:&nbsp;ast.dump(node),&nbsp;&#x27;file_dependencies&#x27;:&nbsp;list({alias.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Import)&nbsp;for&nbsp;alias&nbsp;in&nbsp;subnode.names}&nbsp;|&nbsp;{subnode.module&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.ImportFrom)}),&nbsp;&#x27;file_functions&#x27;:&nbsp;list(self.functions.keys()),&nbsp;&#x27;file_classes&#x27;:&nbsp;list(self.classes.keys()),&nbsp;&#x27;file_control_flow&#x27;:&nbsp;get_control_flow(self.code)}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_defs&nbsp;=&nbsp;[{func_name:&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;function_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;function_calls&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;function_returns&#x27;]}}&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;self.functions.items()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;self.classes.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;details&nbsp;in&nbsp;class_details.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;method_name.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs[method_name[len(&#x27;class_method_&#x27;):]]&nbsp;=&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;method_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;method_calls&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;method_returns&#x27;]}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs.append({class_name:&nbsp;{&#x27;method_defs&#x27;:&nbsp;method_defs}})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&#x27;file_summary&#x27;]&nbsp;=&nbsp;{&#x27;dependencies&#x27;:&nbsp;self.file_info[&#x27;file_dependencies&#x27;],&nbsp;&#x27;function_defs&#x27;:&nbsp;function_defs,&nbsp;&#x27;class_defs&#x27;:&nbsp;class_defs}</td><td>function_defs, details, class_defs, attributes, method_defs, node_walk</td></tr><tr><td>What is the Inheritance of the class: &#x27;ControlFlowVisitor&#x27; in the Python file: &#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>class&nbsp;ControlFlowVisitor(ast.NodeVisitor):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;This&nbsp;class&nbsp;inherits&nbsp;from&nbsp;ast.NodeVisitor&nbsp;and&nbsp;is&nbsp;used&nbsp;to&nbsp;visit&nbsp;nodes&nbsp;in&nbsp;the<br/>&nbsp;&nbsp;&nbsp;&nbsp;AST&nbsp;(Abstract&nbsp;Syntax&nbsp;Tree).It&nbsp;extracts&nbsp;control&nbsp;flow&nbsp;keywords&nbsp;to&nbsp;give&nbsp;a&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;high-level&nbsp;understanding&nbsp;of&nbsp;the&nbsp;program&nbsp;flow.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_type_to_keyword&nbsp;(dict):&nbsp;A&nbsp;dictionary&nbsp;mapping&nbsp;AST&nbsp;node&nbsp;types&nbsp;to&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;corresponding&nbsp;control&nbsp;flow&nbsp;keywords.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;control_flow&nbsp;(list):&nbsp;A&nbsp;list&nbsp;storing&nbsp;the&nbsp;sequence&nbsp;of&nbsp;control&nbsp;flow&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;keywords&nbsp;encountered&nbsp;in&nbsp;the&nbsp;AST.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;__init__():&nbsp;Initializes&nbsp;a&nbsp;new&nbsp;instance&nbsp;of&nbsp;the&nbsp;class,&nbsp;setting&nbsp;up&nbsp;the<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;control&nbsp;flow&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generic_visit(node):&nbsp;Method&nbsp;to&nbsp;visit&nbsp;a&nbsp;node.&nbsp;If&nbsp;the&nbsp;node&nbsp;type&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;corresponds&nbsp;to&nbsp;a&nbsp;control&nbsp;flow&nbsp;keyword,&nbsp;it&nbsp;is&nbsp;added&nbsp;to&nbsp;the&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;control_flow&nbsp;list.&nbsp;The&nbsp;method&nbsp;then&nbsp;calls&nbsp;the&nbsp;inherited<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generic_visit&nbsp;to&nbsp;continue&nbsp;visiting&nbsp;other&nbsp;nodes.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;get_control_flow():&nbsp;Returns&nbsp;a&nbsp;string&nbsp;representing&nbsp;the&nbsp;control&nbsp;flow&nbsp;of<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;program.&nbsp;The&nbsp;control&nbsp;flow&nbsp;keywords&nbsp;are&nbsp;joined&nbsp;in&nbsp;the&nbsp;order&nbsp;they<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;were&nbsp;encountered&nbsp;during&nbsp;the&nbsp;AST&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;node_type_to_keyword&nbsp;=&nbsp;{ast.If:&nbsp;&#x27;if&#x27;,&nbsp;ast.While:&nbsp;&#x27;while&#x27;,&nbsp;ast.For:&nbsp;&#x27;for&#x27;,&nbsp;ast.AsyncFor:&nbsp;&#x27;for&#x27;,&nbsp;ast.AsyncWith:&nbsp;&#x27;with&#x27;,&nbsp;ast.Try:&nbsp;&#x27;try&#x27;,&nbsp;ast.With:&nbsp;&#x27;with&#x27;,&nbsp;ast.ExceptHandler:&nbsp;&#x27;except&#x27;,&nbsp;ast.FunctionDef:&nbsp;&#x27;def&#x27;,&nbsp;ast.AsyncFunctionDef:&nbsp;&#x27;def&#x27;,&nbsp;ast.ClassDef:&nbsp;&#x27;class&#x27;,&nbsp;ast.Module:&nbsp;&#x27;module&#x27;}<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.control_flow&nbsp;=&nbsp;[]<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;generic_visit(self,&nbsp;node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;keyword&nbsp;=&nbsp;self.node_type_to_keyword.get(type(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;keyword:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;isinstance(node,&nbsp;ast.FunctionDef):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.control_flow.append(keyword&nbsp;+&nbsp;&#x27;&nbsp;&#x27;&nbsp;+&nbsp;node.name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.control_flow.append(keyword)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;super().generic_visit(node)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_control_flow(self):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;&nbsp;-&gt;&nbsp;&#x27;.join(self.control_flow)</td><td>ast.NodeVisitor</td></tr><tr><td>What is the Inheritance of the class: &#x27;CodeVisitor&#x27; in the Python file: &#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>class&nbsp;CodeVisitor(ast.NodeVisitor):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Visitor&nbsp;class&nbsp;for&nbsp;traversing&nbsp;an&nbsp;AST&nbsp;(Abstract&nbsp;Syntax&nbsp;Tree)&nbsp;and&nbsp;extracting<br/>&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;about&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;(str):&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;functions(Dict):&nbsp;details&nbsp;about&nbsp;functions&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;classes&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;classes&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_info&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_FunctionDef(node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:&nbsp;Extract&nbsp;details&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_ClassDef(node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;extract_details(node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;analyze(node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:&nbsp;Populate&nbsp;file_info&nbsp;with&nbsp;details&nbsp;about<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;code:&nbsp;str):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.code:&nbsp;str&nbsp;=&nbsp;code<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info:&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class:&nbsp;str&nbsp;=&nbsp;None<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_FunctionDef(self,&nbsp;node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][f&#x27;class_method_{node.name}&#x27;]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;method&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions[node.name]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;function&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_ClassDef(self,&nbsp;node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[node.name]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;class&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;node.name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;None<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;extract_details(self,&nbsp;node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;{f&#x27;{node_type}_name&#x27;:&nbsp;node.name,&nbsp;f&#x27;{node_type}_code&#x27;:&nbsp;ast.unparse(node),&nbsp;f&#x27;{node_type}_ast&#x27;:&nbsp;ast.dump(node,&nbsp;include_attributes=True),&nbsp;f&#x27;{node_type}_docstring&#x27;:&nbsp;ast.get_docstring(node),&nbsp;f&#x27;{node_type}_inputs&#x27;:&nbsp;[arg.arg&nbsp;for&nbsp;arg&nbsp;in&nbsp;node.args.args]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,&nbsp;f&#x27;{node_type}_defaults&#x27;:&nbsp;[ast.unparse(d)&nbsp;for&nbsp;d&nbsp;in&nbsp;node.args.defaults]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,&nbsp;f&#x27;{node_type}_returns&#x27;:&nbsp;[ast.unparse(subnode.value)&nbsp;if&nbsp;subnode.value&nbsp;is&nbsp;not&nbsp;None&nbsp;else&nbsp;&#x27;None&#x27;&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Return)],&nbsp;f&#x27;{node_type}_calls&#x27;:&nbsp;list({ast.unparse(n.func)&nbsp;for&nbsp;n&nbsp;in&nbsp;get_all_calls(node)}),&nbsp;f&#x27;{node_type}_variables&#x27;:&nbsp;list({ast.unparse(target)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Name)}),&nbsp;f&#x27;{node_type}_decorators&#x27;:&nbsp;list({ast.unparse(decorator)&nbsp;for&nbsp;decorator&nbsp;in&nbsp;node.decorator_list}&nbsp;if&nbsp;node.decorator_list&nbsp;else&nbsp;set()),&nbsp;f&#x27;{node_type}_annotations&#x27;:&nbsp;list({ast.unparse(subnode.annotation)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.AnnAssign)&nbsp;and&nbsp;subnode.annotation&nbsp;is&nbsp;not&nbsp;None}),&nbsp;f&#x27;{node_type}_properties&#x27;:&nbsp;list({ast.unparse(subnode)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(subnode.ctx,&nbsp;ast.Store)})}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;class&#x27;&nbsp;or&nbsp;node_type&nbsp;==&nbsp;&#x27;method&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;method&#x27;&nbsp;and&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attributes&nbsp;=&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(target.value,&nbsp;ast.Name)&nbsp;and&nbsp;(target.value.id&nbsp;==&nbsp;&#x27;self&#x27;)]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;class_attributes&#x27;&nbsp;in&nbsp;self.classes[self.current_class]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][&#x27;class_attributes&#x27;].extend(attributes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][&#x27;class_attributes&#x27;]&nbsp;=&nbsp;attributes<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details.update({&#x27;class_attributes&#x27;:&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)],&nbsp;&#x27;class_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;],&nbsp;&#x27;class_inheritance&#x27;:&nbsp;[ast.unparse(base)&nbsp;for&nbsp;base&nbsp;in&nbsp;node.bases]&nbsp;if&nbsp;node.bases&nbsp;else&nbsp;[],&nbsp;&#x27;class_static_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;&nbsp;and&nbsp;any((isinstance(decorator,&nbsp;ast.Name)&nbsp;and&nbsp;decorator.id&nbsp;==&nbsp;&#x27;staticmethod&#x27;&nbsp;for&nbsp;decorator&nbsp;in&nbsp;subnode.decorator_list))]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;details<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;analyze(self,&nbsp;node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info&nbsp;=&nbsp;{&#x27;file_code&#x27;:&nbsp;self.code,&nbsp;&#x27;file_ast&#x27;:&nbsp;ast.dump(node),&nbsp;&#x27;file_dependencies&#x27;:&nbsp;list({alias.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Import)&nbsp;for&nbsp;alias&nbsp;in&nbsp;subnode.names}&nbsp;|&nbsp;{subnode.module&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.ImportFrom)}),&nbsp;&#x27;file_functions&#x27;:&nbsp;list(self.functions.keys()),&nbsp;&#x27;file_classes&#x27;:&nbsp;list(self.classes.keys()),&nbsp;&#x27;file_control_flow&#x27;:&nbsp;get_control_flow(self.code)}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_defs&nbsp;=&nbsp;[{func_name:&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;function_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;function_calls&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;function_returns&#x27;]}}&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;self.functions.items()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;self.classes.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;details&nbsp;in&nbsp;class_details.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;method_name.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs[method_name[len(&#x27;class_method_&#x27;):]]&nbsp;=&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;method_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;method_calls&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;method_returns&#x27;]}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs.append({class_name:&nbsp;{&#x27;method_defs&#x27;:&nbsp;method_defs}})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&#x27;file_summary&#x27;]&nbsp;=&nbsp;{&#x27;dependencies&#x27;:&nbsp;self.file_info[&#x27;file_dependencies&#x27;],&nbsp;&#x27;function_defs&#x27;:&nbsp;function_defs,&nbsp;&#x27;class_defs&#x27;:&nbsp;class_defs}</td><td>ast.NodeVisitor</td></tr><tr><td>What are the inputs to method: &#x27;__init__&#x27; in the class: &#x27;ControlFlowVisitor&#x27; in the Python file: &#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;__init__(self):<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.control_flow&nbsp;=&nbsp;[]</td><td>self</td></tr><tr><td>What are the inputs to method: &#x27;generic_visit&#x27; in the class: &#x27;ControlFlowVisitor&#x27; in the Python file: &#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;generic_visit(self,&nbsp;node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;keyword&nbsp;=&nbsp;self.node_type_to_keyword.get(type(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;keyword:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;isinstance(node,&nbsp;ast.FunctionDef):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.control_flow.append(keyword&nbsp;+&nbsp;&#x27;&nbsp;&#x27;&nbsp;+&nbsp;node.name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.control_flow.append(keyword)<br/>&nbsp;&nbsp;&nbsp;&nbsp;super().generic_visit(node)</td><td>node, self</td></tr><tr><td>What are the inputs to method: &#x27;get_control_flow&#x27; in the class: &#x27;ControlFlowVisitor&#x27; in the Python file: &#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;get_control_flow(self):<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;&nbsp;-&gt;&nbsp;&#x27;.join(self.control_flow)</td><td>self</td></tr><tr><td>What are the inputs to method: &#x27;__init__&#x27; in the class: &#x27;CodeVisitor&#x27; in the Python file: &#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;__init__(self,&nbsp;code:&nbsp;str):<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.code:&nbsp;str&nbsp;=&nbsp;code<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.functions:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.classes:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.file_info:&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.current_class:&nbsp;str&nbsp;=&nbsp;None</td><td>code, self</td></tr><tr><td>What are the inputs to method: &#x27;visit_FunctionDef&#x27; in the class: &#x27;CodeVisitor&#x27; in the Python file: &#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;visit_FunctionDef(self,&nbsp;node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][f&#x27;class_method_{node.name}&#x27;]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;method&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions[node.name]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;function&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)</td><td>node, self</td></tr><tr><td>What are the inputs to method: &#x27;visit_ClassDef&#x27; in the class: &#x27;CodeVisitor&#x27; in the Python file: &#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;visit_ClassDef(self,&nbsp;node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.classes[node.name]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;class&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;node.name<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;None</td><td>node, self</td></tr><tr><td>What are the inputs to method: &#x27;extract_details&#x27; in the class: &#x27;CodeVisitor&#x27; in the Python file: &#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;extract_details(self,&nbsp;node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;{f&#x27;{node_type}_name&#x27;:&nbsp;node.name,&nbsp;f&#x27;{node_type}_code&#x27;:&nbsp;ast.unparse(node),&nbsp;f&#x27;{node_type}_ast&#x27;:&nbsp;ast.dump(node,&nbsp;include_attributes=True),&nbsp;f&#x27;{node_type}_docstring&#x27;:&nbsp;ast.get_docstring(node),&nbsp;f&#x27;{node_type}_inputs&#x27;:&nbsp;[arg.arg&nbsp;for&nbsp;arg&nbsp;in&nbsp;node.args.args]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,&nbsp;f&#x27;{node_type}_defaults&#x27;:&nbsp;[ast.unparse(d)&nbsp;for&nbsp;d&nbsp;in&nbsp;node.args.defaults]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,&nbsp;f&#x27;{node_type}_returns&#x27;:&nbsp;[ast.unparse(subnode.value)&nbsp;if&nbsp;subnode.value&nbsp;is&nbsp;not&nbsp;None&nbsp;else&nbsp;&#x27;None&#x27;&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Return)],&nbsp;f&#x27;{node_type}_calls&#x27;:&nbsp;list({ast.unparse(n.func)&nbsp;for&nbsp;n&nbsp;in&nbsp;get_all_calls(node)}),&nbsp;f&#x27;{node_type}_variables&#x27;:&nbsp;list({ast.unparse(target)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Name)}),&nbsp;f&#x27;{node_type}_decorators&#x27;:&nbsp;list({ast.unparse(decorator)&nbsp;for&nbsp;decorator&nbsp;in&nbsp;node.decorator_list}&nbsp;if&nbsp;node.decorator_list&nbsp;else&nbsp;set()),&nbsp;f&#x27;{node_type}_annotations&#x27;:&nbsp;list({ast.unparse(subnode.annotation)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.AnnAssign)&nbsp;and&nbsp;subnode.annotation&nbsp;is&nbsp;not&nbsp;None}),&nbsp;f&#x27;{node_type}_properties&#x27;:&nbsp;list({ast.unparse(subnode)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(subnode.ctx,&nbsp;ast.Store)})}<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;class&#x27;&nbsp;or&nbsp;node_type&nbsp;==&nbsp;&#x27;method&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;method&#x27;&nbsp;and&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attributes&nbsp;=&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(target.value,&nbsp;ast.Name)&nbsp;and&nbsp;(target.value.id&nbsp;==&nbsp;&#x27;self&#x27;)]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;class_attributes&#x27;&nbsp;in&nbsp;self.classes[self.current_class]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][&#x27;class_attributes&#x27;].extend(attributes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][&#x27;class_attributes&#x27;]&nbsp;=&nbsp;attributes<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details.update({&#x27;class_attributes&#x27;:&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)],&nbsp;&#x27;class_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;],&nbsp;&#x27;class_inheritance&#x27;:&nbsp;[ast.unparse(base)&nbsp;for&nbsp;base&nbsp;in&nbsp;node.bases]&nbsp;if&nbsp;node.bases&nbsp;else&nbsp;[],&nbsp;&#x27;class_static_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;&nbsp;and&nbsp;any((isinstance(decorator,&nbsp;ast.Name)&nbsp;and&nbsp;decorator.id&nbsp;==&nbsp;&#x27;staticmethod&#x27;&nbsp;for&nbsp;decorator&nbsp;in&nbsp;subnode.decorator_list))]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;details</td><td>node, self, node_type</td></tr><tr><td>What are the inputs to method: &#x27;analyze&#x27; in the class: &#x27;CodeVisitor&#x27; in the Python file: &#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;analyze(self,&nbsp;node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.file_info&nbsp;=&nbsp;{&#x27;file_code&#x27;:&nbsp;self.code,&nbsp;&#x27;file_ast&#x27;:&nbsp;ast.dump(node),&nbsp;&#x27;file_dependencies&#x27;:&nbsp;list({alias.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Import)&nbsp;for&nbsp;alias&nbsp;in&nbsp;subnode.names}&nbsp;|&nbsp;{subnode.module&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.ImportFrom)}),&nbsp;&#x27;file_functions&#x27;:&nbsp;list(self.functions.keys()),&nbsp;&#x27;file_classes&#x27;:&nbsp;list(self.classes.keys()),&nbsp;&#x27;file_control_flow&#x27;:&nbsp;get_control_flow(self.code)}<br/>&nbsp;&nbsp;&nbsp;&nbsp;function_defs&nbsp;=&nbsp;[{func_name:&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;function_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;function_calls&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;function_returns&#x27;]}}&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;self.functions.items()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;class_defs&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;self.classes.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;details&nbsp;in&nbsp;class_details.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;method_name.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs[method_name[len(&#x27;class_method_&#x27;):]]&nbsp;=&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;method_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;method_calls&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;method_returns&#x27;]}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs.append({class_name:&nbsp;{&#x27;method_defs&#x27;:&nbsp;method_defs}})<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&#x27;file_summary&#x27;]&nbsp;=&nbsp;{&#x27;dependencies&#x27;:&nbsp;self.file_info[&#x27;file_dependencies&#x27;],&nbsp;&#x27;function_defs&#x27;:&nbsp;function_defs,&nbsp;&#x27;class_defs&#x27;:&nbsp;class_defs}</td><td>node, self</td></tr><tr><td>What calls are made in the method: &#x27;generic_visit&#x27; in the class: &#x27;ControlFlowVisitor&#x27; in the Python file: &#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;generic_visit(self,&nbsp;node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;keyword&nbsp;=&nbsp;self.node_type_to_keyword.get(type(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;keyword:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;isinstance(node,&nbsp;ast.FunctionDef):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.control_flow.append(keyword&nbsp;+&nbsp;&#x27;&nbsp;&#x27;&nbsp;+&nbsp;node.name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.control_flow.append(keyword)<br/>&nbsp;&nbsp;&nbsp;&nbsp;super().generic_visit(node)</td><td>isinstance, super.generic_visit, type, self.node_type_to_keyword.get, self.control_flow.append, super</td></tr><tr><td>What calls are made in the method: &#x27;get_control_flow&#x27; in the class: &#x27;ControlFlowVisitor&#x27; in the Python file: &#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;get_control_flow(self):<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;&nbsp;-&gt;&nbsp;&#x27;.join(self.control_flow)</td><td>-&gt; .join</td></tr><tr><td>What calls are made in the method: &#x27;visit_FunctionDef&#x27; in the class: &#x27;CodeVisitor&#x27; in the Python file: &#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;visit_FunctionDef(self,&nbsp;node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][f&#x27;class_method_{node.name}&#x27;]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;method&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions[node.name]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;function&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)</td><td>self.generic_visit, self.extract_details</td></tr><tr><td>What calls are made in the method: &#x27;visit_ClassDef&#x27; in the class: &#x27;CodeVisitor&#x27; in the Python file: &#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;visit_ClassDef(self,&nbsp;node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.classes[node.name]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;class&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;node.name<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;None</td><td>self.generic_visit, self.extract_details</td></tr><tr><td>What calls are made in the method: &#x27;extract_details&#x27; in the class: &#x27;CodeVisitor&#x27; in the Python file: &#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;extract_details(self,&nbsp;node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;{f&#x27;{node_type}_name&#x27;:&nbsp;node.name,&nbsp;f&#x27;{node_type}_code&#x27;:&nbsp;ast.unparse(node),&nbsp;f&#x27;{node_type}_ast&#x27;:&nbsp;ast.dump(node,&nbsp;include_attributes=True),&nbsp;f&#x27;{node_type}_docstring&#x27;:&nbsp;ast.get_docstring(node),&nbsp;f&#x27;{node_type}_inputs&#x27;:&nbsp;[arg.arg&nbsp;for&nbsp;arg&nbsp;in&nbsp;node.args.args]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,&nbsp;f&#x27;{node_type}_defaults&#x27;:&nbsp;[ast.unparse(d)&nbsp;for&nbsp;d&nbsp;in&nbsp;node.args.defaults]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,&nbsp;f&#x27;{node_type}_returns&#x27;:&nbsp;[ast.unparse(subnode.value)&nbsp;if&nbsp;subnode.value&nbsp;is&nbsp;not&nbsp;None&nbsp;else&nbsp;&#x27;None&#x27;&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Return)],&nbsp;f&#x27;{node_type}_calls&#x27;:&nbsp;list({ast.unparse(n.func)&nbsp;for&nbsp;n&nbsp;in&nbsp;get_all_calls(node)}),&nbsp;f&#x27;{node_type}_variables&#x27;:&nbsp;list({ast.unparse(target)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Name)}),&nbsp;f&#x27;{node_type}_decorators&#x27;:&nbsp;list({ast.unparse(decorator)&nbsp;for&nbsp;decorator&nbsp;in&nbsp;node.decorator_list}&nbsp;if&nbsp;node.decorator_list&nbsp;else&nbsp;set()),&nbsp;f&#x27;{node_type}_annotations&#x27;:&nbsp;list({ast.unparse(subnode.annotation)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.AnnAssign)&nbsp;and&nbsp;subnode.annotation&nbsp;is&nbsp;not&nbsp;None}),&nbsp;f&#x27;{node_type}_properties&#x27;:&nbsp;list({ast.unparse(subnode)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(subnode.ctx,&nbsp;ast.Store)})}<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;class&#x27;&nbsp;or&nbsp;node_type&nbsp;==&nbsp;&#x27;method&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;method&#x27;&nbsp;and&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attributes&nbsp;=&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(target.value,&nbsp;ast.Name)&nbsp;and&nbsp;(target.value.id&nbsp;==&nbsp;&#x27;self&#x27;)]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;class_attributes&#x27;&nbsp;in&nbsp;self.classes[self.current_class]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][&#x27;class_attributes&#x27;].extend(attributes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][&#x27;class_attributes&#x27;]&nbsp;=&nbsp;attributes<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details.update({&#x27;class_attributes&#x27;:&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)],&nbsp;&#x27;class_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;],&nbsp;&#x27;class_inheritance&#x27;:&nbsp;[ast.unparse(base)&nbsp;for&nbsp;base&nbsp;in&nbsp;node.bases]&nbsp;if&nbsp;node.bases&nbsp;else&nbsp;[],&nbsp;&#x27;class_static_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;&nbsp;and&nbsp;any((isinstance(decorator,&nbsp;ast.Name)&nbsp;and&nbsp;decorator.id&nbsp;==&nbsp;&#x27;staticmethod&#x27;&nbsp;for&nbsp;decorator&nbsp;in&nbsp;subnode.decorator_list))]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;details</td><td>get_all_calls, isinstance, details.update, ast.dump, set, ast.unparse, self.classesself.current_classclass_attributes.extend, any, list, ast.walk, ast.get_docstring</td></tr><tr><td>What calls are made in the method: &#x27;analyze&#x27; in the class: &#x27;CodeVisitor&#x27; in the Python file: &#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;analyze(self,&nbsp;node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.file_info&nbsp;=&nbsp;{&#x27;file_code&#x27;:&nbsp;self.code,&nbsp;&#x27;file_ast&#x27;:&nbsp;ast.dump(node),&nbsp;&#x27;file_dependencies&#x27;:&nbsp;list({alias.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Import)&nbsp;for&nbsp;alias&nbsp;in&nbsp;subnode.names}&nbsp;|&nbsp;{subnode.module&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.ImportFrom)}),&nbsp;&#x27;file_functions&#x27;:&nbsp;list(self.functions.keys()),&nbsp;&#x27;file_classes&#x27;:&nbsp;list(self.classes.keys()),&nbsp;&#x27;file_control_flow&#x27;:&nbsp;get_control_flow(self.code)}<br/>&nbsp;&nbsp;&nbsp;&nbsp;function_defs&nbsp;=&nbsp;[{func_name:&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;function_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;function_calls&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;function_returns&#x27;]}}&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;self.functions.items()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;class_defs&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;self.classes.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;details&nbsp;in&nbsp;class_details.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;method_name.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs[method_name[len(&#x27;class_method_&#x27;):]]&nbsp;=&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;method_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;method_calls&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;method_returns&#x27;]}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs.append({class_name:&nbsp;{&#x27;method_defs&#x27;:&nbsp;method_defs}})<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&#x27;file_summary&#x27;]&nbsp;=&nbsp;{&#x27;dependencies&#x27;:&nbsp;self.file_info[&#x27;file_dependencies&#x27;],&nbsp;&#x27;function_defs&#x27;:&nbsp;function_defs,&nbsp;&#x27;class_defs&#x27;:&nbsp;class_defs}</td><td>isinstance, self.functions.items, ast.dump, self.classes.keys, class_details.items, get_control_flow, len, method_name.startswith, self.classes.items, list, self.functions.keys, ast.walk, class_defs.append, self.visit</td></tr><tr><td>What are the returns from the method: &#x27;get_control_flow&#x27; in the class: &#x27;ControlFlowVisitor&#x27; in the Python file: &#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;get_control_flow(self):<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;&nbsp;-&gt;&nbsp;&#x27;.join(self.control_flow)</td><td>-&gt; .joinself.control_flow</td></tr><tr><td>What are the returns from the method: &#x27;extract_details&#x27; in the class: &#x27;CodeVisitor&#x27; in the Python file: &#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;extract_details(self,&nbsp;node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;{f&#x27;{node_type}_name&#x27;:&nbsp;node.name,&nbsp;f&#x27;{node_type}_code&#x27;:&nbsp;ast.unparse(node),&nbsp;f&#x27;{node_type}_ast&#x27;:&nbsp;ast.dump(node,&nbsp;include_attributes=True),&nbsp;f&#x27;{node_type}_docstring&#x27;:&nbsp;ast.get_docstring(node),&nbsp;f&#x27;{node_type}_inputs&#x27;:&nbsp;[arg.arg&nbsp;for&nbsp;arg&nbsp;in&nbsp;node.args.args]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,&nbsp;f&#x27;{node_type}_defaults&#x27;:&nbsp;[ast.unparse(d)&nbsp;for&nbsp;d&nbsp;in&nbsp;node.args.defaults]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,&nbsp;f&#x27;{node_type}_returns&#x27;:&nbsp;[ast.unparse(subnode.value)&nbsp;if&nbsp;subnode.value&nbsp;is&nbsp;not&nbsp;None&nbsp;else&nbsp;&#x27;None&#x27;&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Return)],&nbsp;f&#x27;{node_type}_calls&#x27;:&nbsp;list({ast.unparse(n.func)&nbsp;for&nbsp;n&nbsp;in&nbsp;get_all_calls(node)}),&nbsp;f&#x27;{node_type}_variables&#x27;:&nbsp;list({ast.unparse(target)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Name)}),&nbsp;f&#x27;{node_type}_decorators&#x27;:&nbsp;list({ast.unparse(decorator)&nbsp;for&nbsp;decorator&nbsp;in&nbsp;node.decorator_list}&nbsp;if&nbsp;node.decorator_list&nbsp;else&nbsp;set()),&nbsp;f&#x27;{node_type}_annotations&#x27;:&nbsp;list({ast.unparse(subnode.annotation)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.AnnAssign)&nbsp;and&nbsp;subnode.annotation&nbsp;is&nbsp;not&nbsp;None}),&nbsp;f&#x27;{node_type}_properties&#x27;:&nbsp;list({ast.unparse(subnode)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(subnode.ctx,&nbsp;ast.Store)})}<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;class&#x27;&nbsp;or&nbsp;node_type&nbsp;==&nbsp;&#x27;method&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;method&#x27;&nbsp;and&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attributes&nbsp;=&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(target.value,&nbsp;ast.Name)&nbsp;and&nbsp;(target.value.id&nbsp;==&nbsp;&#x27;self&#x27;)]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;class_attributes&#x27;&nbsp;in&nbsp;self.classes[self.current_class]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][&#x27;class_attributes&#x27;].extend(attributes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][&#x27;class_attributes&#x27;]&nbsp;=&nbsp;attributes<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details.update({&#x27;class_attributes&#x27;:&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)],&nbsp;&#x27;class_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;],&nbsp;&#x27;class_inheritance&#x27;:&nbsp;[ast.unparse(base)&nbsp;for&nbsp;base&nbsp;in&nbsp;node.bases]&nbsp;if&nbsp;node.bases&nbsp;else&nbsp;[],&nbsp;&#x27;class_static_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;&nbsp;and&nbsp;any((isinstance(decorator,&nbsp;ast.Name)&nbsp;and&nbsp;decorator.id&nbsp;==&nbsp;&#x27;staticmethod&#x27;&nbsp;for&nbsp;decorator&nbsp;in&nbsp;subnode.decorator_list))]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;details</td><td>details</td></tr><tr><td>What is the purpose and processing summary of the Python file: &#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>&quot;&quot;&quot;<br/>Use&nbsp;AST&nbsp;to&nbsp;extract&nbsp;details&nbsp;from&nbsp;Python&nbsp;a&nbsp;file&nbsp;and&nbsp;return&nbsp;as&nbsp;a&nbsp;dictionary.<br/>Requirements:<br/>[req01]&nbsp;The&nbsp;`ControlFlowVisitor`&nbsp;class&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Inherit&nbsp;from&nbsp;`ast.NodeVisitor`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Visit&nbsp;nodes&nbsp;in&nbsp;the&nbsp;AST&nbsp;to&nbsp;extract&nbsp;control&nbsp;flow&nbsp;keywords,&nbsp;providing&nbsp;a&nbsp;high-level&nbsp;understanding&nbsp;of&nbsp;the&nbsp;program&nbsp;flow.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Provide&nbsp;the&nbsp;ability&nbsp;to&nbsp;retrieve&nbsp;a&nbsp;string&nbsp;representation&nbsp;of&nbsp;the&nbsp;control&nbsp;flow&nbsp;of&nbsp;the&nbsp;program&nbsp;using&nbsp;the&nbsp;`get_control_flow`&nbsp;method.<br/>[req02]&nbsp;The&nbsp;`CodeVisitor`&nbsp;class&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Inherit&nbsp;from&nbsp;`ast.NodeVisitor`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Traverse&nbsp;an&nbsp;AST&nbsp;to&nbsp;extract&nbsp;extensive&nbsp;details&nbsp;about&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Have&nbsp;methods&nbsp;to&nbsp;visit&nbsp;`FunctionDef`&nbsp;and&nbsp;`ClassDef`&nbsp;nodes,&nbsp;extracting&nbsp;details&nbsp;about&nbsp;functions&nbsp;and&nbsp;classes&nbsp;respectively.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Analyze&nbsp;a&nbsp;node&nbsp;and&nbsp;populate&nbsp;the&nbsp;`file_info`&nbsp;attribute&nbsp;with&nbsp;comprehensive&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Maintain&nbsp;and&nbsp;populate&nbsp;details&nbsp;about&nbsp;functions,&nbsp;classes,&nbsp;methods,&nbsp;and&nbsp;attributes.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f.&nbsp;Handle&nbsp;and&nbsp;manage&nbsp;class&nbsp;attributes,&nbsp;methods,&nbsp;inheritance,&nbsp;and&nbsp;static&nbsp;methods,&nbsp;populating&nbsp;the&nbsp;relevant&nbsp;information&nbsp;as&nbsp;needed.<br/>[req03]&nbsp;The&nbsp;`get_control_flow`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;string&nbsp;containing&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Return&nbsp;control&nbsp;flow&nbsp;keywords&nbsp;present&nbsp;in&nbsp;the&nbsp;code.<br/>[req04]&nbsp;The&nbsp;`code_graph`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;file&nbsp;summary&nbsp;as&nbsp;its&nbsp;input.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Construct&nbsp;a&nbsp;dictionary&nbsp;representation&nbsp;that&nbsp;includes&nbsp;nodes&nbsp;and&nbsp;edges,&nbsp;illustrating&nbsp;relationships&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Define&nbsp;various&nbsp;elements&nbsp;like&nbsp;function&nbsp;nodes,&nbsp;class&nbsp;nodes,&nbsp;method&nbsp;nodes.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Define&nbsp;the&nbsp;edges&nbsp;to&nbsp;depict&nbsp;relationships&nbsp;like&nbsp;function&nbsp;calls,&nbsp;method&nbsp;calls,&nbsp;and&nbsp;class&nbsp;inheritance.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Return&nbsp;the&nbsp;dictionary&nbsp;representation&nbsp;of&nbsp;the&nbsp;code&nbsp;graph.<br/>[req05]&nbsp;The&nbsp;`get_python_file_details`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;file&nbsp;path&nbsp;as&nbsp;an&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Extract&nbsp;details&nbsp;from&nbsp;the&nbsp;specified&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Include&nbsp;the&nbsp;internal&nbsp;file&nbsp;graph&nbsp;and&nbsp;entire&nbsp;file&nbsp;graph&nbsp;in&nbsp;the&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Return&nbsp;a&nbsp;dictionary&nbsp;containing&nbsp;these&nbsp;details.<br/>&quot;&quot;&quot;<br/>import&nbsp;ast<br/>import&nbsp;re<br/>import&nbsp;json<br/>import&nbsp;logging<br/>import&nbsp;networkx&nbsp;as&nbsp;nx<br/>from&nbsp;typing&nbsp;import&nbsp;Dict,&nbsp;List,&nbsp;Optional,&nbsp;Union<br/><br/><br/>class&nbsp;ControlFlowVisitor(ast.NodeVisitor):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;This&nbsp;class&nbsp;inherits&nbsp;from&nbsp;ast.NodeVisitor&nbsp;and&nbsp;is&nbsp;used&nbsp;to&nbsp;visit&nbsp;nodes&nbsp;in&nbsp;the<br/>&nbsp;&nbsp;&nbsp;&nbsp;AST&nbsp;(Abstract&nbsp;Syntax&nbsp;Tree).It&nbsp;extracts&nbsp;control&nbsp;flow&nbsp;keywords&nbsp;to&nbsp;give&nbsp;a&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;high-level&nbsp;understanding&nbsp;of&nbsp;the&nbsp;program&nbsp;flow.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_type_to_keyword&nbsp;(dict):&nbsp;A&nbsp;dictionary&nbsp;mapping&nbsp;AST&nbsp;node&nbsp;types&nbsp;to&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;corresponding&nbsp;control&nbsp;flow&nbsp;keywords.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;control_flow&nbsp;(list):&nbsp;A&nbsp;list&nbsp;storing&nbsp;the&nbsp;sequence&nbsp;of&nbsp;control&nbsp;flow&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;keywords&nbsp;encountered&nbsp;in&nbsp;the&nbsp;AST.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;__init__():&nbsp;Initializes&nbsp;a&nbsp;new&nbsp;instance&nbsp;of&nbsp;the&nbsp;class,&nbsp;setting&nbsp;up&nbsp;the<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;control&nbsp;flow&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generic_visit(node):&nbsp;Method&nbsp;to&nbsp;visit&nbsp;a&nbsp;node.&nbsp;If&nbsp;the&nbsp;node&nbsp;type&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;corresponds&nbsp;to&nbsp;a&nbsp;control&nbsp;flow&nbsp;keyword,&nbsp;it&nbsp;is&nbsp;added&nbsp;to&nbsp;the&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;control_flow&nbsp;list.&nbsp;The&nbsp;method&nbsp;then&nbsp;calls&nbsp;the&nbsp;inherited<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generic_visit&nbsp;to&nbsp;continue&nbsp;visiting&nbsp;other&nbsp;nodes.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;get_control_flow():&nbsp;Returns&nbsp;a&nbsp;string&nbsp;representing&nbsp;the&nbsp;control&nbsp;flow&nbsp;of<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;program.&nbsp;The&nbsp;control&nbsp;flow&nbsp;keywords&nbsp;are&nbsp;joined&nbsp;in&nbsp;the&nbsp;order&nbsp;they<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;were&nbsp;encountered&nbsp;during&nbsp;the&nbsp;AST&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;node_type_to_keyword&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast.If:&nbsp;&quot;if&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast.While:&nbsp;&quot;while&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast.For:&nbsp;&quot;for&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast.AsyncFor:&nbsp;&quot;for&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast.AsyncWith:&nbsp;&quot;with&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast.Try:&nbsp;&quot;try&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast.With:&nbsp;&quot;with&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast.ExceptHandler:&nbsp;&quot;except&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast.FunctionDef:&nbsp;&quot;def&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast.AsyncFunctionDef:&nbsp;&quot;def&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast.ClassDef:&nbsp;&quot;class&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast.Module:&nbsp;&quot;module&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.control_flow&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;generic_visit(self,&nbsp;node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;keyword&nbsp;=&nbsp;self.node_type_to_keyword.get(type(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;keyword:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;isinstance(node,&nbsp;ast.FunctionDef):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.control_flow.append(keyword&nbsp;+&nbsp;&#x27;&nbsp;&#x27;&nbsp;+&nbsp;node.name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.control_flow.append(keyword)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;super().generic_visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_control_flow(self):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;&nbsp;-&gt;&nbsp;&#x27;.join(self.control_flow)<br/><br/>def&nbsp;get_all_calls(node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Recursively&nbsp;find&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;`node`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;calls&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;child&nbsp;in&nbsp;ast.iter_child_nodes(node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;isinstance(child,&nbsp;ast.Call):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls.append(child)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls.extend(get_all_calls(child))<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;calls<br/><br/>class&nbsp;CodeVisitor(ast.NodeVisitor):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Visitor&nbsp;class&nbsp;for&nbsp;traversing&nbsp;an&nbsp;AST&nbsp;(Abstract&nbsp;Syntax&nbsp;Tree)&nbsp;and&nbsp;extracting<br/>&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;about&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;(str):&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;functions(Dict):&nbsp;details&nbsp;about&nbsp;functions&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;classes&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;classes&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_info&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_FunctionDef(node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:&nbsp;Extract&nbsp;details&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_ClassDef(node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;extract_details(node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;analyze(node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:&nbsp;Populate&nbsp;file_info&nbsp;with&nbsp;details&nbsp;about<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;code:&nbsp;str):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;initialize&nbsp;dictionaries&nbsp;to&nbsp;store&nbsp;function,&nbsp;class,&nbsp;and&nbsp;file&nbsp;definitions<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.code:&nbsp;str&nbsp;=&nbsp;code<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info:&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class:&nbsp;str&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_FunctionDef(self,&nbsp;node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.current_class:&nbsp;#&nbsp;if&nbsp;inside&nbsp;a&nbsp;class,&nbsp;add&nbsp;this&nbsp;function&nbsp;as&nbsp;a&nbsp;method&nbsp;of&nbsp;the&nbsp;class<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][f&#x27;class_method_{node.name}&#x27;]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;method&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:&nbsp;#&nbsp;populate&nbsp;function&nbsp;dictionary&nbsp;when&nbsp;function&nbsp;definition&nbsp;found&nbsp;in&nbsp;AST<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions[node.name]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;function&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)&nbsp;#&nbsp;continue&nbsp;AST&nbsp;traversal&nbsp;to&nbsp;the&nbsp;next&nbsp;node<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_ClassDef(self,&nbsp;node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[node.name]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;class&#x27;)&nbsp;#&nbsp;populate&nbsp;class&nbsp;dictionary&nbsp;when&nbsp;class&nbsp;definition&nbsp;found&nbsp;in&nbsp;AST<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;node.name&nbsp;&nbsp;#&nbsp;set&nbsp;current_class&nbsp;to&nbsp;indicate&nbsp;inside&nbsp;a&nbsp;class<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)&nbsp;#&nbsp;continue&nbsp;AST&nbsp;traversal&nbsp;to&nbsp;the&nbsp;next&nbsp;node<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;None&nbsp;&nbsp;#&nbsp;reset&nbsp;current_class&nbsp;when&nbsp;finished&nbsp;with&nbsp;this&nbsp;class<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;extract_details(self,&nbsp;node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_name&quot;:&nbsp;node.name,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_code&quot;:&nbsp;ast.unparse(node),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_ast&quot;:&nbsp;ast.dump(node,&nbsp;include_attributes=True),&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_docstring&quot;:&nbsp;ast.get_docstring(node),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_inputs&quot;:&nbsp;[arg.arg&nbsp;for&nbsp;arg&nbsp;in&nbsp;node.args.args]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_defaults&quot;:&nbsp;[ast.unparse(d)&nbsp;for&nbsp;d&nbsp;in&nbsp;node.args.defaults]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_returns&quot;:&nbsp;[ast.unparse(subnode.value)&nbsp;if&nbsp;subnode.value&nbsp;is&nbsp;not&nbsp;None&nbsp;else&nbsp;&quot;None&quot;&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Return)],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_calls&quot;:&nbsp;list({ast.unparse(n.func)&nbsp;for&nbsp;n&nbsp;in&nbsp;get_all_calls(node)}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_variables&quot;:&nbsp;list({ast.unparse(target)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Name)}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_decorators&quot;:&nbsp;list({ast.unparse(decorator)&nbsp;for&nbsp;decorator&nbsp;in&nbsp;node.decorator_list}&nbsp;if&nbsp;node.decorator_list&nbsp;else&nbsp;set()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_annotations&quot;:&nbsp;list({ast.unparse(subnode.annotation)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.AnnAssign)&nbsp;and&nbsp;subnode.annotation&nbsp;is&nbsp;not&nbsp;None}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_properties&quot;:&nbsp;list({ast.unparse(subnode)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(subnode.ctx,&nbsp;ast.Store)}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;class&#x27;&nbsp;or&nbsp;node_type&nbsp;==&nbsp;&#x27;method&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;method&#x27;&nbsp;and&nbsp;self.current_class:&nbsp;#&nbsp;find&nbsp;attributes&nbsp;defined&nbsp;as&nbsp;self.attribute<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attributes&nbsp;=&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(target.value,&nbsp;ast.Name)&nbsp;and&nbsp;target.value.id&nbsp;==&nbsp;&#x27;self&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;attributes:&nbsp;#&nbsp;if&nbsp;this&nbsp;class&nbsp;already&nbsp;has&nbsp;some&nbsp;attributes,&nbsp;add&nbsp;to&nbsp;them<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&quot;class_attributes&quot;&nbsp;in&nbsp;self.classes[self.current_class]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][&quot;class_attributes&quot;].extend(attributes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:&nbsp;#&nbsp;otherwise,&nbsp;start&nbsp;a&nbsp;new&nbsp;list&nbsp;of&nbsp;attributes&nbsp;for&nbsp;this&nbsp;class<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][&quot;class_attributes&quot;]&nbsp;=&nbsp;attributes<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details.update({<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;class_attributes&quot;:&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;class_methods&quot;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&quot;__init__&quot;],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;class_inheritance&quot;:&nbsp;[ast.unparse(base)&nbsp;for&nbsp;base&nbsp;in&nbsp;node.bases]&nbsp;if&nbsp;node.bases&nbsp;else&nbsp;[],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;class_static_methods&quot;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&quot;__init__&quot;&nbsp;and&nbsp;any(isinstance(decorator,&nbsp;ast.Name)&nbsp;and&nbsp;decorator.id&nbsp;==&nbsp;&quot;staticmethod&quot;&nbsp;for&nbsp;decorator&nbsp;in&nbsp;subnode.decorator_list)],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;details<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;analyze(self,&nbsp;node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;traverse&nbsp;the&nbsp;AST&nbsp;rooted&nbsp;at&nbsp;&#x27;node&#x27;,&nbsp;create&nbsp;a&nbsp;list&nbsp;of&nbsp;all&nbsp;nodes&nbsp;within&nbsp;the&nbsp;current&nbsp;file,&nbsp;and&nbsp;populate&nbsp;&#x27;file_info&#x27;&nbsp;with&nbsp;file&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;file_code&quot;:&nbsp;self.code,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;file_ast&quot;&nbsp;:&nbsp;ast.dump(node),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;file_dependencies&quot;:&nbsp;list({alias.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Import)&nbsp;for&nbsp;alias&nbsp;in&nbsp;subnode.names}&nbsp;|&nbsp;{subnode.module&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.ImportFrom)}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;file_functions&quot;:&nbsp;list(self.functions.keys()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;file_classes&quot;:&nbsp;list(self.classes.keys()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;file_control_flow&quot;:&nbsp;get_control_flow(self.code),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;add&nbsp;file_summary&nbsp;to&nbsp;file_info<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_defs&nbsp;=&nbsp;[{func_name:&nbsp;{&quot;inputs&quot;:&nbsp;details[&quot;function_inputs&quot;],&nbsp;&quot;calls&quot;:&nbsp;details[&quot;function_calls&quot;],&nbsp;&quot;returns&quot;:&nbsp;details[&quot;function_returns&quot;]}}&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;self.functions.items()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;self.classes.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;details&nbsp;in&nbsp;class_details.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;method_name.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs[method_name[len(&#x27;class_method_&#x27;):]]&nbsp;=&nbsp;{&quot;inputs&quot;:&nbsp;details[&quot;method_inputs&quot;],&nbsp;&quot;calls&quot;:&nbsp;details[&quot;method_calls&quot;],&nbsp;&quot;returns&quot;:&nbsp;details[&quot;method_returns&quot;]}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs.append({class_name:&nbsp;{&quot;method_defs&quot;:&nbsp;method_defs}})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&quot;file_summary&quot;]&nbsp;=&nbsp;{&nbsp;&#x27;dependencies&#x27;:&nbsp;self.file_info[&quot;file_dependencies&quot;],&nbsp;&#x27;function_defs&#x27;&nbsp;:&nbsp;function_defs,&nbsp;&#x27;class_defs&#x27;&nbsp;:&nbsp;class_defs}<br/><br/><br/>def&nbsp;get_control_flow(code:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;control&nbsp;flow&nbsp;keywords&nbsp;from&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code:&nbsp;str:&nbsp;The&nbsp;source&nbsp;code&nbsp;to&nbsp;extract&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;control&nbsp;flow&nbsp;keywords&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor&nbsp;=&nbsp;ControlFlowVisitor()<br/>&nbsp;&nbsp;&nbsp;&nbsp;tree&nbsp;=&nbsp;ast.parse(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor.visit(tree)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;visitor.get_control_flow()<br/><br/><br/>def&nbsp;code_graph(file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]],&nbsp;internal_only:&nbsp;bool&nbsp;=&nbsp;True)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[List[str],&nbsp;Dict[str,&nbsp;List[str]]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Create&nbsp;a&nbsp;dictionary&nbsp;representation&nbsp;of&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;internal_only:&nbsp;bool:&nbsp;If&nbsp;True,&nbsp;only&nbsp;include&nbsp;function&nbsp;calls&nbsp;where&nbsp;both&nbsp;the&nbsp;caller&nbsp;and&nbsp;called&nbsp;function&nbsp;are&nbsp;within&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dict:&nbsp;A&nbsp;dictionary&nbsp;with&nbsp;nodes&nbsp;and&nbsp;edges&nbsp;representing&nbsp;the&nbsp;relationships<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;G&nbsp;=&nbsp;nx.DiGraph()<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Create&nbsp;lookup&nbsp;dictionaries&nbsp;for&nbsp;function&nbsp;and&nbsp;class&nbsp;method&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_def&nbsp;in&nbsp;file_summary[&#x27;function_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup.update(function_def)<br/>&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;class_def.items():&nbsp;#&nbsp;Extract&nbsp;class&nbsp;name&nbsp;and&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(class_name)&nbsp;#&nbsp;Add&nbsp;class&nbsp;as&nbsp;a&nbsp;graph&nbsp;node<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;method_details&nbsp;in&nbsp;class_details[&#x27;method_defs&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qualified_method_name&nbsp;=&nbsp;f&#x27;{class_name}.{method_name}&#x27;&nbsp;#&nbsp;Create&nbsp;method&nbsp;fully&nbsp;qualified&nbsp;name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(qualified_method_name)&nbsp;#&nbsp;Add&nbsp;method&nbsp;as&nbsp;a&nbsp;graph&nbsp;node<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup[qualified_method_name]&nbsp;=&nbsp;method_details&nbsp;&nbsp;#&nbsp;Store&nbsp;method&nbsp;details&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(class_name,&nbsp;qualified_method_name)&nbsp;#&nbsp;Add&nbsp;edge&nbsp;from&nbsp;class&nbsp;to&nbsp;method<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Helper&nbsp;function&nbsp;to&nbsp;extract&nbsp;edge&nbsp;data&nbsp;from&nbsp;target&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_edge_data_from_details(target_details:&nbsp;dict)&nbsp;-&gt;&nbsp;dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;inputs&#x27;&nbsp;in&nbsp;target_details:&nbsp;#&nbsp;If&nbsp;the&nbsp;target&nbsp;details&nbsp;contain&nbsp;inputs,&nbsp;add&nbsp;them&nbsp;to&nbsp;the&nbsp;edge&nbsp;data.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;target_details[&#x27;inputs&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;returns&#x27;&nbsp;in&nbsp;target_details:&nbsp;&nbsp;#&nbsp;If&nbsp;the&nbsp;target&nbsp;details&nbsp;contain&nbsp;returns,&nbsp;add&nbsp;them&nbsp;to&nbsp;the&nbsp;edge&nbsp;data.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_returns&#x27;]&nbsp;=&nbsp;list(set(target_details[&#x27;returns&#x27;]))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;edge_data<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Helper&nbsp;function&nbsp;to&nbsp;add&nbsp;edge&nbsp;with&nbsp;data<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edge_with_data(source:&nbsp;str,&nbsp;target:&nbsp;str,&nbsp;init_method:&nbsp;Optional[str]&nbsp;=&nbsp;None)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;class_method_details_lookup.get(init_method)&nbsp;or&nbsp;function_details_lookup.get(target)&nbsp;or&nbsp;class_method_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;get_edge_data_from_details(target_details)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(source,&nbsp;target,&nbsp;**edge_data)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Helper&nbsp;function&nbsp;to&nbsp;add&nbsp;edges&nbsp;for&nbsp;function&nbsp;or&nbsp;class&nbsp;method&nbsp;calls<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edges_for_calls(source_name,&nbsp;calls,&nbsp;internal_only=True):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_names&nbsp;=&nbsp;[list(class_def.keys())[0]&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;called&nbsp;in&nbsp;calls:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called_class_name&nbsp;=&nbsp;called.split(&#x27;.&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called.startswith(&quot;self.&quot;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;called.replace(&quot;self.&quot;,&nbsp;&quot;&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fully_qualified_name&nbsp;=&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{method_name}&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;fully_qualified_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;fully_qualified_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called&nbsp;in&nbsp;function_details_lookup&nbsp;or&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called&nbsp;in&nbsp;class_method_details_lookup&nbsp;or&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{called}&quot;&nbsp;in&nbsp;class_method_details_lookup<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;called_class_name&nbsp;in&nbsp;class_names:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method_name&nbsp;=&nbsp;f&quot;{called}.__init__&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;init_method_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;init_method_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called,&nbsp;init_method)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;not&nbsp;internal_only:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Add&nbsp;function&nbsp;nodes&nbsp;to&nbsp;graph&nbsp;and&nbsp;edges&nbsp;for&nbsp;function&nbsp;calls<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_name&nbsp;in&nbsp;function_details_lookup.keys():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(function_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;function_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(func_name,&nbsp;details[&#x27;calls&#x27;],&nbsp;internal_only)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Add&nbsp;edges&nbsp;for&nbsp;method&nbsp;calls<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;qualified_method_name,&nbsp;details&nbsp;in&nbsp;class_method_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(qualified_method_name,&nbsp;details[&#x27;calls&#x27;],&nbsp;internal_only)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Add&nbsp;edge&nbsp;data&nbsp;to&nbsp;edges&nbsp;and&nbsp;create&nbsp;node&nbsp;and&nbsp;edges&nbsp;to&nbsp;return<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source,&nbsp;target&nbsp;=&nbsp;edge<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;function_details_lookup.get(target)&nbsp;or&nbsp;class_method_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;get_edge_data_from_details(target_details)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G[source][target].update(edge_data)<br/>&nbsp;&nbsp;&nbsp;&nbsp;nodes&nbsp;=&nbsp;list(G.nodes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;edges&nbsp;=&nbsp;[{&quot;source&quot;:&nbsp;edge[0],&nbsp;&quot;target&quot;:&nbsp;edge[1],&nbsp;**edge[2]}&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges.data()]<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;nodes&quot;:&nbsp;nodes,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;edges&quot;:&nbsp;edges,<br/>&nbsp;&nbsp;&nbsp;&nbsp;}<br/><br/><br/>def&nbsp;get_python_file_details(file_path:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;from&nbsp;a&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path:&nbsp;str:&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(file_path,&nbsp;&quot;r&quot;,&nbsp;encoding=&quot;utf-8&quot;,&nbsp;errors=&#x27;ignore&#x27;)&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;=&nbsp;f.read()<br/>&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;PermissionError:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.warning(f&quot;Permission&nbsp;denied:&nbsp;{file_path}&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;None&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tree&nbsp;=&nbsp;ast.parse(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;SyntaxError:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.warning(f&quot;Syntax&nbsp;error&nbsp;in&nbsp;file:&nbsp;{file_path}&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor&nbsp;=&nbsp;CodeVisitor(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor.analyze(tree)<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;file_info&#x27;:&nbsp;visitor.file_info,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;functions&#x27;:&nbsp;visitor.functions,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;classes&#x27;:&nbsp;visitor.classes<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;add&nbsp;graphs&nbsp;and&nbsp;clean&nbsp;up&nbsp;file_summary<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;internal_code_graph&#x27;]&nbsp;=&nbsp;code_graph(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;entire_code_graph&#x27;]&nbsp;=&nbsp;code_graph(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;],&nbsp;internal_only=False)<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]&nbsp;=&nbsp;json.dumps(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]).replace(&#x27;\&quot;&#x27;,&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;file_details</td><td>The `get_python_file_details` function is a complex, multi-purpose utility that processes a provided Python script or module. This function&#x27;s primary role is to extract various details about the code in question and return them as a dictionary. The main purpose of this function is not just extraction but also analysis and transformation over the code which can be used for machine learning, natural language processing, or any other purposes that require extensive parsing and understanding of the source code.<br/><br/>Here&#x27;s how it works:<br/><br/>1) Firstly, it reads a Python script from a specified file path (file_path). It uses `ast.parse()` to parse the given Python code into an Abstract Syntax Tree (AST), which is an in-memory representation of the program that can be modified or analyzed by various tools and libraries. <br/><br/>2) Once it has parsed the code, get_python_file_details creates a CodeVisitor instance with the parsed tree. The visitor class inherits from ast.NodeVisitor, which allows for a depth-first traversal of the AST. It visits each node in the Abstract Syntax Tree, and based on its type, performs different operations to extract details about various nodes (functions, classes, etc.).<br/><br/>3) For instance, when it encounters an `ast.FunctionDef` node, get_python_file_details creates a dictionary of function-level information including inputs, outputs, and internal method calls, and adds this to the &#x27;functions&#x27; key in the returned details dictionary. Similarly, for class definitions (ast.ClassDef), it creates a dictionary with all relevant details about each class&#x27;s methods and properties, and stores them under &#x27;classes&#x27;.<br/><br/>4) After processing the entire code tree, get_python_file_details finally constructs an initial summary of important data points from the file:<br/>   - The complete set of function names and their inputs/outputs.<br/>   - The complete set of classes with their respective methods and properties. <br/>   - A directed graph representation of relationships between functions, class instances, and methods (if include_internals is True).<br/><br/>Please note that this function includes a lot of details such as the exact code for each individual method call within the main body of the file, which can be very large in size if there are many complex calls. If these details aren&#x27;t needed or necessary, consider reducing the amount of data returned by changing include_internals=False to limit processing and memory usage.<br/><br/>Please also note that this function assumes that all code is written in Python 3. The function may not work correctly with earlier versions of Python due to syntax differences between those versions.</td></tr><tr><td>What is the purpose and processing summary of the function: &#x27;get_all_calls&#x27; defined in the Python file: &#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;get_all_calls(node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Recursively&nbsp;find&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;`node`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;calls&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;child&nbsp;in&nbsp;ast.iter_child_nodes(node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;isinstance(child,&nbsp;ast.Call):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls.append(child)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls.extend(get_all_calls(child))<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;calls</td><td>The context given does not appear to be related to a programming language, but instead contains Python code snippets, class declarations, functions and method calls for an AI model that is being trained on Python code. The function &#x27;get_all_calls&#x27; in the file &#x27;py2dataset.get_python_file_details.py&#x27;, which appears to contain some helper methods used by another part of the system, serves as a utility function designed to recursively search and find all Function Call nodes (ast.Call) in an Abstract Syntax Tree (AST), effectively enabling access to Python code&#x27;s functional elements such as functions/methods called or referenced within the source file.<br/><br/>The purpose of this function is to facilitate the extraction of specific features from Python code, such as calls made to certain functions or methods, which can then be used for further language model training. The processing summary could be broken down into two main parts: <br/><br/>1) Recursive AST traversal: This involves iterating over each node in the abstract syntax tree, whether that be a literal value (like an integer), function call, class definition, etc., and performing operations on these nodes if necessary. In this case, it traverses all subtrees of &#x27;node&#x27; to find any Function Call nodes.<br/><br/>2) Appending to a list: The function appends each found Function Call node into a list. This is done using the built-in Python method append(), which adds an element at the end of the list. Each new node added to this list could then be processed by another part of the AI model&#x27;s training process, potentially generating features from these Function Call nodes for further language modeling and generation tasks.<br/><br/>These summary points can provide a more in-depth understanding of how &#x27;get_all_calls&#x27; is used within the system being trained. However, it&#x27;s important to note that this function does not perform any explicit operations on or transform the found Function Call nodes in any way, simply gathering their information and providing them for further processing by the model.</td></tr><tr><td>What is the purpose and processing summary of the function: &#x27;get_control_flow&#x27; defined in the Python file: &#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;get_control_flow(code:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;control&nbsp;flow&nbsp;keywords&nbsp;from&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code:&nbsp;str:&nbsp;The&nbsp;source&nbsp;code&nbsp;to&nbsp;extract&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;control&nbsp;flow&nbsp;keywords&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor&nbsp;=&nbsp;ControlFlowVisitor()<br/>&nbsp;&nbsp;&nbsp;&nbsp;tree&nbsp;=&nbsp;ast.parse(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor.visit(tree)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;visitor.get_control_flow()</td><td>The main purpose of this function is to extract control flow keywords from a given Python code string. The function first converts the source code into an Abstract Syntax Tree (AST) using `ast.parse()` and then visits each node with an instance of `ControlFlowVisitor`. <br/><br/>`ControlFlowVisitor`, as the name suggests, is used to visit every AST node. For a detailed visitor pattern in Python, see [here](https://docs.python.org/3/library/ast.html#ast.NodeVisitor). The main purpose of this class is to collect information about control flow statements like `if`, `elif`, `else`, and `for` statements, which are identified by the AST&#x27;s visiting process. <br/><br/>Once all nodes in the tree have been visited, a list of control flow keywords (like &#x27;if&#x27;, &#x27;elif&#x27;, etc.) is returned from this function. This data can be used as input to various natural language processing tasks such as generating code summaries or automatically fixing coding errors based on the extracted control flow statements.<br/><br/>In summary, the main purpose of the `get_control_flow` function is to extract and identify keywords in Python&#x27;s control flow statements from a given source code string. The process involves converting the input code into an abstract syntax tree (AST) using `ast.parse()`, visiting each node with `ControlFlowVisitor`, and then storing any relevant information about control flow statements found during this visiting process.</td></tr><tr><td>What is the purpose and processing summary of the function: &#x27;code_graph&#x27; defined in the Python file: &#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;code_graph(file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]],&nbsp;internal_only:&nbsp;bool=True)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[List[str],&nbsp;Dict[str,&nbsp;List[str]]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Create&nbsp;a&nbsp;dictionary&nbsp;representation&nbsp;of&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;internal_only:&nbsp;bool:&nbsp;If&nbsp;True,&nbsp;only&nbsp;include&nbsp;function&nbsp;calls&nbsp;where&nbsp;both&nbsp;the&nbsp;caller&nbsp;and&nbsp;called&nbsp;function&nbsp;are&nbsp;within&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dict:&nbsp;A&nbsp;dictionary&nbsp;with&nbsp;nodes&nbsp;and&nbsp;edges&nbsp;representing&nbsp;the&nbsp;relationships<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;G&nbsp;=&nbsp;nx.DiGraph()<br/>&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_def&nbsp;in&nbsp;file_summary[&#x27;function_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup.update(function_def)<br/>&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;class_def.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(class_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;method_details&nbsp;in&nbsp;class_details[&#x27;method_defs&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qualified_method_name&nbsp;=&nbsp;f&#x27;{class_name}.{method_name}&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(qualified_method_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup[qualified_method_name]&nbsp;=&nbsp;method_details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(class_name,&nbsp;qualified_method_name)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_edge_data_from_details(target_details:&nbsp;dict)&nbsp;-&gt;&nbsp;dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;inputs&#x27;&nbsp;in&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;target_details[&#x27;inputs&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;returns&#x27;&nbsp;in&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_returns&#x27;]&nbsp;=&nbsp;list(set(target_details[&#x27;returns&#x27;]))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;edge_data<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edge_with_data(source:&nbsp;str,&nbsp;target:&nbsp;str,&nbsp;init_method:&nbsp;Optional[str]=None)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;class_method_details_lookup.get(init_method)&nbsp;or&nbsp;function_details_lookup.get(target)&nbsp;or&nbsp;class_method_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;get_edge_data_from_details(target_details)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(source,&nbsp;target,&nbsp;**edge_data)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edges_for_calls(source_name,&nbsp;calls,&nbsp;internal_only=True):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_names&nbsp;=&nbsp;[list(class_def.keys())[0]&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;called&nbsp;in&nbsp;calls:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called_class_name&nbsp;=&nbsp;called.split(&#x27;.&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called.startswith(&#x27;self.&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;called.replace(&#x27;self.&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fully_qualified_name&nbsp;=&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{method_name}&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;fully_qualified_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;fully_qualified_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called&nbsp;in&nbsp;function_details_lookup&nbsp;or&nbsp;called&nbsp;in&nbsp;class_method_details_lookup&nbsp;or&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{called}&quot;&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;called_class_name&nbsp;in&nbsp;class_names:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method_name&nbsp;=&nbsp;f&#x27;{called}.__init__&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;init_method_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;init_method_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called,&nbsp;init_method)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;not&nbsp;internal_only:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_name&nbsp;in&nbsp;function_details_lookup.keys():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(function_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;function_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(func_name,&nbsp;details[&#x27;calls&#x27;],&nbsp;internal_only)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;qualified_method_name,&nbsp;details&nbsp;in&nbsp;class_method_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(qualified_method_name,&nbsp;details[&#x27;calls&#x27;],&nbsp;internal_only)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source,&nbsp;target&nbsp;=&nbsp;edge<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;function_details_lookup.get(target)&nbsp;or&nbsp;class_method_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;get_edge_data_from_details(target_details)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G[source][target].update(edge_data)<br/>&nbsp;&nbsp;&nbsp;&nbsp;nodes&nbsp;=&nbsp;list(G.nodes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;edges&nbsp;=&nbsp;[{&#x27;source&#x27;:&nbsp;edge[0],&nbsp;&#x27;target&#x27;:&nbsp;edge[1],&nbsp;**edge[2]}&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges.data()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;{&#x27;nodes&#x27;:&nbsp;nodes,&nbsp;&#x27;edges&#x27;:&nbsp;edges}</td><td>The provided code defines a function named &quot;code_graph&quot; which processes the data related to python files into an directed graph representation, where nodes are classes and functions, and edges represent relationships between them. The main purpose of this function is to extract details from a python file&#x27;s source code for subsequent machine learning or deep learning tasks.<br/><br/>The function starts by creating an empty networkx DiGraph object which will hold the class-function relationships as nodes and their respective connections (edges) as directed links. It then creates dictionaries to store individual functions&#x27; and class methods&#x27; details that will be used later in populating the graph. <br/><br/>Then, it processes each class found in the file summary using a for loop. For each class, a new node is added to the networkx graph with its name. Then, another for loop processes each method defined within each class. A qualified name of the form &#x27;class_name.method_name&#x27; is created and an edge is established between this newly created qualified name and the existing node representing the original class&#x27;s name.<br/><br/>Next, it goes through every function found in file summary. For each function, a new node is added to networkx graph with its name. The function then processes all calls made by that particular function using another for loop. If a call starts from &#x27;self.&#x27; (i.e., the called method belongs to an instance of a class), it creates a fully qualified name and adds an edge between the existing node representing source function/class and this newly created qualified name.<br/><br/>If the called entity is not found in either file_summary[&#x27;function_defs&#x27;] or in [&#x27;target&#x27; for &#x27;source&#x27;, &#x27;target_inputs&#x27;, &#x27;target_returns&#x27; keys] (which are class methods), it creates a new node with its name, adds an edge between source function/class and this newly created unknown entity.<br/><br/>If the called entity is found only within file summary[&#x27;function_defs&#x27;], or if it belongs to another class that was defined in &#x27;file_summary&#x27; but not mentioned explicitly (like __init__ for instance), then a new node is added with its name, followed by adding an edge between source function/class and this newly created unknown entity.<br/><br/>Finally, all edges are processed such that each target&#x27;s relevant details like inputs or returns are included as attributes to the graph edge corresponding to it. The final output of &#x27;code_graph&#x27; function is a dictionary with two keys: &#x27;nodes&#x27;, which contains names of classes/functions and methods found in the python file; and &#x27;edges&#x27;, which represents directed links between these nodes, alongside their respective details.<br/><br/>In summary, the &#x27;code_graph&#x27; function aims to help automate the process of extracting relevant information from a Python file&#x27;s source code for subsequent machine learning or deep learning tasks by creating a networkx graph representation of it. The main purpose is to assist in generating structured representations that can then be used as inputs to various machine learning and deep learning algorithms.</td></tr><tr><td>What is the purpose and processing summary of the function: &#x27;get_edge_data_from_details&#x27; defined in the Python file: &#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;get_edge_data_from_details(target_details:&nbsp;dict)&nbsp;-&gt;&nbsp;dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;inputs&#x27;&nbsp;in&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;target_details[&#x27;inputs&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;returns&#x27;&nbsp;in&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_returns&#x27;]&nbsp;=&nbsp;list(set(target_details[&#x27;returns&#x27;]))<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;edge_data</td><td>The purpose of the function &#x27;get_edge_data_from_details&#x27; from the python file &#x27;py2dataset.get_python_file_details.py&#x27;, is to extract relevant edge data from a dictionary (target_details) that contains details about a target entity such as inputs and returns. <br/><br/>Here&#x27;s how it works:<br/>- The function initializes an empty dictionary, &quot;edge_data&quot;.<br/>- If the &#x27;target_details&#x27; dictionary is not empty, then two conditions are checked: <br/>    - First condition checks if the key &#x27;inputs&#x27; exists in &#x27;target_details&#x27;.<br/>    - Second condition checks if the key &#x27;returns&#x27; exists in &#x27;target_details&#x27;. <br/>- For both these keys (if they exist), corresponding values from &#x27;target_details&#x27; dictionary are added to &quot;edge_data&quot; with a new key. The data type of value for &#x27;inputs&#x27; is unchanged and remains as it was provided, while the &#x27;returns&#x27; list is converted into set first to eliminate duplicate entries because an entity can have multiple returns (for example, a function that returns two values at once) but we only want one return per edge in our graph. <br/><br/>The final step is returning &quot;edge_data&quot; which contains processed edge data from &#x27;target_details&#x27;.</td></tr><tr><td>What is the purpose and processing summary of the function: &#x27;add_edge_with_data&#x27; defined in the Python file: &#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;add_edge_with_data(source:&nbsp;str,&nbsp;target:&nbsp;str,&nbsp;init_method:&nbsp;Optional[str]=None)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;class_method_details_lookup.get(init_method)&nbsp;or&nbsp;function_details_lookup.get(target)&nbsp;or&nbsp;class_method_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;get_edge_data_from_details(target_details)<br/>&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(source,&nbsp;target,&nbsp;**edge_data)</td><td>The function `add_edge_with_data` from `&#x27;py2dataset.get_python_file_details&#x27;` is a helper function used to extract specific metadata about a given entity (a class, method or function) and add it as an edge in the network graph &#x27;G&#x27;. The main purpose of this function is to standardize and simplify the process of adding edges with additional data from Python code.<br/><br/>Here&#x27;s a high-level overview of what happens inside:<br/>1. It first looks up details about the target entity (class, method or function) using different dictionaries (`class_method_details_lookup`, `function_details_lookup`). <br/><br/>   If the initialization method is provided, it looks up in `class_method_details_lookup`; otherwise, if a matching function exists for the target, it uses that; else, finally, it tries to look up details using `target`.<br/>2. The retrieved data is then processed and transformed into edge data. This could involve creating or updating dictionaries of attributes (like &#x27;line_number&#x27;, &#x27;column_start&#x27; etc.) from the code object obtained from parsing the Python file. <br/><br/>   However, as this function is specifically used for network graphs, it&#x27;s important to note that only a subset of these attributes are actually added as edge data and other metadata like entity type (&#x27;class&#x27;, &#x27;method&#x27;, or &#x27;function&#x27;) is not included in the graph itself.<br/>3. Finally, an `add_edge` operation with both the source and target nodes and the updated/processed edge data is performed on the network graph &#x27;G&#x27;. <br/><br/>The main purpose of this function is to add additional contextual information about each entity (like its line number or column range) as a part of building a Python code relationship network, which can be useful for various applications. The summary provides an overview of what the function does and how it processes data from different sources.</td></tr><tr><td>What is the purpose and processing summary of the function: &#x27;add_edges_for_calls&#x27; defined in the Python file: &#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;add_edges_for_calls(source_name,&nbsp;calls,&nbsp;internal_only=True):<br/>&nbsp;&nbsp;&nbsp;&nbsp;class_names&nbsp;=&nbsp;[list(class_def.keys())[0]&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]]<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;called&nbsp;in&nbsp;calls:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called_class_name&nbsp;=&nbsp;called.split(&#x27;.&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called.startswith(&#x27;self.&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;called.replace(&#x27;self.&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fully_qualified_name&nbsp;=&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{method_name}&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;fully_qualified_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;fully_qualified_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called&nbsp;in&nbsp;function_details_lookup&nbsp;or&nbsp;called&nbsp;in&nbsp;class_method_details_lookup&nbsp;or&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{called}&quot;&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;called_class_name&nbsp;in&nbsp;class_names:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method_name&nbsp;=&nbsp;f&#x27;{called}.__init__&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;init_method_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;init_method_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called,&nbsp;init_method)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;not&nbsp;internal_only:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)</td><td>The `add_edges_for_calls` function is used to add edges between a source node (which could be the class name where the method call was found, or it could be an instance of that class) and each target node which is a called function/method within the same Python file. The purpose behind this functionality is to create a directed graph of methods calls in the given Python file.<br/><br/>The main processing performed by this function is as follows:<br/><br/>1. First, all classes are identified from the `file_summary`. <br/>2. For each call found, the class name and method (if it&#x27;s not an instance method) names are extracted. If a fully qualified method name starting with &#x27;self.&#x27; is detected, that edge is added without any further processing.<br/>3. The function checks if the called entity exists in various dictionaries: `function_details_lookup`, `class_method_details_lookup`. It then adds an edge between the source and target nodes with some data (in this case as an empty dictionary). If it&#x27;s a class that is identified, it looks for its `__init__` method. If such a method exists in `class_method_details_lookup`, it adds it to the graph alongside the current node.<br/>4. Finally, if the called entity was not found in any of the previous checks and &#x27;internal_only&#x27; parameter is False (which is True by default), then it creates a new node for that entity and adds an edge between the source and target nodes with some data as well. <br/><br/>This function ensures that all possible method calls are represented in the directed graph, making it easier to train language models on Python code for code generation tasks.</td></tr><tr><td>What is the purpose and processing summary of the function: &#x27;get_python_file_details&#x27; defined in the Python file: &#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;get_python_file_details(file_path:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;from&nbsp;a&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path:&nbsp;str:&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(file_path,&nbsp;&#x27;r&#x27;,&nbsp;encoding=&#x27;utf-8&#x27;,&nbsp;errors=&#x27;ignore&#x27;)&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;=&nbsp;f.read()<br/>&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;PermissionError:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.warning(f&#x27;Permission&nbsp;denied:&nbsp;{file_path}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tree&nbsp;=&nbsp;ast.parse(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;SyntaxError:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.warning(f&#x27;Syntax&nbsp;error&nbsp;in&nbsp;file:&nbsp;{file_path}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor&nbsp;=&nbsp;CodeVisitor(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor.analyze(tree)<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;=&nbsp;{&#x27;file_info&#x27;:&nbsp;visitor.file_info,&nbsp;&#x27;functions&#x27;:&nbsp;visitor.functions,&nbsp;&#x27;classes&#x27;:&nbsp;visitor.classes}<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;internal_code_graph&#x27;]&nbsp;=&nbsp;code_graph(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;entire_code_graph&#x27;]&nbsp;=&nbsp;code_graph(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;],&nbsp;internal_only=False)<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]&nbsp;=&nbsp;json.dumps(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]).replace(&#x27;&quot;&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;file_details</td><td>The &#x27;get_python_file_details(file_path: str) -&gt; Dict[str, Union[Dict, str]]:&#x27; function is a key part of the Python code used to extract details from a Python file. The purpose of this function is mainly two-fold: 1) To collect various information about the given Python file and return it as a dictionary for further processing; 2) To create a data structure (i.e., a graph representation) that visualizes the internal code flow within the specified Python file.<br/><br/>Here&#x27;s an in-depth breakdown of what each part of this function does:<br/><br/>1. **Extracting Code**: The function opens up the provided &#x27;file_path&#x27; using the built-in &#x27;open()&#x27; function and reads its contents into a variable called &#x27;code&#x27;. This operation is done with error handling to handle PermissionError when trying to open files that are not readable by the current user. <br/><br/>2. **Parsing code with AST**: The &#x27;ast.parse(code)&#x27; line attempts to convert this extracted &#x27;code&#x27; into an Abstract Syntax Tree (AST). If there&#x27;s a syntax error in the file, it logs a warning message about what is going on and returns None.<br/><br/>3. **Visitor Object creation and call**: A &#x27;CodeVisitor(code)&#x27; object is created which allows you to traverse the Python code using callbacks based visitor pattern. The &#x27;analyze(tree)&#x27; function then calls this visitor with the parsed tree, causing all of its callback methods to be called on every node in the AST.<br/><br/>4. **Creating a dictionary containing file information**: After the analysis, it creates another dictionary called &#x27;file_details&#x27; which contains two sub-dictionaries: &#x27;functions&#x27; and &#x27;classes&#x27;. Inside each of these dictionaries are other dictionaries that contain various details about functions/methods or classes defined in the Python file.<br/><br/>5. **Creating a data structure for internal code flow**: For both, `entire_code_graph` and `internal_code_graph`, it creates a graph representation using &#x27;networkx&#x27; library to visualize the internal code flow within the specified Python file. The entire code includes all functions/methods, classes, imports, comments, blank lines, docstrings etc., while the internal code only includes those parts of the code that are directly called in each function or method.<br/><br/>6. **Converting dictionary into JSON string**: Finally it returns a &#x27;file_details&#x27; containing details and graph representation about the specified Python file as a JSON-formatted string. <br/><br/>All these operations, combined together form the functionality of this specific function: get_python_file_details. The main purpose is to extract various information from any given Python file that will be used for training language models and AI systems.</td></tr><tr><td>What is the purpose and processing summary of the class: &#x27;ControlFlowVisitor&#x27; defined in the Python file: &#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>class&nbsp;ControlFlowVisitor(ast.NodeVisitor):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;This&nbsp;class&nbsp;inherits&nbsp;from&nbsp;ast.NodeVisitor&nbsp;and&nbsp;is&nbsp;used&nbsp;to&nbsp;visit&nbsp;nodes&nbsp;in&nbsp;the<br/>&nbsp;&nbsp;&nbsp;&nbsp;AST&nbsp;(Abstract&nbsp;Syntax&nbsp;Tree).It&nbsp;extracts&nbsp;control&nbsp;flow&nbsp;keywords&nbsp;to&nbsp;give&nbsp;a&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;high-level&nbsp;understanding&nbsp;of&nbsp;the&nbsp;program&nbsp;flow.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_type_to_keyword&nbsp;(dict):&nbsp;A&nbsp;dictionary&nbsp;mapping&nbsp;AST&nbsp;node&nbsp;types&nbsp;to&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;corresponding&nbsp;control&nbsp;flow&nbsp;keywords.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;control_flow&nbsp;(list):&nbsp;A&nbsp;list&nbsp;storing&nbsp;the&nbsp;sequence&nbsp;of&nbsp;control&nbsp;flow&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;keywords&nbsp;encountered&nbsp;in&nbsp;the&nbsp;AST.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;__init__():&nbsp;Initializes&nbsp;a&nbsp;new&nbsp;instance&nbsp;of&nbsp;the&nbsp;class,&nbsp;setting&nbsp;up&nbsp;the<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;control&nbsp;flow&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generic_visit(node):&nbsp;Method&nbsp;to&nbsp;visit&nbsp;a&nbsp;node.&nbsp;If&nbsp;the&nbsp;node&nbsp;type&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;corresponds&nbsp;to&nbsp;a&nbsp;control&nbsp;flow&nbsp;keyword,&nbsp;it&nbsp;is&nbsp;added&nbsp;to&nbsp;the&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;control_flow&nbsp;list.&nbsp;The&nbsp;method&nbsp;then&nbsp;calls&nbsp;the&nbsp;inherited<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generic_visit&nbsp;to&nbsp;continue&nbsp;visiting&nbsp;other&nbsp;nodes.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;get_control_flow():&nbsp;Returns&nbsp;a&nbsp;string&nbsp;representing&nbsp;the&nbsp;control&nbsp;flow&nbsp;of<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;program.&nbsp;The&nbsp;control&nbsp;flow&nbsp;keywords&nbsp;are&nbsp;joined&nbsp;in&nbsp;the&nbsp;order&nbsp;they<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;were&nbsp;encountered&nbsp;during&nbsp;the&nbsp;AST&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;node_type_to_keyword&nbsp;=&nbsp;{ast.If:&nbsp;&#x27;if&#x27;,&nbsp;ast.While:&nbsp;&#x27;while&#x27;,&nbsp;ast.For:&nbsp;&#x27;for&#x27;,&nbsp;ast.AsyncFor:&nbsp;&#x27;for&#x27;,&nbsp;ast.AsyncWith:&nbsp;&#x27;with&#x27;,&nbsp;ast.Try:&nbsp;&#x27;try&#x27;,&nbsp;ast.With:&nbsp;&#x27;with&#x27;,&nbsp;ast.ExceptHandler:&nbsp;&#x27;except&#x27;,&nbsp;ast.FunctionDef:&nbsp;&#x27;def&#x27;,&nbsp;ast.AsyncFunctionDef:&nbsp;&#x27;def&#x27;,&nbsp;ast.ClassDef:&nbsp;&#x27;class&#x27;,&nbsp;ast.Module:&nbsp;&#x27;module&#x27;}<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.control_flow&nbsp;=&nbsp;[]<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;generic_visit(self,&nbsp;node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;keyword&nbsp;=&nbsp;self.node_type_to_keyword.get(type(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;keyword:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;isinstance(node,&nbsp;ast.FunctionDef):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.control_flow.append(keyword&nbsp;+&nbsp;&#x27;&nbsp;&#x27;&nbsp;+&nbsp;node.name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.control_flow.append(keyword)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;super().generic_visit(node)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_control_flow(self):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;&nbsp;-&gt;&nbsp;&#x27;.join(self.control_flow)</td><td>The provided Python code defines a Class named `ControlFlowVisitor` which inherits from the built-in `ast.NodeVisitor`. This class is primarily used to visit nodes in an Abstract Syntax Tree (AST) of a program written in Python, specifically for extracting control flow keywords to provide insights into the structure and logic of that program.<br/><br/>The purpose of this class is to traverse through the AST generated by the parser module in the `ast` module and identify various types of control structures, like &#x27;if&#x27;, &#x27;while&#x27; etc., which can be indicative of the program&#x27;s overall flow. The extracted keywords are then stored as a list called &#x27;control_flow&#x27;. <br/><br/>The class has several methods such as `__init__()`, `generic_visit()`, and `get_control_flow()`. In `generic_visit()`, each node in the AST is visited, and if it corresponds to any of the control flow keywords (represented by their respective types in the &#x27;node_type_to_keyword&#x27; dictionary), then that keyword is added to the &#x27;control_flow&#x27; list. The method `get_control_flow()` returns a string representation of all these identified control flow keywords, joined together with &#x27; -&gt; &#x27;.<br/><br/>In terms of processing summary, the class processes an AST generated by Python&#x27;s Abstract Syntax Tree module and identifies different types of control structures used in the program to create a holistic understanding. It then extracts these control structure keywords for further analysis. This can be particularly useful as it helps understand how the program is structured at a high level, allowing for better optimization or modification of the code.</td></tr><tr><td>What is the purpose and processing summary of the class: &#x27;CodeVisitor&#x27; defined in the Python file: &#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>class&nbsp;CodeVisitor(ast.NodeVisitor):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Visitor&nbsp;class&nbsp;for&nbsp;traversing&nbsp;an&nbsp;AST&nbsp;(Abstract&nbsp;Syntax&nbsp;Tree)&nbsp;and&nbsp;extracting<br/>&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;about&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;(str):&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;functions(Dict):&nbsp;details&nbsp;about&nbsp;functions&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;classes&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;classes&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_info&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_FunctionDef(node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:&nbsp;Extract&nbsp;details&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_ClassDef(node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;extract_details(node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;analyze(node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:&nbsp;Populate&nbsp;file_info&nbsp;with&nbsp;details&nbsp;about<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;code:&nbsp;str):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.code:&nbsp;str&nbsp;=&nbsp;code<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info:&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class:&nbsp;str&nbsp;=&nbsp;None<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_FunctionDef(self,&nbsp;node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][f&#x27;class_method_{node.name}&#x27;]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;method&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions[node.name]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;function&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_ClassDef(self,&nbsp;node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[node.name]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;class&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;node.name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;None<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;extract_details(self,&nbsp;node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;{f&#x27;{node_type}_name&#x27;:&nbsp;node.name,&nbsp;f&#x27;{node_type}_code&#x27;:&nbsp;ast.unparse(node),&nbsp;f&#x27;{node_type}_ast&#x27;:&nbsp;ast.dump(node,&nbsp;include_attributes=True),&nbsp;f&#x27;{node_type}_docstring&#x27;:&nbsp;ast.get_docstring(node),&nbsp;f&#x27;{node_type}_inputs&#x27;:&nbsp;[arg.arg&nbsp;for&nbsp;arg&nbsp;in&nbsp;node.args.args]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,&nbsp;f&#x27;{node_type}_defaults&#x27;:&nbsp;[ast.unparse(d)&nbsp;for&nbsp;d&nbsp;in&nbsp;node.args.defaults]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,&nbsp;f&#x27;{node_type}_returns&#x27;:&nbsp;[ast.unparse(subnode.value)&nbsp;if&nbsp;subnode.value&nbsp;is&nbsp;not&nbsp;None&nbsp;else&nbsp;&#x27;None&#x27;&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Return)],&nbsp;f&#x27;{node_type}_calls&#x27;:&nbsp;list({ast.unparse(n.func)&nbsp;for&nbsp;n&nbsp;in&nbsp;get_all_calls(node)}),&nbsp;f&#x27;{node_type}_variables&#x27;:&nbsp;list({ast.unparse(target)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Name)}),&nbsp;f&#x27;{node_type}_decorators&#x27;:&nbsp;list({ast.unparse(decorator)&nbsp;for&nbsp;decorator&nbsp;in&nbsp;node.decorator_list}&nbsp;if&nbsp;node.decorator_list&nbsp;else&nbsp;set()),&nbsp;f&#x27;{node_type}_annotations&#x27;:&nbsp;list({ast.unparse(subnode.annotation)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.AnnAssign)&nbsp;and&nbsp;subnode.annotation&nbsp;is&nbsp;not&nbsp;None}),&nbsp;f&#x27;{node_type}_properties&#x27;:&nbsp;list({ast.unparse(subnode)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(subnode.ctx,&nbsp;ast.Store)})}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;class&#x27;&nbsp;or&nbsp;node_type&nbsp;==&nbsp;&#x27;method&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;method&#x27;&nbsp;and&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attributes&nbsp;=&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(target.value,&nbsp;ast.Name)&nbsp;and&nbsp;(target.value.id&nbsp;==&nbsp;&#x27;self&#x27;)]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;class_attributes&#x27;&nbsp;in&nbsp;self.classes[self.current_class]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][&#x27;class_attributes&#x27;].extend(attributes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][&#x27;class_attributes&#x27;]&nbsp;=&nbsp;attributes<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details.update({&#x27;class_attributes&#x27;:&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)],&nbsp;&#x27;class_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;],&nbsp;&#x27;class_inheritance&#x27;:&nbsp;[ast.unparse(base)&nbsp;for&nbsp;base&nbsp;in&nbsp;node.bases]&nbsp;if&nbsp;node.bases&nbsp;else&nbsp;[],&nbsp;&#x27;class_static_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;&nbsp;and&nbsp;any((isinstance(decorator,&nbsp;ast.Name)&nbsp;and&nbsp;decorator.id&nbsp;==&nbsp;&#x27;staticmethod&#x27;&nbsp;for&nbsp;decorator&nbsp;in&nbsp;subnode.decorator_list))]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;details<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;analyze(self,&nbsp;node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info&nbsp;=&nbsp;{&#x27;file_code&#x27;:&nbsp;self.code,&nbsp;&#x27;file_ast&#x27;:&nbsp;ast.dump(node),&nbsp;&#x27;file_dependencies&#x27;:&nbsp;list({alias.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Import)&nbsp;for&nbsp;alias&nbsp;in&nbsp;subnode.names}&nbsp;|&nbsp;{subnode.module&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.ImportFrom)}),&nbsp;&#x27;file_functions&#x27;:&nbsp;list(self.functions.keys()),&nbsp;&#x27;file_classes&#x27;:&nbsp;list(self.classes.keys()),&nbsp;&#x27;file_control_flow&#x27;:&nbsp;get_control_flow(self.code)}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_defs&nbsp;=&nbsp;[{func_name:&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;function_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;function_calls&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;function_returns&#x27;]}}&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;self.functions.items()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;self.classes.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;details&nbsp;in&nbsp;class_details.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;method_name.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs[method_name[len(&#x27;class_method_&#x27;):]]&nbsp;=&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;method_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;method_calls&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;method_returns&#x27;]}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs.append({class_name:&nbsp;{&#x27;method_defs&#x27;:&nbsp;method_defs}})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&#x27;file_summary&#x27;]&nbsp;=&nbsp;{&#x27;dependencies&#x27;:&nbsp;self.file_info[&#x27;file_dependencies&#x27;],&nbsp;&#x27;function_defs&#x27;:&nbsp;function_defs,&nbsp;&#x27;class_defs&#x27;:&nbsp;class_defs}</td><td>The class &#x27;CodeVisitor&#x27; is a custom visitor class from the built-in module &#x27;ast&#x27;, which traverses an Abstract Syntax Tree (AST) representing code, and extracts various details about it. The main purpose of this class is to enable language model training systems like OpenAI&#x27;s GPT-3 to understand how Python code works, including identifying function names, inputs, return values, method names, inputs, return values, control flow statements, imports, etc.<br/><br/>The processing summary can be broken down into two sections: 1) Details about the file itself (including source code and AST dump), and 2) Details about each individual function and class found in the code. For functions, it includes information on its name, inputs, return values, as well as a list of all called functions inside it. Similarly, for classes, there will be details on its name, attributes, inheritance (if any), methods names, inputs, returns, etc., where each method&#x27;s details include input args, calls to other functions/methods within the class, and return values.<br/><br/>The main purpose behind providing this summary is that it can help in generating more accurate code summaries for training purposes. For example, if a model learns about &#x27;function_name&#x27; being used with specific inputs in function bodies, it would be easier to generate similar descriptions when dealing with functions of the same name but different contexts.</td></tr><tr><td>What is the purpose and processing summary of the method: &#x27;__init__&#x27; defined in the class: &#x27;ControlFlowVisitor&#x27; in the Python file: &#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;__init__(self):<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.control_flow&nbsp;=&nbsp;[]</td><td>The `def __init__(self): self.control_flow = []` code snippet is a Python method that&#x27;s part of a class named `ControlFlowVisitor`. The `__init__()` method is a constructor in Python, which gets called when an instance of the class is created. This method initializes (or sets up) properties or variables for each object of this class.<br/><br/>The context provided does not specify what &#x27;class: ControlFlowVisitor&#x27; and &#x27;Python file: py2dataset.get_python_file_details.py&#x27; are, so it&#x27;s unclear how these pieces fit together to answer the question. However, from a programming standpoint, `def __init__(self): self.control_flow = []` is an example of what might be considered &quot;boilerplate code&quot;. Boilerplate code is often used as part of larger projects or frameworks to save time and effort by providing basic structure. It&#x27;s essentially common functionality that every program will use multiple times but not in the way we expect it.<br/><br/>The `def __init__(self): self.control_flow = []` method likely exists because these classes are expected to have a property called &#x27;control_flow&#x27;, which is an array that keeps track of all control flow statements found while traversing Python code. Without this class, there would be no way for the system to keep track of where and how various parts of the program&#x27;s control flow are structured.<br/><br/>In conclusion: The `def __init__(self): self.control_flow = []` is part of a piece of boilerplate code in the Python language related to tracking data during an analysis of Python code files, specifically for use with classes that keep track of certain aspects of control flow. It&#x27;s not necessarily important, but it serves as a starting point or guide for understanding and working with other parts of the system.</td></tr><tr><td>What is the purpose and processing summary of the method: &#x27;generic_visit&#x27; defined in the class: &#x27;ControlFlowVisitor&#x27; in the Python file: &#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;generic_visit(self,&nbsp;node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;keyword&nbsp;=&nbsp;self.node_type_to_keyword.get(type(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;keyword:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;isinstance(node,&nbsp;ast.FunctionDef):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.control_flow.append(keyword&nbsp;+&nbsp;&#x27;&nbsp;&#x27;&nbsp;+&nbsp;node.name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.control_flow.append(keyword)<br/>&nbsp;&nbsp;&nbsp;&nbsp;super().generic_visit(node)</td><td>The `generic_visit` method in the provided code, specifically from the class named `ControlFlowVisitor`, is a built-in Python&#x27;s Abstract Syntax Tree (AST) visitor that can be overridden to visit all nodes of an AST. The purpose of this method is to provide a generic way for any visitor or transformer to process every node. <br/><br/>The context in which it is used in the `py2dataset.get_python_file_details` file, however, is not immediately clear from the code alone. This file appears to be part of a data collection and processing system that may involve traversing Python files for various purposes such as source code analysis, API documentation retrieval, etc., and in some cases it could be used for language translation or even generation.<br/><br/>The provided method is likely being called because an AST node from the Python file&#x27;s Abstract Syntax Tree cannot be processed by a specific visitor (either another visitor that was written or built-in Python&#x27;s default visitor) due to either missing handler methods or unidentified nodes in the AST tree. <br/><br/>So, when `generic_visit` is called for a node it doesn&#x27;t know how to handle, this method will likely be used as a fallback option and process every other possible node type that may exist. For instance, if an AST has multiple &#x27;if&#x27; statements or &#x27;def&#x27; function definitions in one file, the method can identify them by their respective keywords (i.e., &#x27;if&#x27;, &#x27;def&#x27;) instead of failing to handle those nodes due to missing handlers.<br/><br/>The summary is that `generic_visit` serves as a fallback mechanism for visitors and transformers to process every possible AST node. The purpose may be related to handling unexpected or unsupported syntax, identifying certain types of code elements (like functions), or providing a generic way to handle all other nodes in the AST tree.</td></tr><tr><td>What is the purpose and processing summary of the method: &#x27;get_control_flow&#x27; defined in the class: &#x27;ControlFlowVisitor&#x27; in the Python file: &#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;get_control_flow(self):<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;&nbsp;-&gt;&nbsp;&#x27;.join(self.control_flow)</td><td>The `get_control_flow` method, as part of a class named `ControlFlowVisitor`, is used to generate human-readable representation (i.e., control flow) for each code block in the Python file specified by an instance variable &#x27;self&#x27;. The purpose of this method is to assist with debugging and understandability.<br/><br/>Here&#x27;s what it does: <br/><br/>1. First, it checks if there are any methods defined within the class using `getattr`. If no such methods exist, then it returns a string stating that &quot;No control flow found for this Python file.&quot;. Otherwise, <br/><br/>2. It initializes an empty list to store all the control flow representation for each method in the class.<br/><br/>3. For every method found in the class:<br/> <br/>a) It gets the source code of the method using `getsource` function and passes it as a parameter to another helper function &#x27;visit&#x27;. The purpose of this is to convert the bytecode generated by Python into human-readable form, which can be easily understood by a non-technical person. <br/><br/>b) Inside &#x27;visit&#x27; function:<br/>   i) It converts each code block in the method&#x27;s source code using `decompose`. For each code block, it generates a string representation of its structure and adds it to the control flow list.<br/>   <br/>4. Finally, after processing all methods, it joins these representations with &#x27; -&gt; &#x27; between each other and returns the result as a single string.</td></tr><tr><td>What is the purpose and processing summary of the method: &#x27;__init__&#x27; defined in the class: &#x27;CodeVisitor&#x27; in the Python file: &#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;__init__(self,&nbsp;code:&nbsp;str):<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.code:&nbsp;str&nbsp;=&nbsp;code<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.functions:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.classes:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.file_info:&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.current_class:&nbsp;str&nbsp;=&nbsp;None</td><td>The `__init__(self, code: str)` function is a built-in Python method that&#x27;s used to initialize an instance of a class when it&#x27;s called with new arguments. In this case, `CodeVisitor(code)`. <br/><br/>This specific `__init__` method is part of the &#x27;CodeVisitor&#x27; class in the Python file &#x27;py2dataset.get_python_file_details.py&#x27;. The purpose of this function is to initialize various data structures that will be used by a visitor pattern to traverse and extract information from Python code files.<br/><br/>The `self.code: str = code` line assigns the given &#x27;code&#x27; string to the instance variable named &#x27;code&#x27;. <br/><br/>Next, it initializes three dictionaries - one for functions (`self.functions`), one for classes (`self.classes`), and another dictionary (`self.file_info`) which will hold details about the file itself including filename (obtained from `os.path.basename(filename)`), last modified time (`datetime.fromtimestamp(os.path.getmtime(filename))`, where &#x27;os&#x27; is a built-in module used for input/output operations, and &#x27;datetime&#x27; is a class in Python&#x27;s datetime module).<br/><br/>Finally, it initializes `self.current_class` as None which will be updated later by the visitor when visiting classes in the code file. <br/><br/>The processing summary of this method can be summarized as follows:<br/>1) The &#x27;code&#x27; string provided to the instance is stored in &#x27;self.code&#x27;. This value is not used anywhere else in the program, hence it&#x27;s safe to ignore.<br/>2) Three dictionaries are initialized for storing function names and their details (parameters, docstrings), class names and their attributes/methods, and file level details (filename, last modified time). These values are potentially useful when extracting code information from a Python file.<br/>3) `self.current_class` is set to None initially which may not be relevant for every use case but it&#x27;s an instance variable that can be accessed or updated by other methods within the class &#x27;CodeVisitor&#x27;. This value could change as and when visited classes are processed in the code, hence it should remain a part of this method.</td></tr><tr><td>What is the purpose and processing summary of the method: &#x27;visit_FunctionDef&#x27; defined in the class: &#x27;CodeVisitor&#x27; in the Python file: &#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;visit_FunctionDef(self,&nbsp;node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][f&#x27;class_method_{node.name}&#x27;]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;method&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions[node.name]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;function&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)</td><td>The `visit_FunctionDef` method, which is a part of an AST (Abstract Syntax Tree) traversal process used by a Python code analyzer tool named Brian Kernighan and David Gregorio to train language models about Python code, serves several purposes within the overall codebase. <br/><br/>Here&#x27;s a high-level summary: The main purpose of this method is to extract function details from parsed Python files (i.e., .py files). These include information such as the number of parameters, how many lines of code are in each function, and what other functions it calls (if any). Once these data points are extracted, they can be stored in a dictionary-like structure for later use or further analysis.<br/><br/>However, before delving into details, one has to understand that Brian Kernighan &amp; David Gregorio&#x27;s research is based on the concept of &#x27;abstract interpretation&#x27;, which refers to the study of program execution and how it can be inferred from a simple, abstract model (i.e., the language) without executing any code itself. <br/><br/>The `visit_FunctionDef` method serves as a core part in Brian Kernighan &amp; David Gregorio&#x27;s attempt at constructing a simplified representation of Python programs. By implementing this &#x27;abstract interpretation&#x27; technique on the abstract syntax tree (AST), they are able to train language models about Python code based on patterns and behaviors observed from real-world, large-scale projects like PyPI (Python Package Index). This is achieved by traversing through each node in the AST using a depth-first search. <br/><br/>When processing an instance of `ast.FunctionDef`, this method creates or updates relevant data structures with information about that function such as its name and number of parameters, as well as how many lines of code it contains and what other functions (if any) it calls. The output is used by the language model to generate accurate predictions when generating Python code based on patterns observed in real-world projects&#x27; source codes. <br/><br/>In summary, while the exact purpose of `visit_FunctionDef` may vary depending upon context (e.g., Brian Kernighan &amp; David Gregorio&#x27;s work with static program analysis tools or language models), it serves as a crucial component in training language models about Python code and is central to Brian Kernighan &amp; David Gregorio&#x27;s research into the field of programming languages.</td></tr><tr><td>What is the purpose and processing summary of the method: &#x27;visit_ClassDef&#x27; defined in the class: &#x27;CodeVisitor&#x27; in the Python file: &#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;visit_ClassDef(self,&nbsp;node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.classes[node.name]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;class&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;node.name<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;None</td><td>The &#x27;visit_ClassDef&#x27; function, as part of a code visitor pattern implemented by the `ast` module from the standard library of Python&#x27;s version 3.9.1, is used in order to traverse an Abstract Syntax Tree (AST) representing Python source code. <br/><br/>When you invoke the visit method on an ast ClassDef node, it triggers the call of this function. This happens as part of a traversal over multiple nodes and their child nodes, defined by each Node type provided with specific handlers. The &#x27;visit_ClassDef&#x27; is one such handler that&#x27;s invoked for processing when an instance of `ast.ClassDef` class is encountered during the AST traversal.<br/><br/>The purpose of this method in Python is to gather details about a Class Definition (equivalent to defining a new class in any programming language), as represented by the &#x27;ast.ClassDef&#x27; node, from within the source code being analyzed. <br/><br/>To summarize: The primary function and processing summary of &#x27;visit_ClassDef&#x27; are as follows:<br/>1) It&#x27;s used for traversing an AST representing Python code and retrieving specific details about a Class Definition (equivalent to defining a new class in any programming language). <br/>2) When invoked, it gathers detailed information from the `ast.ClassDef` node like its name, decorators on top of the class definition, base classes, etc., that can be used as input features for various tasks such as machine learning or data analysis. This process is done by accessing and processing attributes of the &#x27;ast.ClassDef&#x27; instance during runtime using Python&#x27;s built-in methods and functions. <br/>3) The primary role of this method is to collect specific information about a Class Definition node from within the provided Python source code, which can be then used as input features for various tasks like machine learning or data analysis.</td></tr><tr><td>What is the purpose and processing summary of the method: &#x27;extract_details&#x27; defined in the class: &#x27;CodeVisitor&#x27; in the Python file: &#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;extract_details(self,&nbsp;node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;{f&#x27;{node_type}_name&#x27;:&nbsp;node.name,&nbsp;f&#x27;{node_type}_code&#x27;:&nbsp;ast.unparse(node),&nbsp;f&#x27;{node_type}_ast&#x27;:&nbsp;ast.dump(node,&nbsp;include_attributes=True),&nbsp;f&#x27;{node_type}_docstring&#x27;:&nbsp;ast.get_docstring(node),&nbsp;f&#x27;{node_type}_inputs&#x27;:&nbsp;[arg.arg&nbsp;for&nbsp;arg&nbsp;in&nbsp;node.args.args]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,&nbsp;f&#x27;{node_type}_defaults&#x27;:&nbsp;[ast.unparse(d)&nbsp;for&nbsp;d&nbsp;in&nbsp;node.args.defaults]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,&nbsp;f&#x27;{node_type}_returns&#x27;:&nbsp;[ast.unparse(subnode.value)&nbsp;if&nbsp;subnode.value&nbsp;is&nbsp;not&nbsp;None&nbsp;else&nbsp;&#x27;None&#x27;&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Return)],&nbsp;f&#x27;{node_type}_calls&#x27;:&nbsp;list({ast.unparse(n.func)&nbsp;for&nbsp;n&nbsp;in&nbsp;get_all_calls(node)}),&nbsp;f&#x27;{node_type}_variables&#x27;:&nbsp;list({ast.unparse(target)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Name)}),&nbsp;f&#x27;{node_type}_decorators&#x27;:&nbsp;list({ast.unparse(decorator)&nbsp;for&nbsp;decorator&nbsp;in&nbsp;node.decorator_list}&nbsp;if&nbsp;node.decorator_list&nbsp;else&nbsp;set()),&nbsp;f&#x27;{node_type}_annotations&#x27;:&nbsp;list({ast.unparse(subnode.annotation)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.AnnAssign)&nbsp;and&nbsp;subnode.annotation&nbsp;is&nbsp;not&nbsp;None}),&nbsp;f&#x27;{node_type}_properties&#x27;:&nbsp;list({ast.unparse(subnode)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(subnode.ctx,&nbsp;ast.Store)})}<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;class&#x27;&nbsp;or&nbsp;node_type&nbsp;==&nbsp;&#x27;method&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;method&#x27;&nbsp;and&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attributes&nbsp;=&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(target.value,&nbsp;ast.Name)&nbsp;and&nbsp;(target.value.id&nbsp;==&nbsp;&#x27;self&#x27;)]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;class_attributes&#x27;&nbsp;in&nbsp;self.classes[self.current_class]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][&#x27;class_attributes&#x27;].extend(attributes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][&#x27;class_attributes&#x27;]&nbsp;=&nbsp;attributes<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details.update({&#x27;class_attributes&#x27;:&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)],&nbsp;&#x27;class_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;],&nbsp;&#x27;class_inheritance&#x27;:&nbsp;[ast.unparse(base)&nbsp;for&nbsp;base&nbsp;in&nbsp;node.bases]&nbsp;if&nbsp;node.bases&nbsp;else&nbsp;[],&nbsp;&#x27;class_static_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;&nbsp;and&nbsp;any((isinstance(decorator,&nbsp;ast.Name)&nbsp;and&nbsp;decorator.id&nbsp;==&nbsp;&#x27;staticmethod&#x27;&nbsp;for&nbsp;decorator&nbsp;in&nbsp;subnode.decorator_list))]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;details</td><td>The extract_details function within the CodeVisitor class (also from py2dataset.get_python_file_details.py) is designed to gather various information about a given AST node and its child nodes, with an emphasis on Python code analysis. This function operates under several principles that are important to understand:<br/><br/>1. It traverses the Abstract Syntax Tree (AST), using ast.walk(), which generates a stream of all subnodes in depth-first order. <br/><br/>2. The unparsed form of each node is obtained using ast.unparse(). This involves reconstructing an equivalent Python code string that accurately represents the structure and semantics of the original AST. Its important to note, however, that this isn&#x27;t always possible due to limitations in the AST representation. For example, it&#x27;s not straightforward to represent all types of expressions or statements.<br/><br/>3. The ast.dump() function is used to print a detailed dump of the AST including all attributes and methods for each node. This includes attributes like line numbers and file locations.<br/><br/>4. The ast.get_docsstring() function retrieves the documentation string from the start of a Python module, class, method or function definition (PEP 257). If no docstring is available, an empty string is returned instead.<br/><br/>5. For functions and methods specifically, input parameters are identified using node.args.args if it&#x27;s a function/method in instance context and default values are obtained from the corresponding fields of node.args.defaults (if any) for both these contexts. <br/><br/>6. Returns statements within each subnode that is an ast.Return type are identified with its unparsed value, or &#x27;None&#x27; when theres no explicit return statement.<br/><br/>7. A set containing all function calls in the entire AST tree is created using list({ast.unparse(n.func) for n in get_all_calls(node)}). This returns a set of unique function call strings across the entire file.<br/><br/>8. The ast.Assign type nodes are identified and their targets (i.e., variables they assign to) are collected using list({ast.unparse(target) for subnode in node_walk if isinstance(subnode, ast.Assign) for target in subnode.targets if isinstance(target, ast.Name)}).<br/><br/>9. Decorators from the function or method decorators fields of a class or method are identified with set({ast.unparse(decorator) for decorator in node.decorator_list} if node.decorator_list else set()). If no explicit decorator list is available, an empty set is returned. <br/><br/>10. For any ast.AnnAssign nodes (for instance variable annotations), the unparsed annotation value of each node is collected using list({ast.unparse(subnode.annotation) for subnode in node_walk if isinstance(subnode, ast.AnnAssign)}).<br/><br/>11. Lastly, class and method specific attributes are identified within an abstract syntax tree (AST), with the help of a &#x27;current_class&#x27; dictionary. When processing a class or method, these attributes include:<br/><br/>    - For classes, all attribute assignments where targets start from self is collected into a list using [target.attr for subnode in node.body if isinstance(subnode, ast.Assign) for target in subnode.targets if isinstance(target, ast.Attribute)].<br/>    - For methods within instance context (i.e., not classmethods), all assignments where targets start from self is collected into a list using [target.attr for subnode in node_walk if isinstance(subnode, ast.Assign) for target in subnode.targets if isinstance(target, ast.Attribute)].<br/>    - Class methods are identified by checking for the &#x27;staticmethod&#x27; decorator and collecting all function names which do not have &#x27;__init__&#x27; as a prefix using [subnode.name for subnode in node.body if isinstance(subnode, ast.FunctionDef) and subnode.name != &#x27;__init__&#x27; and any((isinstance(decorator, ast.Name) and decorator.id == &#x27;staticmethod&#x27; for decorator in subnode.decorator_list))].<br/>    - For classes, the inheritance hierarchy is identified by collecting all unparsed forms of base nodes (the inherited parent classes) using [ast.unparse(base) for base in node.bases] if node.bases else [].<br/><br/>Together these principles allow us to gather a comprehensive view of various aspects and details about Python code as represented by its Abstract Syntax Tree (AST). This function is designed to be highly configurable, allowing it to work with different types of AST nodes and the structure/semantics they represent, but without any assumptions or explicit knowledge about how the input Python code should be structured. <br/><br/>In conclusion, extract_details gathers various information from an AST node and its child nodes in order to provide a comprehensive summary of the purpose and processing flow of this specific function. It&#x27;s important to note that while it does gather a lot of data, there is no guarantee or assurance that these details will be useful for any particular AI/Machine Learning task as they are highly domain-specific and may not generalize well across different types of code or programming languages. However, understanding this specific function can provide valuable insights into how to work with AST nodes in Python code analysis tasks, which could potentially serve as a starting point when building more complex language processing tools or machine learning models for these purposes.</td></tr><tr><td>What is the purpose and processing summary of the method: &#x27;analyze&#x27; defined in the class: &#x27;CodeVisitor&#x27; in the Python file: &#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;analyze(self,&nbsp;node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.file_info&nbsp;=&nbsp;{&#x27;file_code&#x27;:&nbsp;self.code,&nbsp;&#x27;file_ast&#x27;:&nbsp;ast.dump(node),&nbsp;&#x27;file_dependencies&#x27;:&nbsp;list({alias.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Import)&nbsp;for&nbsp;alias&nbsp;in&nbsp;subnode.names}&nbsp;|&nbsp;{subnode.module&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.ImportFrom)}),&nbsp;&#x27;file_functions&#x27;:&nbsp;list(self.functions.keys()),&nbsp;&#x27;file_classes&#x27;:&nbsp;list(self.classes.keys()),&nbsp;&#x27;file_control_flow&#x27;:&nbsp;get_control_flow(self.code)}<br/>&nbsp;&nbsp;&nbsp;&nbsp;function_defs&nbsp;=&nbsp;[{func_name:&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;function_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;function_calls&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;function_returns&#x27;]}}&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;self.functions.items()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;class_defs&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;self.classes.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;details&nbsp;in&nbsp;class_details.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;method_name.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs[method_name[len(&#x27;class_method_&#x27;):]]&nbsp;=&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;method_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;method_calls&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;method_returns&#x27;]}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs.append({class_name:&nbsp;{&#x27;method_defs&#x27;:&nbsp;method_defs}})<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&#x27;file_summary&#x27;]&nbsp;=&nbsp;{&#x27;dependencies&#x27;:&nbsp;self.file_info[&#x27;file_dependencies&#x27;],&nbsp;&#x27;function_defs&#x27;:&nbsp;function_defs,&nbsp;&#x27;class_defs&#x27;:&nbsp;class_defs}</td><td>The `analyze` method, which is a part of the CodeVisitor class within py2dataset.get_python_file_details.py, serves as an entry point for processing and analyzing the Python code from each individual file to form a dataset for further machine learning or deep learning tasks. <br/><br/>Here&#x27;s what it does:<br/>1. It first walks through all nodes in the Abstract Syntax Tree (AST) using `ast.walk`. This includes modules, functions, classes, conditions (`if`, `else if` etc.), loops and much more.<br/>2. Then, it traverses the AST by calling `self.visit(node)`. The visit method is a method defined within CodeVisitor which subclasses ast.NodeVisitor class from the Python&#x27;s built-in &#x27;ast&#x27; module. This allows for an arbitrary visitor pattern to be implemented on the nodes. The point of this is that, with this mechanism, any node in the AST can potentially implement custom processing logic based on its own specific type and attributes.<br/>3. It stores all relevant information about the file as a dictionary under `self.file_info`. This includes not just the raw code but also an abstract syntax tree representation (`ast.dump(node)`), dependencies (imports, function/class definitions etc.), functions defined in the file, classes defined in the file, and control flow statements found within the code.<br/>4. For each of the functions identified, it stores information about their inputs, calls made to other functions from these functions, and returns done by these functions. This is stored as a dictionary for each function name under `function_defs`.<br/>5. Similarly, for each class identified, it stores information about all methods defined within this class (excluding the &#x27;dunder&#x27; or &#x27;magic&#x27; methods), with details on their inputs, calls made to other functions/classes from these methods, and returns done by these methods. This is stored as a list of dictionaries under `class_defs`.<br/>6. Finally, it stores summary information about all dependencies (`file_dependencies`), function definitions (`function_defs`), class definitions (`class_defs`) within the file in a dictionary under &#x27;file_summary&#x27;. <br/><br/>The overall goal here is to collect various details from the code for further processing and use by machine learning or deep learning models. This method serves as an entry point, gathering information about each individual Python script and its contents, which can then be used to train and fine-tune a language model, providing valuable insights into how different aspects of Python programming are typically structured and used in large software projects.</td></tr><tr><td>What is the purpose and usage of each of these variables: &#x27;calls&#x27; defined in the function: &#x27;get_all_calls&#x27; in the Python file: &#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;get_all_calls(node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Recursively&nbsp;find&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;`node`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;calls&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;child&nbsp;in&nbsp;ast.iter_child_nodes(node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;isinstance(child,&nbsp;ast.Call):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls.append(child)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls.extend(get_all_calls(child))<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;calls</td><td>The context provided refers to a Python code snippet where there&#x27;s an `ast` module being used for parsing and analyzing Python source code, particularly for a particular purpose related to finding all function calls recursively in the subtree rooted at a given node. The variables &#x27;calls&#x27;, &#x27;node&#x27;, and &#x27;child&#x27; appear as they are commonly seen in this kind of context within the AST tree manipulation tools provided by `ast` module.<br/><br/>1. &#x27;calls&#x27;: This is an empty list that will eventually contain all function calls found recursively through the code. Its role is to keep track of each call found during traversal, and ultimately return it at the end. The usage of this variable could be as a convenient data structure for storing information about all functions called in the program (and potentially even their arguments).<br/><br/>2. &#x27;node&#x27;: In AST, `ast.iter_child_nodes(node)` is used to recursively visit every child node starting from the given node (`&#x27;node&#x27;` here), and return these nodes one by one. The usage of this variable could be related to understanding what the Python program looks like as a tree (or directed acyclic graph) with `ast` module, where each node represents an AST element such as a function definition or an expression statement.<br/><br/>3. &#x27;child&#x27;: This is a parameter passed into the recursive call of &#x27;get_all_calls&#x27;. It&#x27;s used to keep track of which child nodes are being processed in the current recursion level. The usage could involve identifying whether a certain node type (e.g., `ast.FunctionDef`, etc.) is present, and using this variable to check if it matches with the types of nodes encountered during traversal.<br/><br/>All these variables provide additional information about how Python code is structured and parsed by the `ast` module for its purpose, which can be very useful in training language models or AI systems that generate Python code.</td></tr><tr><td>What is the purpose and usage of each of these variables: &#x27;tree, visitor&#x27; defined in the function: &#x27;get_control_flow&#x27; in the Python file: &#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;get_control_flow(code:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;control&nbsp;flow&nbsp;keywords&nbsp;from&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code:&nbsp;str:&nbsp;The&nbsp;source&nbsp;code&nbsp;to&nbsp;extract&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;control&nbsp;flow&nbsp;keywords&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor&nbsp;=&nbsp;ControlFlowVisitor()<br/>&nbsp;&nbsp;&nbsp;&nbsp;tree&nbsp;=&nbsp;ast.parse(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor.visit(tree)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;visitor.get_control_flow()</td><td>The purpose and usage of &#x27;tree&#x27; and &#x27;visitor&#x27; are significant in the context of this code. <br/><br/>1) tree (AST): The Abstract Syntax Tree is a tree representation of Python code that represents its syntax and makes it easy to manipulate or analyze. Trees are used for many purposes, including code optimization and compilation. In our case, we use &#x27;ast.parse(code)&#x27; to create the abstract syntax tree from the provided source code.<br/><br/>2) visitor: The visitor pattern is a behavioral design pattern that allows adding new behaviors (new functions or methods) without changing existing classes. It can be used when you want to add more functionalities to an object without modifying its existing code. In our case, &#x27;ControlFlowVisitor&#x27; is defined separately and contains the logic for extracting control flow keywords from the AST. <br/><br/>The main function &#x27;get_control_flow&#x27;, therefore, has a specific purpose of creating an abstract syntax tree (AST) from provided source code using `ast.parse(code)` and then passing this AST to the visitor object which in turn extracts control flow keywords from it. The extracted information is returned as a string by the function.<br/><br/>Now let&#x27;s consider how these two variables are used within &#x27;get_control_flow&#x27;. <br/><br/>&#x27;visitor&#x27;: As mentioned above, `ControlFlowVisitor` contains methods that traverse the Abstract Syntax Tree (AST) and extract control flow keywords from it. The visitor object is instantiated outside of &#x27;get_control_flow&#x27;, then passed to this function along with source code. This allows us to add new functionalities or behaviors to &#x27;visitor&#x27; without changing its existing code.<br/><br/>&#x27;tree&#x27;: Inside the function, `ast.parse(code)` creates an AST from provided source code and is used as a parameter for various methods defined within `ControlFlowVisitor` that traverse this tree to extract control flow keywords. The tree can be thought of like a hierarchical representation of the program&#x27;s structure, with each node representing a Python construct (such as an assignment statement) and its children being other constructs nested inside it. It allows us to manipulate or analyze the source code in a way similar to how we might work with any graph or hierarchy data structures in programming languages.<br/><br/>In conclusion, &#x27;tree&#x27; and &#x27;visitor&#x27; are crucial variables within the function `get_control_flow` because they respectively allow us to create an AST from provided source code and traverse this tree to extract control flow keywords. Their usage and purpose in the context of extracting control flow keywords is essential for the correct operation and functionality of the program, even if we do not fully understand how these variables are used under the hood (which may be a complex process with many edge cases).</td></tr><tr><td>What is the purpose and usage of each of these variables: &#x27;class_names, G, fully_qualified_name, edge_data, target_details, qualified_method_name, nodes, called_class_name, edges, init_method_name, function_details_lookup, class_method_details_lookup, init_method, method_name&#x27; defined in the function: &#x27;code_graph&#x27; in the Python file: &#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;code_graph(file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]],&nbsp;internal_only:&nbsp;bool=True)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[List[str],&nbsp;Dict[str,&nbsp;List[str]]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Create&nbsp;a&nbsp;dictionary&nbsp;representation&nbsp;of&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;internal_only:&nbsp;bool:&nbsp;If&nbsp;True,&nbsp;only&nbsp;include&nbsp;function&nbsp;calls&nbsp;where&nbsp;both&nbsp;the&nbsp;caller&nbsp;and&nbsp;called&nbsp;function&nbsp;are&nbsp;within&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dict:&nbsp;A&nbsp;dictionary&nbsp;with&nbsp;nodes&nbsp;and&nbsp;edges&nbsp;representing&nbsp;the&nbsp;relationships<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;G&nbsp;=&nbsp;nx.DiGraph()<br/>&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_def&nbsp;in&nbsp;file_summary[&#x27;function_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup.update(function_def)<br/>&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;class_def.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(class_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;method_details&nbsp;in&nbsp;class_details[&#x27;method_defs&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qualified_method_name&nbsp;=&nbsp;f&#x27;{class_name}.{method_name}&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(qualified_method_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup[qualified_method_name]&nbsp;=&nbsp;method_details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(class_name,&nbsp;qualified_method_name)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_edge_data_from_details(target_details:&nbsp;dict)&nbsp;-&gt;&nbsp;dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;inputs&#x27;&nbsp;in&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;target_details[&#x27;inputs&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;returns&#x27;&nbsp;in&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_returns&#x27;]&nbsp;=&nbsp;list(set(target_details[&#x27;returns&#x27;]))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;edge_data<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edge_with_data(source:&nbsp;str,&nbsp;target:&nbsp;str,&nbsp;init_method:&nbsp;Optional[str]=None)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;class_method_details_lookup.get(init_method)&nbsp;or&nbsp;function_details_lookup.get(target)&nbsp;or&nbsp;class_method_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;get_edge_data_from_details(target_details)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(source,&nbsp;target,&nbsp;**edge_data)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edges_for_calls(source_name,&nbsp;calls,&nbsp;internal_only=True):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_names&nbsp;=&nbsp;[list(class_def.keys())[0]&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;called&nbsp;in&nbsp;calls:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called_class_name&nbsp;=&nbsp;called.split(&#x27;.&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called.startswith(&#x27;self.&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;called.replace(&#x27;self.&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fully_qualified_name&nbsp;=&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{method_name}&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;fully_qualified_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;fully_qualified_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called&nbsp;in&nbsp;function_details_lookup&nbsp;or&nbsp;called&nbsp;in&nbsp;class_method_details_lookup&nbsp;or&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{called}&quot;&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;called_class_name&nbsp;in&nbsp;class_names:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method_name&nbsp;=&nbsp;f&#x27;{called}.__init__&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;init_method_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;init_method_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called,&nbsp;init_method)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;not&nbsp;internal_only:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_name&nbsp;in&nbsp;function_details_lookup.keys():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(function_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;function_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(func_name,&nbsp;details[&#x27;calls&#x27;],&nbsp;internal_only)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;qualified_method_name,&nbsp;details&nbsp;in&nbsp;class_method_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(qualified_method_name,&nbsp;details[&#x27;calls&#x27;],&nbsp;internal_only)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source,&nbsp;target&nbsp;=&nbsp;edge<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;function_details_lookup.get(target)&nbsp;or&nbsp;class_method_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;get_edge_data_from_details(target_details)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G[source][target].update(edge_data)<br/>&nbsp;&nbsp;&nbsp;&nbsp;nodes&nbsp;=&nbsp;list(G.nodes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;edges&nbsp;=&nbsp;[{&#x27;source&#x27;:&nbsp;edge[0],&nbsp;&#x27;target&#x27;:&nbsp;edge[1],&nbsp;**edge[2]}&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges.data()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;{&#x27;nodes&#x27;:&nbsp;nodes,&nbsp;&#x27;edges&#x27;:&nbsp;edges}</td><td>The purpose and usage of each variable is as follows:<br/>- The `class_names` list contains all class names found within a python file. These classes could be from external libraries or defined locally in the code. This is used to check if any method call targets an instance of another object, such as &#x27;self&#x27; for methods inside a class.<br/>- `G` stands for &#x27;nx.DiGraph&#x27;, which is a networkx directed graph. The nodes and edges represent the relationships between functions/classes within the Python file. For example, there could be a node representing each function definiton, an edge connecting these nodes if they are called by another function or class, and other similar connections based on how variables in these locations are used.<br/>- `fully_qualified_name` is a string that represents the full path to a method within a particular class. For example, &#x27;ClassName.methodName&#x27;. This variable is only created when processing a node connected with an `__init__` call for another object (class or function).<br/>- The `edge_data` dictionary stores any additional data related to each edge in G. It could include details about the inputs and returns of functions/classes. For example, if a function &#x27;f1&#x27; has called another function &#x27;f2&#x27;, &#x27;edge_data[&#x27;target_inputs&#x27;][&#x27;f1&#x27;][&#x27;f2&#x27;] = [a, b]&#x27; would mean that &#x27;f1&#x27; was passing &#x27;a&#x27; and &#x27;b&#x27; as arguments to &#x27;f2&#x27;.<br/>- `target_details` is a dictionary containing detailed information about the target of an edge. If G contains nodes related to functions or class methods, this will contain more data for those nodes. For example, if an edge connects two function names (&#x27;f1&#x27;,&#x27;g1&#x27;), then &#x27;target_details[&#x27;calls&#x27;][&#x27;g1&#x27;]&#x27; would be a list of all other functions called by g1 (in case internal_only=False). If the target is another class instance method, `class_method_details_lookup[target][&#x27;calls&#x27;][init_method]`, will give details about how this method was initialized.<br/>- The `qualified_method_name` and `nodes` variables are related to each other. It is a string representing the fully qualified name of a method in G, which is used as an identifier for nodes added during graph creation (`G.add_node(qualified_method_name)`). `nodes` is a list of all node names in G.<br/>- The &#x27;called_class_name&#x27; and related variables are used to check if the target of a call is from another class (such as instances of classes defined within the file) or an object passed through &#x27;self&#x27;. For instance, if we have `a=Class1()`, then `&#x27;ClassName&#x27;` would be checked against `[list(class_def.keys())[0] for class_def in file_summary[&#x27;class_defs&#x27;]]`.<br/>- The `edges` list contains information about all the edges added to G. Each element is a dictionary with keys &#x27;source&#x27; and &#x27;target&#x27;, representing nodes connected by those edges, and any additional data from edge_data. This includes details such as inputs/outputs of methods.<br/>- Initially each method call in function_details_lookup and class_method_details_lookup contains the list of functions called within that scope (file). If internal_only is False, these lists will contain all functions and classes found in file. <br/>- The `init_method_name` variable is a string representing the full name of an `__init__` method for another object (class or function), which is added as nodes if such edges are created (`G.add_node(called)`). It is used to identify if a target in G is related to another class instance and needs to be treated separately, since we need more information about its initialization process.<br/>- The `function_details_lookup` dictionary contains the details of all function definitions found within a python file, such as inputs/outputs etc., that have been processed by graph creation code. <br/>- Similarly, the `class_method_details_lookup` dictionary is used to store the detailed information about all class methods in G, including its inputs and outputs (if it has any). This includes details on how this method was called from within other parts of file.<br/>- The &#x27;init_method&#x27; variable refers to an `__init__` method for another object that needs to be added as a node if such an edge is created (`G.add_node(called)`). If the target in G is related to another class instance, this will contain more information about how it was initialized from within other parts of file.<br/>- The `method_name` variable represents the name of each method that has been processed by graph creation code and added as a node in G (G.add_node(function_name)). This is used to identify if a target in G corresponds with this function, which could mean it was called directly or indirectly from other functions/classes within file.</td></tr><tr><td>What is the purpose and usage of each of these variables: &#x27;edge_data&#x27; defined in the function: &#x27;get_edge_data_from_details&#x27; in the Python file: &#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;get_edge_data_from_details(target_details:&nbsp;dict)&nbsp;-&gt;&nbsp;dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;inputs&#x27;&nbsp;in&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;target_details[&#x27;inputs&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;returns&#x27;&nbsp;in&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_returns&#x27;]&nbsp;=&nbsp;list(set(target_details[&#x27;returns&#x27;]))<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;edge_data</td><td>The &#x27;purpose&#x27; and &#x27;usage&#x27; of each variable in your provided code can be derived from its name, type (int, string, list, etc.), and the logical flow of execution within the function itself. <br/><br/>- Variable &#x27;edge_data&#x27;: <br/>    - Its purpose is to store a dictionary where different pieces of edge data for the target are being collected and stored. It&#x27;s an output of this particular function which will be used by another function further down the line, hence it should contain all necessary details about the targets in question.<br/>- Variable &#x27;target_details&#x27;: <br/>    - This variable is declared as a dictionary with its type as specified i.e., dict. Its value or contents are expected to come from elsewhere and this is where the data from various parts of the function will be coming from, thus giving it a broader scope of potential values/details rather than just those defined in the function itself.<br/>- Variable &#x27;target_inputs&#x27;: <br/>    - It&#x27;s an optional key within the dictionary &#x27;target_details&#x27;. The purpose of which is to store any inputs provided by the user for that particular target (if any). This could be anything from a list of strings, integers, to something even more complex like nested lists.<br/>- Variable &#x27;target_returns&#x27;: <br/>    - It&#x27;s another optional key within the dictionary &#x27;target_details&#x27;. The purpose of which is to store all possible outputs or results that are being returned by calling functions for that particular target (if any). This could be a list containing integers, strings, booleans etc., but it should not contain duplicates as sometimes certain data can have multiple return values.<br/>- In summary:<br/>    - &#x27;edge_data&#x27; is an output and stores details of edge nodes in the graph dataset being created from python file details. <br/>    - &#x27;target_details&#x27; is a dictionary that contains inputs or returns for each target defined in the python file, but these could be anything depending on what kind of data/information was provided by the user during code creation.<br/>    - If &#x27;inputs&#x27; key exists within &#x27;target_details&#x27;, it will contain any input values specified by the user for those particular targets. <br/>    - Similarly, if &#x27;returns&#x27; key exists in &#x27;target_details&#x27;, it will store all possible outputs or results that are being returned by calling functions on these specific targets.<br/>    - These edge details data is extracted from a dictionary of various information provided by another function and then used to create an edge node with the collected data for each target defined within the python file, hence providing a broader scope of potential values/details rather than just those specified in this single instance of code itself.</td></tr><tr><td>What is the purpose and usage of each of these variables: &#x27;target_details, edge_data&#x27; defined in the function: &#x27;add_edge_with_data&#x27; in the Python file: &#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;add_edge_with_data(source:&nbsp;str,&nbsp;target:&nbsp;str,&nbsp;init_method:&nbsp;Optional[str]=None)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;class_method_details_lookup.get(init_method)&nbsp;or&nbsp;function_details_lookup.get(target)&nbsp;or&nbsp;class_method_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;get_edge_data_from_details(target_details)<br/>&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(source,&nbsp;target,&nbsp;**edge_data)</td><td>The `add_edge_with_data` function is a utility function used to add an edge between two nodes where certain metadata about that edge can be specified using optional arguments. The purpose of this function is to provide a flexible way to automatically populate the data associated with an edge given the source and target nodes, as well as any initialisation method (if it was provided).<br/><br/>In the Python file `py2dataset.get_python_file_details.py`, we have:<br/>- The &#x27;class_method_details_lookup&#x27; is a dictionary that contains details for different classes in the dataset, like its methods and number of parameters. <br/>- The &#x27;function_details_lookup&#x27; is another dictionary that contains details for different functions in the dataset, including how many arguments it takes and whether or not it&#x27;s static (classless).<br/>- The `get` method is used to retrieve values from these lookups when a specific target is provided. <br/><br/>Let&#x27;s analyze each variable:<br/>1) &#x27;target_details&#x27;<br/>    - Defined as the result of looking up the details for &#x27;target&#x27; in either class_method_details_lookup or function_details_lookup, based on whether it&#x27;s a class method or regular function. <br/>    - This is used to get edge data from the target&#x27;s details (like number of arguments and type).<br/>2) &#x27;edge_data&#x27;<br/>    - Assigned as the result of getting edge data from the &#x27;target_details&#x27;. <br/>    - The `get_edge_data_from_details()` function returns a dictionary that includes various metadata about an edge, like its weight or other features. <br/><br/>So, when we call this function with specific source and target nodes, it first looks up the details for the provided &#x27;target&#x27;, then uses these details to populate the data associated with creating that edge in the graph.</td></tr><tr><td>What is the purpose and usage of each of these variables: &#x27;class_names, fully_qualified_name, called_class_name, init_method_name, init_method, method_name&#x27; defined in the function: &#x27;add_edges_for_calls&#x27; in the Python file: &#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;add_edges_for_calls(source_name,&nbsp;calls,&nbsp;internal_only=True):<br/>&nbsp;&nbsp;&nbsp;&nbsp;class_names&nbsp;=&nbsp;[list(class_def.keys())[0]&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]]<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;called&nbsp;in&nbsp;calls:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called_class_name&nbsp;=&nbsp;called.split(&#x27;.&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called.startswith(&#x27;self.&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;called.replace(&#x27;self.&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fully_qualified_name&nbsp;=&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{method_name}&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;fully_qualified_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;fully_qualified_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called&nbsp;in&nbsp;function_details_lookup&nbsp;or&nbsp;called&nbsp;in&nbsp;class_method_details_lookup&nbsp;or&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{called}&quot;&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;called_class_name&nbsp;in&nbsp;class_names:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method_name&nbsp;=&nbsp;f&#x27;{called}.__init__&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;init_method_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;init_method_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called,&nbsp;init_method)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;not&nbsp;internal_only:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)</td><td>1. Variable `class_names`:<br/>    This is a list of all class names found in the provided python file summary data structure, which are used to check if any called entity (function or method) belongs to a class that has been defined somewhere else.<br/>    <br/>    For example, in our case, we&#x27;re dealing with Python files related to dataset processing and machine learning models, so it&#x27;s likely that `class_names` will contain names of classes relevant for data processing tasks or model building.<br/><br/>2. Variable `fully_qualified_name`:<br/>    This is a string representing the full path to a method defined in another class from the source file summary.<br/>    <br/>    For instance if a class &quot;Source&quot; defines a function &quot;method&quot;, and this function is called somewhere else, then the variable will be equal to something like &#x27;Source.method&#x27;.<br/><br/>3. Variable `called_class_name`:<br/>    This is the name of the first part of each dot-separated string in `calls`. For example if a call is &#x27;self.something&#x27;, it would give &#x27;self&#x27; as this value, which is used later for checking if there&#x27;s an exact class definition or not.<br/><br/>4. Variable `init_method_name`:<br/>    This is the full path to the `__init__` method of a given called class from the source file summary.<br/>    <br/>    For instance if we call &#x27;Source.something&#x27;, and &#x27;Source&#x27; has no defined function named &#x27;something&#x27;, then this value would be equal to &#x27;Source.__init__&#x27;.<br/><br/>5. Variable `init_method`:<br/>    This is a string representing an `__init__` method found in the provided python file summary data structure, which are used as edge targets when calling functions or methods from other classes defined somewhere else.<br/>    <br/>    For example, if we call function `something()` from class &#x27;Source&#x27;, and there&#x27;s no explicit reference to this function being called anywhere, then it will be added to graph with an `__init__` method found in the summary data structure of &#x27;Source&#x27;.<br/><br/>6. Variable `method_name`:<br/>    This is a string representing the name of a method defined in another class from the source file summary.<br/>    <br/>    For instance if a class &quot;Source&quot; defines a function &quot;method&quot;, and this function is called somewhere else, then the variable will be equal to something like &#x27;method&#x27;.<br/><br/>    **Note**: The variables `fully_qualified_name`, `init_method_name` and `method_name` are used when building the edge between two nodes. For example if we call a method defined in another class from our own function or another class, then these variables will be used to create an edge with data about this call.</td></tr><tr><td>What is the purpose and usage of each of these variables: &#x27;code, tree, visitor, file_details&#x27; defined in the function: &#x27;get_python_file_details&#x27; in the Python file: &#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;get_python_file_details(file_path:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;from&nbsp;a&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path:&nbsp;str:&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(file_path,&nbsp;&#x27;r&#x27;,&nbsp;encoding=&#x27;utf-8&#x27;,&nbsp;errors=&#x27;ignore&#x27;)&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;=&nbsp;f.read()<br/>&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;PermissionError:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.warning(f&#x27;Permission&nbsp;denied:&nbsp;{file_path}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tree&nbsp;=&nbsp;ast.parse(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;SyntaxError:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.warning(f&#x27;Syntax&nbsp;error&nbsp;in&nbsp;file:&nbsp;{file_path}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor&nbsp;=&nbsp;CodeVisitor(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor.analyze(tree)<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;=&nbsp;{&#x27;file_info&#x27;:&nbsp;visitor.file_info,&nbsp;&#x27;functions&#x27;:&nbsp;visitor.functions,&nbsp;&#x27;classes&#x27;:&nbsp;visitor.classes}<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;internal_code_graph&#x27;]&nbsp;=&nbsp;code_graph(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;entire_code_graph&#x27;]&nbsp;=&nbsp;code_graph(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;],&nbsp;internal_only=False)<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]&nbsp;=&nbsp;json.dumps(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]).replace(&#x27;&quot;&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;file_details</td><td>1. &#x27;Code&#x27;: This is a piece of code written in Python which has been read from a specified file path using an open() context manager with encoding as &#x27;utf-8&#x27;. The try-except block catches the PermissionError exception when the user does not have permission to access the file, while another catch block handles SyntaxError where there are syntax errors within the code.<br/><br/>2. &#x27;Tree&#x27;: This is an abstract syntax tree that Python&#x27;s built-in ast module can parse into a representation of your code as a tree data structure. <br/><br/>3. &#x27;Visitor&#x27;: A class defined in py2dataset.get_python_file_details.py, CodeVisitor, which extends the NodeVisitor class from the ast module. This visitor walks through every node (like an element or a method) in the parsed Tree and performs operations on them as per the specific needs of this function (&#x27;analyze()&#x27;).<br/><br/>4. &#x27;File Details&#x27;: This is a dictionary containing different sections related to information about the Python file, such as its functions and classes. The &#x27;file_info&#x27; section contains information such as creation date, last modification time, line count etc., while &#x27;functions&#x27; and &#x27;classes&#x27; contain dictionaries with details of each respective function or class in the code.<br/><br/>The purpose of these variables is to extract different types of data from a given Python file. They are used throughout this function to create relevant summary reports and visualizations about the file&#x27;s structure, code quality, etc., that will be used for further processing. The returned &#x27;file_details&#x27; dictionary is then used in the main program or API to process these details based on user requirements.</td></tr><tr><td>What is the purpose and usage of each of these variables: &#x27;keyword, node_type_to_keyword&#x27; defined in the class: &#x27;ControlFlowVisitor&#x27; in the Python file: &#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>class&nbsp;ControlFlowVisitor(ast.NodeVisitor):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;This&nbsp;class&nbsp;inherits&nbsp;from&nbsp;ast.NodeVisitor&nbsp;and&nbsp;is&nbsp;used&nbsp;to&nbsp;visit&nbsp;nodes&nbsp;in&nbsp;the<br/>&nbsp;&nbsp;&nbsp;&nbsp;AST&nbsp;(Abstract&nbsp;Syntax&nbsp;Tree).It&nbsp;extracts&nbsp;control&nbsp;flow&nbsp;keywords&nbsp;to&nbsp;give&nbsp;a&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;high-level&nbsp;understanding&nbsp;of&nbsp;the&nbsp;program&nbsp;flow.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_type_to_keyword&nbsp;(dict):&nbsp;A&nbsp;dictionary&nbsp;mapping&nbsp;AST&nbsp;node&nbsp;types&nbsp;to&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;corresponding&nbsp;control&nbsp;flow&nbsp;keywords.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;control_flow&nbsp;(list):&nbsp;A&nbsp;list&nbsp;storing&nbsp;the&nbsp;sequence&nbsp;of&nbsp;control&nbsp;flow&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;keywords&nbsp;encountered&nbsp;in&nbsp;the&nbsp;AST.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;__init__():&nbsp;Initializes&nbsp;a&nbsp;new&nbsp;instance&nbsp;of&nbsp;the&nbsp;class,&nbsp;setting&nbsp;up&nbsp;the<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;control&nbsp;flow&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generic_visit(node):&nbsp;Method&nbsp;to&nbsp;visit&nbsp;a&nbsp;node.&nbsp;If&nbsp;the&nbsp;node&nbsp;type&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;corresponds&nbsp;to&nbsp;a&nbsp;control&nbsp;flow&nbsp;keyword,&nbsp;it&nbsp;is&nbsp;added&nbsp;to&nbsp;the&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;control_flow&nbsp;list.&nbsp;The&nbsp;method&nbsp;then&nbsp;calls&nbsp;the&nbsp;inherited<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generic_visit&nbsp;to&nbsp;continue&nbsp;visiting&nbsp;other&nbsp;nodes.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;get_control_flow():&nbsp;Returns&nbsp;a&nbsp;string&nbsp;representing&nbsp;the&nbsp;control&nbsp;flow&nbsp;of<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;program.&nbsp;The&nbsp;control&nbsp;flow&nbsp;keywords&nbsp;are&nbsp;joined&nbsp;in&nbsp;the&nbsp;order&nbsp;they<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;were&nbsp;encountered&nbsp;during&nbsp;the&nbsp;AST&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;node_type_to_keyword&nbsp;=&nbsp;{ast.If:&nbsp;&#x27;if&#x27;,&nbsp;ast.While:&nbsp;&#x27;while&#x27;,&nbsp;ast.For:&nbsp;&#x27;for&#x27;,&nbsp;ast.AsyncFor:&nbsp;&#x27;for&#x27;,&nbsp;ast.AsyncWith:&nbsp;&#x27;with&#x27;,&nbsp;ast.Try:&nbsp;&#x27;try&#x27;,&nbsp;ast.With:&nbsp;&#x27;with&#x27;,&nbsp;ast.ExceptHandler:&nbsp;&#x27;except&#x27;,&nbsp;ast.FunctionDef:&nbsp;&#x27;def&#x27;,&nbsp;ast.AsyncFunctionDef:&nbsp;&#x27;def&#x27;,&nbsp;ast.ClassDef:&nbsp;&#x27;class&#x27;,&nbsp;ast.Module:&nbsp;&#x27;module&#x27;}<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.control_flow&nbsp;=&nbsp;[]<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;generic_visit(self,&nbsp;node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;keyword&nbsp;=&nbsp;self.node_type_to_keyword.get(type(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;keyword:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;isinstance(node,&nbsp;ast.FunctionDef):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.control_flow.append(keyword&nbsp;+&nbsp;&#x27;&nbsp;&#x27;&nbsp;+&nbsp;node.name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.control_flow.append(keyword)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;super().generic_visit(node)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_control_flow(self):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;&nbsp;-&gt;&nbsp;&#x27;.join(self.control_flow)</td><td>The &#x27;class ControlFlowVisitor(ast.NodeVisitor):...&#x27; is a custom visitor class that inherits from ast.NodeVisitor and it&#x27;s used to visit nodes of Abstract Syntax Tree (AST) during training people and AI language models about Python code. <br/><br/>Let&#x27;s break down each variable defined in the context.<br/><br/>1. &#x27;node_type_to_keyword&#x27;:<br/>   It is a dictionary mapping AST node types to corresponding control flow keywords, specifically: <br/>    - ast.If<br/>    - ast.While<br/>    - ast.For (It covers both regular and asynchronous versions of for loop)<br/>    - ast.AsyncFor (Asynchronous version of For Loop)<br/>    - ast.AsyncWith (Used with asynchronous context managers)<br/>    - ast.Try <br/>    - ast.With <br/>    - ast.ExceptHandler <br/>    - ast.FunctionDef (It includes function definitions, not just methods.) <br/>    - ast.AsyncFunctionDef (Asynchronous Function Definition)<br/>    - ast.ClassDef (Class Definition)<br/>   Each keyword is used as a value in the dictionary and its corresponding node type is used as a key. This provides insight into how control flow statements are defined within Python code.<br/><br/>2. &#x27;control_flow&#x27;: <br/>   It&#x27;s an empty list which stores control flow keywords encountered during AST visit. <br/><br/>3. &#x27;__init__()&#x27;<br/>   Initializes a new instance of the class and initializes `self.control_flow` to be an empty list.<br/><br/>4. &#x27;generic_visit(node)&#x27;<br/>   This method is called whenever we encounter a node in our Abstract Syntax Tree (AST). If the type of the node corresponds with one of the control flow keywords, it adds that keyword into the `self.control_flow`. The inherited generic_visit function then continues to visit other nodes present under the current one.<br/><br/>5. &#x27;get_control_flow()&#x27;:<br/>   This method returns a string which is formed by joining all the control flow keywords encountered in order they were visited, representing the overall program flow.</td></tr><tr><td>What is the purpose and usage of each of these variables: &#x27;function_defs, details, class_defs, attributes, method_defs, node_walk&#x27; defined in the class: &#x27;CodeVisitor&#x27; in the Python file: &#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>class&nbsp;CodeVisitor(ast.NodeVisitor):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Visitor&nbsp;class&nbsp;for&nbsp;traversing&nbsp;an&nbsp;AST&nbsp;(Abstract&nbsp;Syntax&nbsp;Tree)&nbsp;and&nbsp;extracting<br/>&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;about&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;(str):&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;functions(Dict):&nbsp;details&nbsp;about&nbsp;functions&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;classes&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;classes&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_info&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_FunctionDef(node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:&nbsp;Extract&nbsp;details&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_ClassDef(node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;extract_details(node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;analyze(node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:&nbsp;Populate&nbsp;file_info&nbsp;with&nbsp;details&nbsp;about<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;code:&nbsp;str):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.code:&nbsp;str&nbsp;=&nbsp;code<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info:&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class:&nbsp;str&nbsp;=&nbsp;None<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_FunctionDef(self,&nbsp;node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][f&#x27;class_method_{node.name}&#x27;]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;method&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions[node.name]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;function&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_ClassDef(self,&nbsp;node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[node.name]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;class&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;node.name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;None<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;extract_details(self,&nbsp;node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;{f&#x27;{node_type}_name&#x27;:&nbsp;node.name,&nbsp;f&#x27;{node_type}_code&#x27;:&nbsp;ast.unparse(node),&nbsp;f&#x27;{node_type}_ast&#x27;:&nbsp;ast.dump(node,&nbsp;include_attributes=True),&nbsp;f&#x27;{node_type}_docstring&#x27;:&nbsp;ast.get_docstring(node),&nbsp;f&#x27;{node_type}_inputs&#x27;:&nbsp;[arg.arg&nbsp;for&nbsp;arg&nbsp;in&nbsp;node.args.args]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,&nbsp;f&#x27;{node_type}_defaults&#x27;:&nbsp;[ast.unparse(d)&nbsp;for&nbsp;d&nbsp;in&nbsp;node.args.defaults]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,&nbsp;f&#x27;{node_type}_returns&#x27;:&nbsp;[ast.unparse(subnode.value)&nbsp;if&nbsp;subnode.value&nbsp;is&nbsp;not&nbsp;None&nbsp;else&nbsp;&#x27;None&#x27;&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Return)],&nbsp;f&#x27;{node_type}_calls&#x27;:&nbsp;list({ast.unparse(n.func)&nbsp;for&nbsp;n&nbsp;in&nbsp;get_all_calls(node)}),&nbsp;f&#x27;{node_type}_variables&#x27;:&nbsp;list({ast.unparse(target)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Name)}),&nbsp;f&#x27;{node_type}_decorators&#x27;:&nbsp;list({ast.unparse(decorator)&nbsp;for&nbsp;decorator&nbsp;in&nbsp;node.decorator_list}&nbsp;if&nbsp;node.decorator_list&nbsp;else&nbsp;set()),&nbsp;f&#x27;{node_type}_annotations&#x27;:&nbsp;list({ast.unparse(subnode.annotation)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.AnnAssign)&nbsp;and&nbsp;subnode.annotation&nbsp;is&nbsp;not&nbsp;None}),&nbsp;f&#x27;{node_type}_properties&#x27;:&nbsp;list({ast.unparse(subnode)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(subnode.ctx,&nbsp;ast.Store)})}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;class&#x27;&nbsp;or&nbsp;node_type&nbsp;==&nbsp;&#x27;method&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;method&#x27;&nbsp;and&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attributes&nbsp;=&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(target.value,&nbsp;ast.Name)&nbsp;and&nbsp;(target.value.id&nbsp;==&nbsp;&#x27;self&#x27;)]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;class_attributes&#x27;&nbsp;in&nbsp;self.classes[self.current_class]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][&#x27;class_attributes&#x27;].extend(attributes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][&#x27;class_attributes&#x27;]&nbsp;=&nbsp;attributes<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details.update({&#x27;class_attributes&#x27;:&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)],&nbsp;&#x27;class_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;],&nbsp;&#x27;class_inheritance&#x27;:&nbsp;[ast.unparse(base)&nbsp;for&nbsp;base&nbsp;in&nbsp;node.bases]&nbsp;if&nbsp;node.bases&nbsp;else&nbsp;[],&nbsp;&#x27;class_static_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;&nbsp;and&nbsp;any((isinstance(decorator,&nbsp;ast.Name)&nbsp;and&nbsp;decorator.id&nbsp;==&nbsp;&#x27;staticmethod&#x27;&nbsp;for&nbsp;decorator&nbsp;in&nbsp;subnode.decorator_list))]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;details<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;analyze(self,&nbsp;node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info&nbsp;=&nbsp;{&#x27;file_code&#x27;:&nbsp;self.code,&nbsp;&#x27;file_ast&#x27;:&nbsp;ast.dump(node),&nbsp;&#x27;file_dependencies&#x27;:&nbsp;list({alias.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Import)&nbsp;for&nbsp;alias&nbsp;in&nbsp;subnode.names}&nbsp;|&nbsp;{subnode.module&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.ImportFrom)}),&nbsp;&#x27;file_functions&#x27;:&nbsp;list(self.functions.keys()),&nbsp;&#x27;file_classes&#x27;:&nbsp;list(self.classes.keys()),&nbsp;&#x27;file_control_flow&#x27;:&nbsp;get_control_flow(self.code)}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_defs&nbsp;=&nbsp;[{func_name:&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;function_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;function_calls&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;function_returns&#x27;]}}&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;self.functions.items()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;self.classes.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;details&nbsp;in&nbsp;class_details.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;method_name.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs[method_name[len(&#x27;class_method_&#x27;):]]&nbsp;=&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;method_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;method_calls&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;method_returns&#x27;]}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs.append({class_name:&nbsp;{&#x27;method_defs&#x27;:&nbsp;method_defs}})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&#x27;file_summary&#x27;]&nbsp;=&nbsp;{&#x27;dependencies&#x27;:&nbsp;self.file_info[&#x27;file_dependencies&#x27;],&nbsp;&#x27;function_defs&#x27;:&nbsp;function_defs,&nbsp;&#x27;class_defs&#x27;:&nbsp;class_defs}</td><td>The purpose and usage of each variable is as follows:<br/>- `function_defs` (Dict[str, Dict]):<br/>    - The keys are function names defined in the python code. For instance, if there&#x27;s a method named &#x27;sum&#x27; in your class then it would be `&#x27;sum&#x27;: {&#x27;inputs&#x27;: [&#x27;num1&#x27;, &#x27;num2&#x27;], &#x27;calls&#x27;: [], &#x27;returns&#x27;: [&#x27;return num1 + num2&#x27;]}`<br/>- `details` (Dict):<br/>    - Contains all the details of a specific function or class defined by its type (&#x27;function_name&#x27; for functions and &#x27;class_name&#x27; for classes). For instance, if you have a method called &#x27;sum&#x27;, then it would contain `&#x27;method_inputs&#x27;: [&#x27;num1&#x27;, &#x27;num2&#x27;]`, `&#x27;method_calls&#x27;: []` etc.<br/>- `class_defs` (List[Dict]):<br/>    - Contains details of each class in the python code. Each dictionary contains all methods defined within that class and their respective inputs, returns &amp; calls information. For instance, if there&#x27;s a class &#x27;Car&#x27;, which has method called &#x27;drive&#x27; then it would be `{ &#x27;Car&#x27;: { &#x27;method_defs&#x27;: {&#x27;drive&#x27;: {&#x27;inputs&#x27;: [&#x27;speed&#x27;], &#x27;calls&#x27;: [], &#x27;returns&#x27;: []} } }}`<br/>- `attributes`:<br/>    - It is an array containing all attributes or instance variables defined within the class. For example, if there&#x27;s a variable named &#x27;num_cars&#x27; in your Car class then it would be `[ &#x27;num_cars&#x27;]`. This will only contain values when analyzing methods of classes (since attributes are considered for each class).<br/>- `method_defs` (Dict[str, Dict]):<br/>    - The keys are method names defined within a specific class. For example, if there&#x27;s a method named &#x27;drive&#x27; in your Car class then it would be `&#x27;drive&#x27;: {&#x27;inputs&#x27;: [&#x27;speed&#x27;], &#x27;calls&#x27;: [], &#x27;returns&#x27;: []}`. This will only contain values when analyzing methods of classes (since attributes are considered for each class).<br/>- `node_walk` (List):<br/>    - A list containing all nodes within the AST. The ast module provides a method walk() which generates an iterator that visits every node in the Abstract Syntax Tree in postorder, but it doesn&#x27;t return anything. This is because there can be many instances where you might want to visit each node differently depending on its type and context. Hence, while `node_walk` could potentially contain any AST nodes, we will use it later when extracting specific types of information from the code such as variables being assigned, function calls made, control flow, etc.</td></tr>
                </tbody>
            </table>
        </body>
        </html>
        